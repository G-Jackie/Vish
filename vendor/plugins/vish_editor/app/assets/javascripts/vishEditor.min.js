var i18n={vish:{es:{"i.walk1":"Puedes utilizar el icono tutorial","i.walk2":'durante las secciones de la aplicaci\u00f3n para servirte de ayuda a la hora de utilizar el "ViSH Editor". De esta manera podr\u00e1s aprender a utilizar el programa desde sus funciones b\u00e1sicas hasta la publicaci\u00f3n final de tu excursi\u00f3n. Pulsa "Siguiente" para continuar.',"i.walk3":'Este espacio te permite a\u00f1adir el t\u00edtulo de tu excursi\u00f3n.El t\u00edtulo de la excursi\u00f3n es obligatorio ya que gracias a el, otros usuarios podr\u00e1n encontrarla mas f\u00e1cilmente dentro del ViSH. Pulsa "Siguiente" para continuar.',
"i.walk4":'En este espacio puedes explicar en mas detalle los conceptos e ideas de tu excursi\u00f3n, as\u00ed como los datos que consideres interesantes para que los usuarios sepan el contenido de esta. Pulsa "Siguiente" para continuar.',"i.walk5":'A\u00f1ade palabras que vayan acorde con el tema de tu excursi\u00f3n para que esta aparezca a la hora de que los usuarios busquen temas dentro del ViSH. Pulsa "Siguiente" para continuar.',"i.walk6":'Escoge una de estas im\u00e1genes para representar tu excursi\u00f3n dentro del ViSH.Utiliza las flechas de los laterales o los circulos en la parte inferior de la galer\u00eda para ver todas las im\u00e1genes y escoger una. Pulsa "Siguiente" para continuar.',
"i.walk7":'Una vez que cierres el tutorial pulsando el bot\u00f3n "cerrar", haz clic en el bot\u00f3n continuar situado debajo de este. De esta manera salvaras los detalles de tu excursi\u00f3n y podr\u00e1s comenzar a a\u00f1adir contenido a esta.',"i.walk8":'Bienvenido, este es el escritorio de ViSH Editor, desde aqu\u00ed, aprender\u00e1s a realizar excursiones paso a paso. Pulsa "Siguiente" para continuar.',"i.walk9":'En esta zona podr\u00e1s ver las opciones principales para crear y editar una excursi\u00f3n virtual dentro de ViSH. Pulsa "Siguiente" para continuar.',
"i.walk10":'Haciendo clic en este bot\u00f3n, podr\u00e1s volver a ver la pantalla principal donde a\u00f1adiste la informaci\u00f3n a tu excursi\u00f3n. Pulsa "Siguiente" para continuar.',"i.walk11":'Esta zona se utiliza para definir el paginado de tu excursi\u00f3n, a trav\u00e9s de esta secci\u00f3n podr\u00e1s crear, moverte y editar cualquiera de las paginas de tu excursi\u00f3n. Pulsa "Siguiente" para continuar.',"i.walk12":'A Trav\u00e9s de este bot\u00f3n podr\u00e1s salvar y publicar tus excursiones en ViSH. Pulsa "Siguiente" para continuar.',
"i.walk13":'Este icono te llevar\u00e1 a la ventana de selecci\u00f3n de plantillas para a\u00f1adir paginas a tu excursi\u00f3n. Cuando a\u00f1adas una nueva p\u00e1gina te aparecer\u00e1 a modo de icono en la l\u00ednea de tiempo para mostrarte su ubicaci\u00f3n dentro del paginado de la excursi\u00f3n. Pulsa "Cerrar" para continuar.',"i.walk14":'Esta zona te ofrece una variedad de plantillas para a\u00f1adir a tu excursi\u00f3n. Solo tienes que hacer clic en la miniatura que m\u00e1s se ajuste a la informaci\u00f3n que quieras transmitir. Pulsa "Cerrar" para continuar.',
"i.walk15":"Para rellenar la plantilla que has escogido, solo tienes que hacer clic en los espacios grises de esta. Si haces click dentro, te aparecer\u00e1n los siguientes iconos:","i.walk16":"Si haces clic en uno de estos iconos (dependiendo de que tipo de contenido quieras a\u00f1adir a esa zona), te aparecer\u00e1 otra ventana que te ayudar\u00e1 en esta tarea, a excepci\u00f3n del icono de texto, que mostrar\u00e1 una barra en la zona superior con herramientas para tratar tu tipograf\u00eda y definir el estilo de texto.",
"i.walk17":"Una vez hayas rellenado una zona gris con contenido, podr\u00e1s editarla volviendo a hacer clic en el espacio que contiene el contenido. En caso de que quieras borrar este contenido puedes hacer clic en el icono inferior derecho de cada zona gris rellena con contenido:","i.walk18":"Si quisieras borrar una plantilla o cerrar ventanas en la aplicaci\u00f3n, deber\u00e1s usar el icono superior derecho:","i.walk19":'Si necesitas cualquier otra ayuda con el contenido, siempre puedes utilizar los iconos "tutorial".',
"i.walk20":"Esta ventana te ayudar\u00e1 a la hora de a\u00f1adir im\u00e1genes. Como puedes ver en la zona superior tienes las siguientes opciones:","i.walk21":"(a\u00f1adir imagen desde un enlace)","i.walk22":"(a\u00f1adir imagen subi\u00e9ndola al repositorio)","i.walk23":"(a\u00f1adir imagen desde el repositorio)","i.walk24":"(a\u00f1adir imagen desde flickr)","i.walk25":'Ahora estas en la secci\u00f3n Url. Pulsa "Siguiente" para continuar.',"i.walk26":"Este espacio esta reservado para escribir o pegar un enlace que contenga una imagen, por ejemplo:",
"i.walk27":'Los formatos de imagen soportados por la aplicaci\u00f3n son muy variados (jpg, tiff, png, etc...) Una vez hayas rellenado el espacio, haz clic en el bot\u00f3n "previsualizar".Haz clic en "Continuar".',"i.walk28":'Esta zona te mostrar\u00e1 el contenido que has subido antes de a\u00f1adirlo a la presentaci\u00f3n, de esta manera puedes comprobarlo. Una vez est\u00e9s listo, haz clic en el bot\u00f3n de a\u00f1adir contenido (Este bot\u00f3n aparecer\u00e1 cuando pulses el bot\u00f3n previsualizar). Haz clic en "cerrar" para terminar este tutorial.',
"i.walk29":'Pulsa en examinar para acceder a una nueva ventana y buscar un archivo en tu disco duro.Una vez lo hayas elegido, haz click en el bot\u00f3n "previsualizar.Haz clic en "Continuar".',"i.walk30":'En este espacio puedes buscar im\u00e1genes dentro del repositorio. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda de im\u00e1genes de las cuales solo debes pulsar encima de una de ellas para a\u00f1adirla a tu presentaci\u00f3n..Haz clic en "cerrar" para terminar este tutorial.',
"i.walk31":'En este espacio puedes buscar im\u00e1genes en la pagina Flickr. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda de im\u00e1genes de las cuales solo debes pulsar encima de una de ellas para a\u00f1adirla a tu presentaci\u00f3n..Haz clic en "cerrar" para terminar este tutorial.',"i.walk32":"Esta ventana te ayudar\u00e1 a la hora de a\u00f1adir contenidos Object. Como puedes ver en la zona superior tienes las siguientes opciones:","i.walk33":"(a\u00f1adir contenido desde un enlace)",
"i.walk34":"(a\u00f1adir contenido subi\u00e9ndolo al repositorio)","i.walk35":"(a\u00f1adir contenido desde el repositorio)","i.walk36":'Ahora estas en la secci\u00f3n Embed.Haz clic en "Continuar".',"i.walk37":"Este espacio esta reservado para escribir o pegar un enlace que contenga un contenidos flash, web etc... por ejemplo:","i.walk38":'Una vez hayas rellenado el espacio, haz click en el bot\u00f3n "previsualizar".Haz click en "Continuar".',"i.walk39":'Pulsa en examinar para acceder a una nueva ventana y buscar un archivo en tu disco duro.Una vez lo hayas elegido, haz click en el bot\u00f3n "previsualizar".Haz click en "Continuar".',
"i.walk40":'En este espacio puedes buscar contenido dentro del repositorio. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda de im\u00e1genes de las cuales solo debes pulsar encima de una de ellas para acceder a una peque\u00f1a ventana con t\u00edtulo y descripci\u00f3n mas detallada del contenido que te ofrecer\u00e1 la posibilidad de a\u00f1adir el contenido. Solo debes pulsar ese bot\u00f3n para realizar esa tarea..Haz click en "cerrar" para terminar este tutorial.',
"i.walk41":"Esta ventana te ayudar\u00e1 a la hora de a\u00f1adir im\u00e1genes. Como puedes ver en la zona superior tienes las siguientes opciones:","i.walk42":"(a\u00f1adir v\u00eddeo desde un enlace)","i.walk43":"(a\u00f1adir v\u00eddeo desde el repositorio)","i.walk44":"(a\u00f1adir v\u00eddeo desde youtube)","i.walk45":"(a\u00f1adir v\u00eddeo desde vimeo)","i.walk46":'Ahora estas en la secci\u00f3n Url.Haz click en "Continuar".',"i.walk47":"Este espacio esta reservardo para escribir o pegar un enlace que contenga una imagen, por ejemplo:",
"i.walk48":'Los formatos de v\u00eddeo soportados por la aplicaci\u00f3n son muy variados (avi, flv, mpg...).Una vez hayas rellenado el espacio, haz click en el bot\u00f3n "previsualizar".Haz click en "Continuar".',"i.walk49":'En este espacio puedes buscar v\u00eddeos dentro del repositorio. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda de v\u00eddeos de las cuales solo debes pulsar encima de uno de ellas para acceder a una peque\u00f1a ventana con t\u00edtulo y descripci\u00f3n mas detallada del contenido que te ofrecera la posibilidad de a\u00f1adir el v\u00eddeo. Solo debes pulsar ese bot\u00f3n para realizar esa tarea..Haz click en "cerrar" para terminar este tutorial.',
"i.walk50":'En este espacio puedes buscar v\u00eddeos dentro de youtube. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda de v\u00eddeos de las cuales solo debes pulsar encima de uno de ellas para acceder a una peque\u00f1a ventana con t\u00edtulo y descripci\u00f3n mas detallada del contenido que te ofrecera la posibilidad de a\u00f1adir el v\u00eddeo. Solo debes pulsar ese bot\u00f3n para realizar esa tarea..Haz click en "cerrar" para terminar este tutorial.',
"i.walk51":'En este espacio puedes buscar v\u00eddeos dentro de vimeo. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda de v\u00eddeos de las cuales solo debes pulsar encima de uno de ellas para acceder a una peque\u00f1a ventana con t\u00edtulo y descripci\u00f3n mas detallada del contenido que te ofrecera la posibilidad de a\u00f1adir el v\u00eddeo. Solo debes pulsar ese bot\u00f3n para realizar esa tarea..Haz click en "cerrar" para terminar este tutorial.',
"i.walk52":"Esta ventana te ayudar\u00e1 a la hora de a\u00f1adir contenido en directo. Como puedes ver en la zona superior tienes de momento la siguiente opci\u00f3n:","i.walk53":"(a\u00f1adir v\u00eddeo desde una camara en directo)","i.walk54":'Ahora estas en la secci\u00f3n Webcam. Haz click en "Continuar"',"i.walk55":'En este espacio puedes buscar contenido en directo dentro del repositorio. Solamente escribe lo que busques y en la zona inferior te aparecer\u00e1 una galer\u00eda, desde la cual solo debes pulsar encima del contenido para acceder a una peque\u00f1a ventana con t\u00edtulo y descripci\u00f3n mas detallada del contenido que te ofrecera la posibilidad de a\u00f1adirlo. Solo debes pulsar ese bot\u00f3n para realizar esa tarea..Haz click en "cerrar" para terminar este tutorial.',
"i.walk56":"Una Flashcard es una aplicaci\u00f3n que te ayudar\u00e1 a representar tu excursi\u00f3n como una infograf\u00eda, usando una imagen para representar el concepto de la misma y marcando las zonas para que el usuario interactue con ellas de manera que pueda visualizar las paginas de la excursi\u00f3n.","i.walk57":"Primero, utiliza estos iconos para a\u00f1adir una imagen de fondo.","i.walk58":"Puedes a\u00f1adir im\u00e1genes por:","i.walk59":"Una vez hecho esto, puedes arrastrar las flechas de la zona inferior hacia la flashcard para marcar la zona de cada p\u00e1gina dentro de esta",
"i.walk60":"Puedes previsualizar la flashcard en cualquier momento utilizando el icono de previsualizar.","i.walk61":"Si salvas tu presentaci\u00f3n como una flashcard, se mostrar\u00e1 como tal, pero en cualquier momento puedes editarla y mostrarla como una presentaci\u00f3n normal de nuevo.","i.walk62":"Haciendo click en este bot\u00f3n, podr\u00e1s previsualizar tu excursi\u00f3n como si ya estuviese publicada.","i.walk63":"Este bot\u00f3n te permitir\u00e1 escojer entre varias opciones para tu excursion:",
"i.walk64":"Utilizando este menu puedes salvar tu excursi\u00f3n, convertir tu presentaci\u00f3n a flashcard, previsualizar tu excursi\u00f3n antes de publicarla, cambiar los detalles de tu excursi\u00f3n y utilizar este tutorial cada vez que lo necesites","i.walk65":"Muchas de estas opciones est\u00e1n en el espacio de ViSH Editor, pero siempre podr\u00e1s encontrarlas aqu\u00ed de igual manera.","i.walk66":"Utilizando este bot\u00f3n  podr\u00e1s visualizar el tutorial principal de la aplicaci\u00f3n ViSH Editor",
"i.walk67":"Utilizando este bot\u00f3n acceder\u00e1s a la selecci\u00f3n de un tema visual para representar tu excursi\u00f3n.","i.walk68":"Este espacio contiene todas las opciones para interactuar con tu contenido:","i.walk69":"Todas las veces en las que a\u00f1adas o selecciones contenido en tu excursi\u00f3n, esta barra de herramientas se activar\u00e1 para que puedas interacturar con tu contenido.","i.walk70":"Escoje entre los diferentes temas que m\u00e1s representen tu excursi\u00f3n. La primera linea de temas contiene degradados y colores vibrantes, la segunda linea esta compuesta por texturas suaves, la ultima linea imita los objectos de la vida real y por \u00faltimo, el \u00faltimo tema contiene una suave animaci\u00f3n para darle a tu excursi\u00f3n un toque especial. \u00a1Disfr\u00fatalos!",
"i.walk71":"(A\u00f1adir p\u00e1gina web)","i.walk72":"(A\u00f1adir Captura de p\u00e1gina web)","i.walk73":"A\u00f1adir p\u00e1gina web","i.walk74":"A\u00f1adir Captura de p\u00e1gina web","i.walk75":'Esta zona te ofrece una variedad de Quizes para a\u00f1adir a tu excursi\u00f3n. Solo tienes que hacer clic en la miniatura que m\u00e1s se ajuste a la informaci\u00f3n que quieras transmitir. Pulsa "Cerrar" para continuar.',"i.link":"A\u00f1adir url","i.resize":"Redimensionar","i.flashcardbg":"Fondo de flashcard",
"i.text":"Texto","i.themesButton":"ViSH Editor Themes","i.toolbarButton":"Barra de herramientas","i.themesTitle":"Selecci\u00f3n de temas","i.pic.add":"a\u00f1adir URL de imagen","i.browserrequirements":"El navegador que estas utilizando no cumple los requisitos minimos para utilizar esta aplicaci\u00f3n. Por favor, actualiza tu navegador","i.accept":"aceptar","i.Add":"A\u00f1adir","i.add":"a\u00f1adir","i.AddContent":"A\u00f1adir Contenido","i.AddSlide":"A\u00f1adir bot\u00f3n de nueva slide","i.Addv\u00eddeoUrl":"a\u00f1adir URL de v\u00eddeo",
"i.AddTags":"A\u00f1ade tags a tu excursi\u00f3n","i.AddSlideContent":"A\u00f1adiendo contenido a una slide","i.AddObjectContent":"A\u00f1adiendo contenido Object","i.AddObjectContentUpload":"Subiendo contenido Object","i.AddObjectContentUrl":"A\u00f1adiendo contenido Object por url","i.AddImagesContent":"A\u00f1adiendo im\u00e1genes","i.AddImagesContentUrl":"A\u00f1adiendo im\u00e1genes por url","i.AddImagesContentUpload":"Subiendo im\u00e1genes","i.Addv\u00eddeoContent":"A\u00f1adiendo v\u00eddeo",
"i.Addv\u00eddeoContentUrl":"A\u00f1adiendo v\u00eddeo por url","i.AddLiveContent":"A\u00f1adiendo Contenido en Directo","i.age_range":"Rango de edad","i.sure":"\u00bfest\u00e1 seguro?","i.cancel":"cancelar","i.closeOrDelete":"Borrar o Cerrar","i.close":"cerrar","i.Close":"Cerrar","i.Competencies":"Competencias adquiridas","i.CompetenciesPlaceholder":"Describa aqu\u00ed las competencias que los estudiantes adquirir\u00e1n con esta excursi\u00f3n","i.continue":"Continuar","i.Content":"Contenido","i.done":"Hecho",
"i.oneSlideAlert":"Debe crear al menos una slide antes de salvar","i.thumbnailsChoosing":"Elige una imagen que representar\u00e1 tu excursi\u00f3n","i.configButton":"Bot\u00f3n de configuraci\u00f3n","i.delete":"borrar","i.deleteContent":"Borrar contenido","i.presDescriptionPlaceHolder":"Describa la excursi\u00f3n en unas palabras","i.Description":"Descripci\u00f3n","i.Editdetails":"Editar detalles","i.Educational":"Objetivos educacionales","i.EducationalPlaceholder":"Describa aqu\u00ed los objetivos educacionales de la excursi\u00f3n",
"i.Flashcard":"Flashcard","i.Flashcards":"Flashcards","i.presTitle":"T\u00edtulo de la excursi\u00f3n","i.tutorialButton":"Bot\u00f3n de tutorial","i.previewButton":"Bot\u00f3n de previsualizaci\u00f3n","i.menuButton":"Men\u00fa de ViSH Editor","i.objectContent":"Contenido Flash","i.Image":"Imagen","i.Images":"Im\u00e1genes","i.Insert":"Insertar","i.v\u00eddeo":"v\u00eddeo","i.v\u00eddeos":"v\u00eddeos","i.Text":"Texto","i.Object":"Objeto","i.language":"Idioma","i.Live":"Contenidos en directo","i.writeTitle":"Escribamos un t\u00edtulo (obligatorio)",
"i.no":"no","i.No":"No","i.next":"siguiente","i.Next":"Siguiente","i.OK":"OK","i.enterTitle":"Por favor, introduzca un t\u00edtulo","i.preview":"Vista previa","i.save":"guardar","i.Save":"Guardar","i.SaveButton":"Bot\u00f3n de salvar","i.SaveSlides":"Salvar las diapositivas","i.SavePresentationDetails":"Salva los detalles de tu excursi\u00f3n","i.SearchContent":"Buscar contenido","i.SearchObjectContent":"Buscar contenido flash","i.SearchImagesFlickr":"Buscar im\u00e1genes en Flickr","i.SearchImagesVish":"Buscar im\u00e1genes en el repositorio ViSH",
"i.Searchv\u00eddeosVimeo":"Buscar v\u00eddeos en Vimeo","i.Searchv\u00eddeosVish":"Buscar v\u00eddeos en el repositorio del ViSH","i.Searchv\u00eddeosYoutube":"Buscar v\u00eddeos en Youtube","i.SearchLiveContent":"Buscar contenido en directo","i.SeeContentBefore":"Puedes ver el contenido antes de a\u00f1adirlo","i.SeeImageBefore":"Puedes ver las im\u00e1genes antes de a\u00f1adirlas","i.Seev\u00eddeoBefore":"Puedes ver el v\u00eddeo antes de a\u00f1adirlo","i.selectPicture":"Seleccionar imagen para subir",
"i.selectObject":"Seleccionar archivo swf para subir","i.selectSlide":"Seleccionando una slide","i.selectTheme":"Seleccionar tema","i.selectquiz":"Seleccionar Quiz","i.slidesmenu":"Este es el menu de slides","i.Subject":"Tema","i.TeachingGuidelines":"Orientaciones did\u00e1cticas","i.Title":"T\u00edtulo","i.thisIsVishEditor":"\u00a1Esto es el ViSH Editor!","i.thisIsToolsMenu":"Esto es el men\u00fa de herramientas","i.welcomeVishEditor":"\u00a1Bienvenidos a ViSH Editor!","i.Url":"Enlace","i.url":"Enlace",
"i.Upload":"Subir","i.OwnImages":"Subir tus propias im\u00e1genes","i.upload":"Subir","i.Thumbnail":"Miniatura","i.WriteDescription":"Escribe una descripci\u00f3n (opcional)","i.ConvertTo":"Convertir a","i.Settings":"Ajustes","i.Help":"Ayuda","i.ExportAs":"Exportar como","i.File":"Archivo","i.Presentation":"Presentaci\u00f3n","i.WysiwygInit":"Insertar texto aqu\u00ed","i.embedObject":"embeber objeto","i.embedWebsites":"embeber web","i.html5App":"Aplicaci\u00f3n HTML5","i.Game":"Juego","i.vExperiment":"Experimento virtual",
"i.changeBackground":"Cambiar fondo","i.Microscopes":"Microscopios","i.AddTags":"A\u00f1adir etiquetas","i.limitReached":"limite alcanzado","i.Templates":"Plantillas","i.Author":"Autor","i.draft":"Borrador","i.publish":"Publicar","i.wysiwyg.addurl":"A\u00f1adir enlace","i.exitConfirmation":"Vas a abandonar esta pagina. Se perder\u00e1n todos los cambios que no hayas salvado.","i.Remove":"Borrar"},"default":{"i.Author":"Author","i.AddTags":"Add tags","i.Add":"Add","i.add":"add","i.WysiwygInit":"Insert text here",
"i.SearchContent":"Search Content","i.Description":"Description","i.limitReached":"limit reached","i.wysiwyg.addurl":"Add link","i.Title":"T\u00edtulo","i.exitConfirmation":"You are about to leave this website. You will lose any changes you have not saved."}},standalone:{es:{"i.save":"Standalone"},"default":{"i.save":"Standalone"}}};var VISH=VISH||{};VISH.Mods||(VISH.Mods={});VISH.VERSION="0.2";VISH.AUTHORS="GING";VISH.Editing=!1;VISH.Constant=VISH.Constant||{};VISH.Constant.Edit="Editor";VISH.Constant.Viewer="Viewer";VISH.Constant.AnyMode="Both";VISH.Constant.UA_IE="Microsoft Internet Explorer";VISH.Constant.UA_NETSCAPE="Netscape";VISH.Constant.IE="Internet Explorer";VISH.Constant.FIREFOX="Mozilla Firefox";VISH.Constant.CHROME="Google Chrome";VISH.Constant.UNKNOWN="Unknown";VISH.Constant.NOSERVER="noserver";VISH.Constant.VISH="vish";VISH.Constant.STANDALONE="node";VISH.Constant.EXTRA_SMALL="extra-small";
VISH.Constant.SMALL="small";VISH.Constant.MEDIUM="medium";VISH.Constant.LARGE="large";VISH.Constant.AGE_RANGE="4 - 20";VISH.Constant.PRESENTATION="presentation";VISH.Constant.FLASHCARD="flashcard";VISH.Constant.GAME="game";VISH.Constant.QUIZ="quiz";VISH.Constant.QUIZ_SIMPLE="quiz_simple";VISH.Constant.VTOUR="virtualTour";VISH.Constant.STANDARD="standard";VISH.Constant.IMAGE="image";VISH.Constant.TEXT="text";VISH.Constant.VIDEO="video";VISH.Constant.OBJECT="object";VISH.Constant.SNAPSHOT="snapshot";
VISH.Constant.THUMBNAIL="thumbnail";VISH.Constant.NONE="none";VISH.Constant.Video={};VISH.Constant.Video.HTML5="HTML5";VISH.Constant.Video.Youtube="Youtube";VISH.Constant.Clipboard={};VISH.Constant.Clipboard.Slide="slide";VISH.Constant.Event={};VISH.Constant.Event.onMessage="onMessage";VISH.Constant.Event.onGoToSlide="onGoToSlide";VISH.Constant.Event.onPlayVideo="onPlayVideo";VISH.Constant.Event.onPauseVideo="onPauseVideo";VISH.Constant.Event.onSeekVideo="onSeekVideo";
VISH.Constant.Event.onFlashcardPointClicked="onFlashcardPointClicked";VISH.Constant.Event.onFlashcardSlideClosed="onFlashcardSlideClosed";VISH.Constant.Event.onSetSlave="onSetSlave";VISH.Constant.Event.onPreventDefault="onPreventDefault";VISH.Constant.Event.allowExitWithoutConfirmation="allowExitWithoutConfirmation";(function(b,a){function c(a){return j.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function d(a){if(!eb[a]){var b=y.body,c=j("<"+a+">").appendTo(b),d=c.css("display");c.remove();if("none"===d||""===d){ra||(ra=y.createElement("iframe"),ra.frameBorder=ra.width=ra.height=0);b.appendChild(ra);if(!Fa||!ra.createElement)Fa=(ra.contentWindow||ra.contentDocument).document,Fa.write((j.support.boxModel?"<!doctype html>":"")+"<html><body>"),Fa.close();c=Fa.createElement(a);Fa.body.appendChild(c);
d=j.css(c,"display");b.removeChild(ra)}eb[a]=d}return eb[a]}function f(a,b){var c={};j.each(Ra.concat.apply([],Ra.slice(0,b)),function(){c[this]=a});return c}function e(){Sa=a}function g(){setTimeout(e,0);return Sa=j.now()}function l(){try{return new b.XMLHttpRequest}catch(a){}}function h(a,b,c,d){if(j.isArray(b))j.each(b,function(b,ma){c||ac.test(a)?d(a,ma):h(a+"["+("object"==typeof ma?b:"")+"]",ma,c,d)});else if(!c&&"object"===j.type(b))for(var e in b)h(a+"["+e+"]",b[e],c,d);else d(a,b)}function n(b,
c){var d,e,f=j.ajaxSettings.flatOptions||{};for(d in c)c[d]!==a&&((f[d]?b:e||(e={}))[d]=c[d]);e&&j.extend(!0,b,e)}function o(b,c,d,e,f,g){f=f||c.dataTypes[0];g=g||{};g[f]=!0;for(var f=b[f],j=0,h=f?f.length:0,n=b===fb,m;j<h&&(n||!m);j++)m=f[j](c,d,e),"string"==typeof m&&(!n||g[m]?m=a:(c.dataTypes.unshift(m),m=o(b,c,d,e,m,g)));(n||!m)&&!g["*"]&&(m=o(b,c,d,e,"*",g));return m}function m(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");if(j.isFunction(c))for(var d=b.toLowerCase().split(ub),e=0,
f=d.length,g,h;e<f;e++)g=d[e],(h=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=a[g]=a[g]||[],g[h?"unshift":"push"](c)}}function p(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?1:0;if(0<d){if("border"!==c)for(;4>e;e+=2)c||(d-=parseFloat(j.css(a,"padding"+xa[e]))||0),"margin"===c?d+=parseFloat(j.css(a,c+xa[e]))||0:d-=parseFloat(j.css(a,"border"+xa[e]+"Width"))||0;return d+"px"}d=Ga(a,b);if(0>d||null==d)d=a.style[b];if(gb.test(d))return d;d=parseFloat(d)||0;if(c)for(;4>e;e+=2)d+=parseFloat(j.css(a,
"padding"+xa[e]))||0,"padding"!==c&&(d+=parseFloat(j.css(a,"border"+xa[e]+"Width"))||0),"margin"===c&&(d+=parseFloat(j.css(a,c+xa[e]))||0);return d+"px"}function t(a){var b=(a.nodeName||"").toLowerCase();"input"===b?q(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&j.grep(a.getElementsByTagName("input"),q)}function q(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function r(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=
typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function w(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&
(b.value=a.value)),b.removeAttribute(j.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function D(a,b){if(1===b.nodeType&&j.hasData(a)){var c,d,e;d=j._data(a);var f=j._data(b,d),g=d.events;if(g)for(c in delete f.handle,f.events={},g){d=0;for(e=g[c].length;d<e;d++)j.event.add(b,c,g[c][d])}f.data&&(f.data=j.extend({},f.data))}}function x(a){var b=vb.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function C(a,
b,c){b=b||0;if(j.isFunction(b))return j.grep(a,function(a,wa){return!!b.call(a,wa,a)===c});if(b.nodeType)return j.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=j.grep(a,function(a){return 1===a.nodeType});if(bc.test(b))return j.filter(b,d,!c);b=j.filter(b,d)}return j.grep(a,function(a){return 0<=j.inArray(a,b)===c})}function F(){return!0}function B(){return!1}function G(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=j._data(a,d);g&&("queue"===c||!j._data(a,e))&&("mark"===c||
!j._data(a,f))&&setTimeout(function(){!j._data(a,e)&&!j._data(a,f)&&(j.removeData(a,d,!0),g.fire())},0)}function O(a){for(var b in a)if(!("data"===b&&j.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(b,c,d){if(d===a&&1===b.nodeType)if(d="data-"+c.replace(cc,"-$1").toLowerCase(),d=b.getAttribute(d),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:j.isNumeric(d)?+d:dc.test(d)?j.parseJSON(d):d}catch(e){}j.data(b,c,d)}else d=a;return d}var y=b.document,H=b.location,
j,S=function(){if(!A.isReady){try{y.documentElement.doScroll("left")}catch(a){setTimeout(S,1);return}A.ready()}},A=function(a,b){return new A.fn.init(a,b,ea)},aa=b.jQuery,v=b.$,ea,ba=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,V=/\S/,na=/^\s+/,ia=/\s+$/,U=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ja=/^[\],:{}\s]*$/,oa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,P=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,J=/(?:^|:|,)(?:\s*\[)+/g,fa=/(webkit)[ \/]([\w.]+)/,ya=/(opera)(?:.*version)?[ \/]([\w.]+)/,
ua=/(msie) ([\w.]+)/,va=/(mozilla)(?:.*? rv:([\w.]+))?/,R=/-([a-z]|[0-9])/ig,T=/^-ms-/,za=function(a,b){return(b+"").toUpperCase()},s=b.navigator.userAgent,L,ca,M,z=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,E=Array.prototype.push,da=Array.prototype.slice,ga=String.prototype.trim,u=Array.prototype.indexOf,k={};A.fn=A.prototype={constructor:A,init:function(b,c,d){var e,f;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("body"===b&&!c&&y.body)return this.context=
y,this[0]=y.body,this.selector=b,this.length=1,this;if("string"==typeof b){"<"!==b.charAt(0)||">"!==b.charAt(b.length-1)||3>b.length?e=ba.exec(b):e=[null,b,null];if(e&&(e[1]||!c)){if(e[1])return f=(c=c instanceof A?c[0]:c)?c.ownerDocument||c:y,(d=U.exec(b))?A.isPlainObject(c)?(b=[y.createElement(d[1])],A.fn.attr.call(b,c,!0)):b=[f.createElement(d[1])]:(d=A.buildFragment([e[1]],[f]),b=(d.cacheable?A.clone(d.fragment):d.fragment).childNodes),A.merge(this,b);if((c=y.getElementById(e[2]))&&c.parentNode){if(c.id!==
e[2])return d.find(b);this.length=1;this[0]=c}this.context=y;this.selector=b;return this}return!c||c.jquery?(c||d).find(b):this.constructor(c).find(b)}if(A.isFunction(b))return d.ready(b);b.selector!==a&&(this.selector=b.selector,this.context=b.context);return A.makeArray(b,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return da.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=
this.constructor();A.isArray(a)?E.apply(d,a):A.merge(d,a);d.prevObject=this;d.context=this.context;"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return A.each(this,a,b)},ready:function(a){A.bindReady();ca.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(da.apply(this,
arguments),"slice",da.call(arguments).join(","))},map:function(a){return this.pushStack(A.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice};A.fn.init.prototype=A.fn;A.extend=A.fn.extend=function(){var b,c,d,e,f,g,j=arguments[0]||{},h=1,n=arguments.length,m=!1;"boolean"==typeof j&&(m=j,j=arguments[1]||{},h=2);"object"!=typeof j&&!A.isFunction(j)&&(j={});for(n===h&&(j=this,--h);h<n;h++)if(null!=(b=arguments[h]))for(c in b)d=
j[c],e=b[c],j!==e&&(m&&e&&(A.isPlainObject(e)||(f=A.isArray(e)))?(f?(f=!1,g=d&&A.isArray(d)?d:[]):g=d&&A.isPlainObject(d)?d:{},j[c]=A.extend(m,g,e)):e!==a&&(j[c]=e));return j};A.extend({noConflict:function(a){b.$===A&&(b.$=v);a&&b.jQuery===A&&(b.jQuery=aa);return A},isReady:!1,readyWait:1,holdReady:function(a){a?A.readyWait++:A.ready(!0)},ready:function(a){if(!0===a&&!--A.readyWait||!0!==a&&!A.isReady){if(!y.body)return setTimeout(A.ready,1);A.isReady=!0;!0!==a&&0<--A.readyWait||(ca.fireWith(y,[A]),
A.fn.trigger&&A(y).trigger("ready").off("ready"))}},bindReady:function(){if(!ca){ca=A.Callbacks("once memory");if("complete"===y.readyState)return setTimeout(A.ready,1);if(y.addEventListener)y.addEventListener("DOMContentLoaded",M,!1),b.addEventListener("load",A.ready,!1);else if(y.attachEvent){y.attachEvent("onreadystatechange",M);b.attachEvent("onload",A.ready);var a=!1;try{a=null==b.frameElement}catch(c){}y.documentElement.doScroll&&a&&S()}}},isFunction:function(a){return"function"===A.type(a)},
isArray:Array.isArray||function(a){return"array"===A.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):k[z.call(a)]||"object"},isPlainObject:function(b){if(!b||"object"!==A.type(b)||b.nodeType||A.isWindow(b))return!1;try{if(b.constructor&&!Y.call(b,"constructor")&&!Y.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in b);return d===a||Y.call(b,d)},isEmptyObject:function(a){for(var b in a)return!1;
return!0},error:function(a){throw Error(a);},parseJSON:function(a){if("string"!=typeof a||!a)return null;a=A.trim(a);if(b.JSON&&b.JSON.parse)return b.JSON.parse(a);if(ja.test(a.replace(oa,"@").replace(P,"]").replace(J,"")))return(new Function("return "+a))();A.error("Invalid JSON: "+a)},parseXML:function(c){if("string"!=typeof c||!c)return null;var d,e;try{b.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=
a}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&A.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(a){a&&V.test(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(T,"ms-").replace(R,za)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,c,d){var e,f=0,g=b.length,j=g===a||A.isFunction(b);if(d)if(j)for(e in b){if(!1===c.apply(b[e],d))break}else for(;f<g&&!1!==
c.apply(b[f++],d););else if(j)for(e in b){if(!1===c.call(b[e],e,b[e]))break}else for(;f<g&&!1!==c.call(b[f],f,b[f++]););return b},trim:ga?function(a){return null==a?"":ga.call(a)}:function(a){return null==a?"":(a+"").replace(na,"").replace(ia,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=A.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||A.isWindow(a)?E.call(c,a):A.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(u)return u.call(b,a,c);d=b.length;for(c=c?
0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(b,c){var d=b.length,e=0;if("number"==typeof c.length)for(var f=c.length;e<f;e++)b[d++]=c[e];else for(;c[e]!==a;)b[d++]=c[e++];b.length=d;return b},grep:function(a,b,c){for(var d=[],e,c=!!c,f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(b,c,d){var e,f,g=[],j=0,h=b.length;if(b instanceof A||h!==a&&"number"==typeof h&&(0<h&&b[0]&&b[h-1]||0===h||A.isArray(b)))for(;j<h;j++)e=c(b[j],j,
d),null!=e&&(g[g.length]=e);else for(f in b)e=c(b[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(b,c){if("string"==typeof c)var d=b[c],c=b,b=d;if(!A.isFunction(b))return a;var e=da.call(arguments,2),d=function(){return b.apply(c,e.concat(da.call(arguments)))};d.guid=b.guid=b.guid||d.guid||A.guid++;return d},access:function(b,c,d,e,f,g,j){var h,n=null==d,m=0,p=b.length;if(d&&"object"==typeof d){for(m in d)A.access(b,c,m,d[m],1,g,e);f=1}else if(e!==a){h=j===a&&A.isFunction(e);
n&&(h?(h=c,c=function(a,b,c){return h.call(A(a),c)}):(c.call(b,e),c=null));if(c)for(;m<p;m++)c(b[m],d,h?e.call(b[m],m,c(b[m],d)):e,j);f=1}return f?b:n?c.call(b):p?c(b[0],d):g},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=fa.exec(a)||ya.exec(a)||ua.exec(a)||0>a.indexOf("compatible")&&va.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}A.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=
a;a.sub=this.sub;a.fn.init=function(c,d){d&&d instanceof A&&!(d instanceof a)&&(d=a(d));return A.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(y);return a},browser:{}});A.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){k["[object "+b+"]"]=b.toLowerCase()});L=A.uaMatch(s);L.browser&&(A.browser[L.browser]=!0,A.browser.version=L.version);A.browser.webkit&&(A.browser.safari=!0);V.test("\u00a0")&&(na=/^[\s\xA0]+/,ia=/[\s\xA0]+$/);ea=A(y);y.addEventListener?
M=function(){y.removeEventListener("DOMContentLoaded",M,!1);A.ready()}:y.attachEvent&&(M=function(){"complete"===y.readyState&&(y.detachEvent("onreadystatechange",M),A.ready())});j=A;var sa={};j.Callbacks=function(b){var c;if(b){if(!(c=sa[b])){c=b;var d=sa[c]={},e,f;c=c.split(/\s+/);e=0;for(f=c.length;e<f;e++)d[c[e]]=!0;c=d}}else c={};var b=c,g=[],h=[],m,n,p,l,k,o,q=function(a){var c,d,e,f;c=0;for(d=a.length;c<d;c++)e=a[c],f=j.type(e),"array"===f?q(e):"function"===f&&(!b.unique||!r.has(e))&&g.push(e)},
t=function(a,c){c=c||[];m=!b.memory||[a,c];p=n=!0;o=l||0;l=0;for(k=g.length;g&&o<k;o++)if(!1===g[o].apply(a,c)&&b.stopOnFalse){m=!0;break}p=!1;g&&(b.once?!0===m?r.disable():g=[]:h&&h.length&&(m=h.shift(),r.fireWith(m[0],m[1])))},r={add:function(){if(g){var a=g.length;q(arguments);p?k=g.length:m&&!0!==m&&(l=a,t(m[0],m[1]))}return this},remove:function(){if(g)for(var a=arguments,c=0,d=a.length;c<d;c++)for(var e=0;e<g.length&&!(a[c]===g[e]&&(p&&e<=k&&(k--,e<=o&&o--),g.splice(e--,1),b.unique));e++);return this},
has:function(a){if(g)for(var b=0,c=g.length;b<c;b++)if(a===g[b])return!0;return!1},empty:function(){g=[];return this},disable:function(){g=h=m=a;return this},disabled:function(){return!g},lock:function(){h=a;(!m||!0===m)&&r.disable();return this},locked:function(){return!h},fireWith:function(a,c){h&&(p?b.once||h.push([a,c]):(!b.once||!m)&&t(a,c));return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!n}};return r};var Z=[].slice;j.extend({Deferred:function(a){var b=
j.Callbacks("once memory"),c=j.Callbacks("once memory"),d=j.Callbacks("memory"),e="pending",f={resolve:b,reject:c,notify:d},g={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){h.done(a).fail(b).progress(c);return this},always:function(){h.done.apply(h,arguments).fail.apply(h,arguments);return this},pipe:function(a,b,c){return j.Deferred(function(d){j.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,
b){var c=b[0],wa=b[1],e;j.isFunction(c)?h[a](function(){(e=c.apply(this,arguments))&&j.isFunction(e.promise)?e.promise().then(d.resolve,d.reject,d.notify):d[wa+"With"](this===h?d:this,[e])}):h[a](d[wa])})}).promise()},promise:function(a){if(null==a)a=g;else for(var b in g)a[b]=g[b];return a}},h=g.promise({}),m;for(m in f)h[m]=f[m].fire,h[m+"With"]=f[m].fireWith;h.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock);a&&a.call(h,h);return h},when:function(a){function b(a){return function(b){g[a]=
1<arguments.length?Z.call(arguments,0):b;m.notifyWith(n,g)}}function c(a){return function(b){d[a]=1<arguments.length?Z.call(arguments,0):b;--h||m.resolveWith(m,d)}}var d=Z.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,m=1>=f&&a&&j.isFunction(a.promise)?a:j.Deferred(),n=m.promise();if(1<f){for(;e<f;e++)d[e]&&d[e].promise&&j.isFunction(d[e].promise)?d[e].promise().then(c(e),m.reject,b(e)):--h;h||m.resolveWith(m,d)}else m!==a&&m.resolveWith(m,f?[a]:[]);return n}});var Aa=j,Ma;var W,Ha,ka,X,pa,ha,Ba,
Na,Ta,hb,Oa,K=y.createElement("div");K.setAttribute("className","t");K.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";Ha=K.getElementsByTagName("*");ka=K.getElementsByTagName("a")[0];if(!Ha||!Ha.length||!ka)Ma={};else{X=y.createElement("select");pa=X.appendChild(y.createElement("option"));ha=K.getElementsByTagName("input")[0];W={leadingWhitespace:3===K.firstChild.nodeType,tbody:!K.getElementsByTagName("tbody").length,htmlSerialize:!!K.getElementsByTagName("link").length,
style:/top/.test(ka.getAttribute("style")),hrefNormalized:"/a"===ka.getAttribute("href"),opacity:/^0.55/.test(ka.style.opacity),cssFloat:!!ka.style.cssFloat,checkOn:"on"===ha.value,optSelected:pa.selected,getSetAttribute:"t"!==K.className,enctype:!!y.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,
pixelMargin:!0};j.boxModel=W.boxModel="CSS1Compat"===y.compatMode;ha.checked=!0;W.noCloneChecked=ha.cloneNode(!0).checked;X.disabled=!0;W.optDisabled=!pa.disabled;try{delete K.test}catch(Vc){W.deleteExpando=!1}!K.addEventListener&&K.attachEvent&&K.fireEvent&&(K.attachEvent("onclick",function(){W.noCloneEvent=!1}),K.cloneNode(!0).fireEvent("onclick"));ha=y.createElement("input");ha.value="t";ha.setAttribute("type","radio");W.radioValue="t"===ha.value;ha.setAttribute("checked","checked");ha.setAttribute("name",
"t");K.appendChild(ha);Ba=y.createDocumentFragment();Ba.appendChild(K.lastChild);W.checkClone=Ba.cloneNode(!0).cloneNode(!0).lastChild.checked;W.appendChecked=ha.checked;Ba.removeChild(ha);Ba.appendChild(K);if(K.attachEvent)for(hb in{submit:1,change:1,focusin:1})Ta="on"+hb,(Oa=Ta in K)||(K.setAttribute(Ta,"return;"),Oa="function"==typeof K[Ta]),W[hb+"Bubbles"]=Oa;Ba.removeChild(K);Ba=X=pa=K=ha=null;j(function(){var a,c,d,e,f,g,h=y.getElementsByTagName("body")[0];!h||(a=y.createElement("div"),a.style.cssText=
"padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(a,h.firstChild),K=y.createElement("div"),a.appendChild(K),K.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",Na=K.getElementsByTagName("td"),Oa=0===Na[0].offsetHeight,Na[0].style.display="",Na[1].style.display="none",W.reliableHiddenOffsets=Oa&&0===Na[0].offsetHeight,b.getComputedStyle&&(K.innerHTML="",g=y.createElement("div"),
g.style.width="0",g.style.marginRight="0",K.style.width="2px",K.appendChild(g),W.reliableMarginRight=0===(parseInt((b.getComputedStyle(g,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof K.style.zoom&&(K.innerHTML="",K.style.width=K.style.padding="1px",K.style.border=0,K.style.overflow="hidden",K.style.display="inline",K.style.zoom=1,W.inlineBlockNeedsLayout=3===K.offsetWidth,K.style.display="block",K.style.overflow="visible",K.innerHTML="<div style='width:5px;'></div>",W.shrinkWrapBlocks=
3!==K.offsetWidth),K.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",K.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",
c=K.firstChild,d=c.firstChild,e=c.nextSibling.firstChild.firstChild,f={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===e.offsetTop},d.style.position="fixed",d.style.top="20px",f.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",f.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,f.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,b.getComputedStyle&&(K.style.marginTop="1%",W.pixelMargin="1%"!==
(b.getComputedStyle(K,null)||{marginTop:0}).marginTop),"undefined"!=typeof a.style.zoom&&(a.style.zoom=1),h.removeChild(a),K=null,j.extend(W,f))});Ma=W}Aa.support=Ma;var dc=/^(?:\{.*\}|\[.*\])$/,cc=/([A-Z])/g;j.extend({cache:{},uuid:0,expando:"jQuery"+(j.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?j.cache[a[j.expando]]:a[j.expando];return!!a&&!O(a)},data:function(b,c,d,e){if(j.acceptData(b)){var f,
g;f=j.expando;var h="string"==typeof c,m=b.nodeType,n=m?j.cache:b,p=m?b[f]:b[f]&&f,l="events"===c;if(p&&n[p]&&(l||e||n[p].data)||!(h&&d===a)){p||(m?b[f]=p=++j.uuid:p=f);n[p]||(n[p]={},m||(n[p].toJSON=j.noop));if("object"==typeof c||"function"==typeof c)e?n[p]=j.extend(n[p],c):n[p].data=j.extend(n[p].data,c);b=f=n[p];e||(f.data||(f.data={}),f=f.data);d!==a&&(f[j.camelCase(c)]=d);if(l&&!f[c])return b.events;h?(g=f[c],null==g&&(g=f[j.camelCase(c)])):g=f;return g}}},removeData:function(a,b,c){if(j.acceptData(a)){var d,
e,f,g=j.expando,h=a.nodeType,m=h?j.cache:a,n=h?a[g]:g;if(m[n]){if(b&&(d=c?m[n]:m[n].data)){j.isArray(b)||(b in d?b=[b]:(b=j.camelCase(b),b in d?b=[b]:b=b.split(" ")));e=0;for(f=b.length;e<f;e++)delete d[b[e]];if(!(c?O:j.isEmptyObject)(d))return}if(!c&&(delete m[n].data,!O(m[n])))return;j.support.deleteExpando||!m.setInterval?delete m[n]:m[n]=null;h&&(j.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}}},_data:function(a,b,c){return j.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=
j.noData[a.nodeName.toLowerCase()];if(b)return!0!==b&&a.getAttribute("classid")===b}return!0}});j.fn.extend({data:function(b,c){var d,e,f,g,h,m=this[0],n=0,p=null;if(b===a){if(this.length&&(p=j.data(m),1===m.nodeType&&!j._data(m,"parsedAttrs"))){f=m.attributes;for(h=f.length;n<h;n++)g=f[n].name,0===g.indexOf("data-")&&(g=j.camelCase(g.substring(5)),Q(m,g,p[g]));j._data(m,"parsedAttrs",!0)}return p}if("object"==typeof b)return this.each(function(){j.data(this,b)});d=b.split(".",2);d[1]=d[1]?"."+d[1]:
"";e=d[1]+"!";return j.access(this,function(c){if(c===a)return p=this.triggerHandler("getData"+e,[d[0]]),p===a&&m&&(p=j.data(m,b),p=Q(m,b,p)),p===a&&d[1]?this.data(d[0]):p;d[1]=c;this.each(function(){var a=j(this);a.triggerHandler("setData"+e,d);j.data(this,b,c);a.triggerHandler("changeData"+e,d)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){j.removeData(this,a)})}});j.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",j._data(a,b,(j._data(a,b)||0)+1))},
_unmark:function(a,b,c){!0!==a&&(c=b,b=a,a=!1);if(b){var c=c||"fx",d=c+"mark";(a=a?0:(j._data(b,d)||1)-1)?j._data(b,d,a):(j.removeData(b,d,!0),G(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=j._data(a,b),c&&(!d||j.isArray(c)?d=j._data(a,b,j.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){var b=b||"fx",c=j.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift());d&&("fx"===b&&c.unshift("inprogress"),j._data(a,b+".run",e),d.call(a,function(){j.dequeue(a,b)},e));
c.length||(j.removeData(a,b+"queue "+b+".run",!0),G(a,b,"queue"))}});j.fn.extend({queue:function(b,c){var d=2;"string"!=typeof b&&(c=b,b="fx",d--);return arguments.length<d?j.queue(this[0],b):c===a?this:this.each(function(){var a=j.queue(this,b,c);"fx"===b&&"inprogress"!==a[0]&&j.dequeue(this,b)})},dequeue:function(a){return this.each(function(){j.dequeue(this,a)})},delay:function(a,b){a=j.fx?j.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(b,c){function d(){--h||e.resolveWith(f,[f])}"string"!=typeof b&&(c=b,b=a);for(var b=b||"fx",e=j.Deferred(),f=this,g=f.length,h=1,m=b+"defer",n=b+"queue",p=b+"mark",l;g--;)if(l=j.data(f[g],m,a,!0)||(j.data(f[g],n,a,!0)||j.data(f[g],p,a,!0))&&j.data(f[g],m,j.Callbacks("once memory"),!0))h++,l.add(d);d();return e.promise(c)}});var wb=/[\n\t\r]/g,Ua=/\s+/,ec=/\r/g,fc=/^(?:button|input)$/i,gc=/^(?:button|input|object|select|textarea)$/i,
hc=/^a(?:rea)?$/i,xb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,yb=j.support.getSetAttribute,ta,zb,Ab;j.fn.extend({attr:function(a,b){return j.access(this,j.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){j.removeAttr(this,a)})},prop:function(a,b){return j.access(this,j.prop,a,b,1<arguments.length)},removeProp:function(b){b=j.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(c){}})},
addClass:function(a){var b,c,d,e,f,g,h;if(j.isFunction(a))return this.each(function(b){j(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a){b=a.split(Ua);c=0;for(d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(!e.className&&1===b.length)e.className=a;else{f=" "+e.className+" ";g=0;for(h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=j.trim(f)}}return this},removeClass:function(b){var c,d,e,f,g,h,m;if(j.isFunction(b))return this.each(function(a){j(this).removeClass(b.call(this,
a,this.className))});if(b&&"string"==typeof b||b===a){c=(b||"").split(Ua);d=0;for(e=this.length;d<e;d++)if(f=this[d],1===f.nodeType&&f.className)if(b){g=(" "+f.className+" ").replace(wb," ");h=0;for(m=c.length;h<m;h++)g=g.replace(" "+c[h]+" "," ");f.className=j.trim(g)}else f.className=""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return j.isFunction(a)?this.each(function(c){j(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===
c)for(var e,f=0,g=j(this),h=b,m=a.split(Ua);e=m[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else if("undefined"===c||"boolean"===c)this.className&&j._data(this,"__className__",this.className),this.className=this.className||!1===a?"":j._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(wb," ").indexOf(a))return!0;return!1},val:function(b){var c,d,e,f=this[0];if(arguments.length)return e=
j.isFunction(b),this.each(function(d){var f=j(this),g;if(1===this.nodeType&&(e?g=b.call(this,d,f.val()):g=b,null==g?g="":"number"==typeof g?g+="":j.isArray(g)&&(g=j.map(g,function(a){return a==null?"":a+""})),c=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()],!c||!("set"in c)||c.set(this,g,"value")===a))this.value=g});if(f){if((c=j.valHooks[f.type]||j.valHooks[f.nodeName.toLowerCase()])&&"get"in c&&(d=c.get(f,"value"))!==a)return d;d=f.value;return"string"==typeof d?d.replace(ec,""):
null==d?"":d}}});j.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,e=[],f=a.options,g="select-one"===a.type;if(0>d)return null;a=g?d:0;for(c=g?d+1:f.length;a<c;a++)if(b=f[a],b.selected&&(j.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!j.nodeName(b.parentNode,"optgroup"))){b=j(b).val();if(g)return b;e.push(b)}return g&&!e.length&&f.length?j(f[d]).val():
e},set:function(a,b){var c=j.makeArray(b);j(a).find("option").each(function(){this.selected=0<=j.inArray(j(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(b,c,d,e){var f,g,h=b.nodeType;if(b&&3!==h&&8!==h&&2!==h){if(e&&c in j.attrFn)return j(b)[c](d);if("undefined"==typeof b.getAttribute)return j.prop(b,c,d);(e=1!==h||!j.isXMLDoc(b))&&(c=c.toLowerCase(),g=j.attrHooks[c]||(xb.test(c)?zb:ta));if(d!==
a){if(null===d){j.removeAttr(b,c);return}if(g&&"set"in g&&e&&(f=g.set(b,d,c))!==a)return f;b.setAttribute(c,""+d);return d}if(g&&"get"in g&&e&&null!==(f=g.get(b,c)))return f;f=b.getAttribute(c);return null===f?a:f}},removeAttr:function(a,b){var c,d,e,f,g,h=0;if(b&&1===a.nodeType){d=b.toLowerCase().split(Ua);for(f=d.length;h<f;h++)(e=d[h])&&(c=j.propFix[e]||e,g=xb.test(e),g||j.attr(a,e,""),a.removeAttribute(yb?e:c),g&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(fc.test(a.nodeName)&&
a.parentNode)j.error("type property can't be changed");else if(!j.support.radioValue&&"radio"===b&&j.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return ta&&j.nodeName(a,"button")?ta.get(a,b):b in a?a.value:null},set:function(a,b,c){if(ta&&j.nodeName(a,"button"))return ta.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",
rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,c,d){var e,f,g;g=b.nodeType;if(b&&3!==g&&8!==g&&2!==g)return(g=1!==g||!j.isXMLDoc(b))&&(c=j.propFix[c]||c,f=j.propHooks[c]),d!==a?f&&"set"in f&&(e=f.set(b,d,c))!==a?e:b[c]=d:f&&"get"in f&&null!==(e=f.get(b,c))?e:b[c]},propHooks:{tabIndex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):gc.test(b.nodeName)||hc.test(b.nodeName)&&
b.href?0:a}}}});j.attrHooks.tabindex=j.propHooks.tabIndex;zb={get:function(b,c){var d,e=j.prop(b,c);return!0===e||"boolean"!=typeof e&&(d=b.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():a},set:function(a,b,c){var d;!1===b?j.removeAttr(a,c):(d=j.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}};yb||(Ab={name:!0,id:!0,coords:!0},ta=j.valHooks.button={get:function(b,c){var d;return(d=b.getAttributeNode(c))&&(Ab[c]?""!==d.nodeValue:d.specified)?d.nodeValue:a},set:function(a,
b,c){var d=a.getAttributeNode(c);d||(d=y.createAttribute(c),a.setAttributeNode(d));return d.nodeValue=b+""}},j.attrHooks.tabindex.set=ta.set,j.each(["width","height"],function(a,b){j.attrHooks[b]=j.extend(j.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),j.attrHooks.contenteditable={get:ta.get,set:function(a,b,c){""===b&&(b="false");ta.set(a,b,c)}});j.support.hrefNormalized||j.each(["href","src","width","height"],function(b,c){j.attrHooks[c]=j.extend(j.attrHooks[c],
{get:function(b){b=b.getAttribute(c,2);return null===b?a:b}})});j.support.style||(j.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||a},set:function(a,b){return a.style.cssText=""+b}});j.support.optSelected||(j.propHooks.selected=j.extend(j.propHooks.selected,{get:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex);return null}}));j.support.enctype||(j.propFix.enctype="encoding");j.support.checkOn||j.each(["radio","checkbox"],function(){j.valHooks[this]=
{get:function(a){return null===a.getAttribute("value")?"on":a.value}}});j.each(["radio","checkbox"],function(){j.valHooks[this]=j.extend(j.valHooks[this],{set:function(a,b){if(j.isArray(b))return a.checked=0<=j.inArray(j(a).val(),b)}})});var ib=/^(?:textarea|input|select)$/i,Bb=/^([^\.]*)?(?:\.(.+))?$/,ic=/(?:^|\s)hover(\.\S+)?\b/,jc=/^key/,kc=/^(?:mouse|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,lc=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,mc=function(a){(a=lc.exec(a))&&(a[1]=(a[1]||
"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)"));return a},Db=function(a){return j.event.special.hover?a:a.replace(ic,"mouseenter$1 mouseleave$1")};j.event={add:function(b,c,d,e,f){var g,h,m,n,p,l,k,o,q;if(!(3===b.nodeType||8===b.nodeType||!c||!d||!(g=j._data(b)))){d.handler&&(k=d,d=k.handler,f=k.selector);d.guid||(d.guid=j.guid++);(m=g.events)||(g.events=m={});(h=g.handle)||(g.handle=h=function(b){return"undefined"!=typeof j&&(!b||j.event.triggered!==b.type)?j.event.dispatch.apply(h.elem,
arguments):a},h.elem=b);c=j.trim(Db(c)).split(" ");for(g=0;g<c.length;g++){n=Bb.exec(c[g])||[];p=n[1];l=(n[2]||"").split(".").sort();q=j.event.special[p]||{};p=(f?q.delegateType:q.bindType)||p;q=j.event.special[p]||{};n=j.extend({type:p,origType:n[1],data:e,handler:d,guid:d.guid,selector:f,quick:f&&mc(f),namespace:l.join(".")},k);o=m[p];if(!o&&(o=m[p]=[],o.delegateCount=0,!q.setup||!1===q.setup.call(b,e,l,h)))b.addEventListener?b.addEventListener(p,h,!1):b.attachEvent&&b.attachEvent("on"+p,h);q.add&&
(q.add.call(b,n),n.handler.guid||(n.handler.guid=d.guid));f?o.splice(o.delegateCount++,0,n):o.push(n);j.event.global[p]=!0}b=null}},global:{},remove:function(a,b,c,d,e){var f=j.hasData(a)&&j._data(a),g,h,m,n,p,l,k,o,q,t,r;if(f&&(k=f.events)){b=j.trim(Db(b||"")).split(" ");for(g=0;g<b.length;g++)if(h=Bb.exec(b[g])||[],m=n=h[1],h=h[2],m){o=j.event.special[m]||{};m=(d?o.delegateType:o.bindType)||m;t=k[m]||[];p=t.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(l=
0;l<t.length;l++)r=t[l],(e||n===r.origType)&&(!c||c.guid===r.guid)&&(!h||h.test(r.namespace))&&(!d||d===r.selector||"**"===d&&r.selector)&&(t.splice(l--,1),r.selector&&t.delegateCount--,o.remove&&o.remove.call(a,r));0===t.length&&p!==t.length&&((!o.teardown||!1===o.teardown.call(a,h))&&j.removeEvent(a,m,f.handle),delete k[m])}else for(m in k)j.event.remove(a,m+b[g],c,d,!0);j.isEmptyObject(k)&&(q=f.handle,q&&(q.elem=null),j.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,
changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g=c.type||c,h=[],m,n,p,l,k,o;if(!Cb.test(g+j.event.triggered)&&(0<=g.indexOf("!")&&(g=g.slice(0,-1),m=!0),0<=g.indexOf(".")&&(h=g.split("."),g=h.shift(),h.sort()),e&&!j.event.customEvent[g]||j.event.global[g]))if(c="object"==typeof c?c[j.expando]?c:new j.Event(g,c):new j.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=m,c.namespace=h.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):
null,m=0>g.indexOf(":")?"on"+g:"",e){if(c.result=a,c.target||(c.target=e),d=null!=d?j.makeArray(d):[],d.unshift(c),l=j.event.special[g]||{},!(l.trigger&&!1===l.trigger.apply(e,d))){o=[[e,l.bindType||g]];if(!f&&!l.noBubble&&!j.isWindow(e)){n=l.delegateType||g;h=Cb.test(n+g)?e:e.parentNode;for(p=null;h;h=h.parentNode)o.push([h,n]),p=h;p&&p===e.ownerDocument&&o.push([p.defaultView||p.parentWindow||b,n])}for(n=0;n<o.length&&!c.isPropagationStopped();n++)h=o[n][0],c.type=o[n][1],(k=(j._data(h,"events")||
{})[c.type]&&j._data(h,"handle"))&&k.apply(h,d),(k=m&&h[m])&&j.acceptData(h)&&!1===k.apply(h,d)&&c.preventDefault();c.type=g;!f&&!c.isDefaultPrevented()&&(!l._default||!1===l._default.apply(e.ownerDocument,d))&&("click"!==g||!j.nodeName(e,"a"))&&j.acceptData(e)&&m&&e[g]&&("focus"!==g&&"blur"!==g||0!==c.target.offsetWidth)&&!j.isWindow(e)&&(p=e[m],p&&(e[m]=null),j.event.triggered=g,e[g](),j.event.triggered=a,p&&(e[m]=p));return c.result}}else for(n in e=j.cache,e)e[n].events&&e[n].events[g]&&j.event.trigger(c,
d,e[n].handle.elem,!0)}},dispatch:function(c){var c=j.event.fix(c||b.event),d=(j._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),f=!c.exclusive&&!c.namespace,h=j.event.special[c.type]||{},m=[],n,p,l,k,o,q,t;g[0]=c;c.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,c)){if(e&&(!c.button||"click"!==c.type)){l=j(this);l.context=this.ownerDocument||this;for(p=c.target;p!=this;p=p.parentNode||this)if(!0!==p.disabled){o={};q=[];l[0]=p;for(n=0;n<e;n++){k=
d[n];t=k.selector;if(o[t]===a){var r=o,s=t,y;if(k.quick){y=k.quick;var T=p.attributes||{};y=(!y[1]||p.nodeName.toLowerCase()===y[1])&&(!y[2]||(T.id||{}).value===y[2])&&(!y[3]||y[3].test((T["class"]||{}).value))}else y=l.is(t);r[s]=y}o[t]&&q.push(k)}q.length&&m.push({elem:p,matches:q})}}d.length>e&&m.push({elem:this,matches:d.slice(e)});for(n=0;n<m.length&&!c.isPropagationStopped();n++){e=m[n];c.currentTarget=e.elem;for(d=0;d<e.matches.length&&!c.isImmediatePropagationStopped();d++)if(k=e.matches[d],
f||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))c.data=k.data,c.handleObj=k,k=((j.event.special[k.origType]||{}).handle||k.handler).apply(e.elem,g),k!==a&&(c.result=k,!1===k&&(c.preventDefault(),c.stopPropagation()))}h.postDispatch&&h.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,c){var d,e,g,f=c.button,h=c.fromElement;null==b.pageX&&null!=c.clientX&&(d=b.target.ownerDocument||y,e=d.documentElement,g=d.body,b.pageX=c.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||
0),b.pageY=c.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0));!b.relatedTarget&&h&&(b.relatedTarget=h===b.target?c.toElement:h);!b.which&&f!==a&&(b.which=f&1?1:f&2?3:f&4?2:0);return b}},fix:function(b){if(b[j.expando])return b;var c,d,e=b,g=j.event.fixHooks[b.type]||{},f=g.props?this.props.concat(g.props):this.props,b=j.Event(e);for(c=f.length;c;)d=f[--c],b[d]=e[d];b.target||(b.target=e.srcElement||y);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey===
a&&(b.metaKey=b.ctrlKey);return g.filter?g.filter(b,e):b},special:{ready:{setup:j.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){j.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=j.extend(new j.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?j.event.trigger(a,null,b):j.event.dispatch.call(b,a);a.isDefaultPrevented()&&
c.preventDefault()}};j.event.handle=j.event.dispatch;j.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};j.Event=function(a,b){if(!(this instanceof j.Event))return new j.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?F:B):this.type=a;b&&j.extend(this,b);this.timeStamp=a&&
a.timeStamp||j.now();this[j.expando]=!0};j.Event.prototype={preventDefault:function(){this.isDefaultPrevented=F;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=F;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=F;this.stopPropagation()},isDefaultPrevented:B,isPropagationStopped:B,isImmediatePropagationStopped:B};
j.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){j.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,d=a.handleObj,e;if(!c||c!==this&&!j.contains(this,c))a.type=d.origType,e=d.handler.apply(this,arguments),a.type=b;return e}}});j.support.submitBubbles||(j.event.special.submit={setup:function(){if(j.nodeName(this,"form"))return!1;j.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=j.nodeName(b,"input")||j.nodeName(b,"button")?
b.form:a)&&!b._submit_attached&&(j.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),b._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&j.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(j.nodeName(this,"form"))return!1;j.event.remove(this,"._submit")}});j.support.changeBubbles||(j.event.special.change={setup:function(){if(ib.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)j.event.add(this,
"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),j.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,j.event.simulate("change",this,a,!0))});return!1}j.event.add(this,"beforeactivate._change",function(a){a=a.target;ib.test(a.nodeName)&&!a._change_attached&&(j.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&j.event.simulate("change",this.parentNode,a,!0)}),
a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){j.event.remove(this,"._change");return ib.test(this.nodeName)}});j.support.focusinBubbles||j.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){j.event.simulate(b,a.target,j.event.fix(a),!0)};j.event.special[b]={setup:function(){0===c++&&y.addEventListener(a,d,!0)},teardown:function(){0===
--c&&y.removeEventListener(a,d,!0)}}});j.fn.extend({on:function(b,c,d,e,g){var f,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=a);for(h in b)this.on(h,c,d,b[h],g);return this}null==d&&null==e?(e=c,d=c=a):null==e&&("string"==typeof c?(e=d,d=a):(e=d,d=c,c=a));if(!1===e)e=B;else if(!e)return this;1===g&&(f=e,e=function(a){j().off(a);return f.apply(this,arguments)},e.guid=f.guid||(f.guid=j.guid++));return this.each(function(){j.event.add(this,b,e,d,c)})},one:function(a,b,c,d){return this.on(a,
b,c,d,1)},off:function(b,c,d){if(b&&b.preventDefault&&b.handleObj){var e=b.handleObj;j(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if("object"==typeof b){for(e in b)this.off(e,c,b[e]);return this}if(!1===c||"function"==typeof c)d=c,c=a;!1===d&&(d=B);return this.each(function(){j.event.remove(this,b,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){j(this.context).on(a,
this.selector,b,c);return this},die:function(a,b){j(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){j.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return j.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||j.guid++,d=0,e=function(c){var e=(j._data(this,"lastToggle"+
a.guid)||0)%d;j._data(this,"lastToggle"+a.guid,e+1);c.preventDefault();return b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){j.fn[b]=function(a,c){c==null&&
(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)};j.attrFn&&(j.attrFn[b]=true);jc.test(b)&&(j.event.fixHooks[b]=j.event.keyHooks);kc.test(b)&&(j.event.fixHooks[b]=j.event.mouseHooks)});var Eb=function(a,b,c,d,e,g){for(var e=0,f=d.length;e<f;e++){var h=d[e];if(h){for(var j=!1,h=h[a];h;){if(h[Ia]===c){j=d[h.sizset];break}if(1===h.nodeType)if(g||(h[Ia]=c,h.sizset=e),"string"!=typeof b){if(h===b){j=!0;break}}else if(0<I.filter(b,[h]).length){j=h;break}h=h[a]}d[e]=j}}},Fb=function(a,
b,c,d,e,g){for(var e=0,f=d.length;e<f;e++){var h=d[e];if(h){for(var j=!1,h=h[a];h;){if(h[Ia]===c){j=d[h.sizset];break}1===h.nodeType&&!g&&(h[Ia]=c,h.sizset=e);if(h.nodeName.toLowerCase()===b){j=h;break}h=h[a]}d[e]=j}}},jb=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Ia="sizcache"+(Math.random()+"").replace(".",""),kb=0,Gb=Object.prototype.toString,Va=!1,Hb=!0,Ja=/\\/g,nc=/\r\n/g,Wa=/\W/;[0,0].sort(function(){Hb=
!1;return 0});var I=function(a,b,c,d){var c=c||[],e=b=b||y;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var g,f,h,j,m,n,p=!0,l=I.isXML(b),k=[],o=a;do if(jb.exec(""),g=jb.exec(o))if(o=g[3],k.push(g[1]),g[2]){j=g[3];break}while(g);if(1<k.length&&Ib.exec(a))if(2===k.length&&N.relative[k[0]])f=Jb(k[0]+k[1],b,d);else for(f=N.relative[k[0]]?[b]:I(k.shift(),b);k.length;)a=k.shift(),N.relative[a]&&(a+=k.shift()),f=Jb(a,f,d);else if(!d&&1<k.length&&9===b.nodeType&&!l&&N.match.ID.test(k[0])&&
!N.match.ID.test(k[k.length-1])&&(m=I.find(k.shift(),b,l),b=m.expr?I.filter(m.expr,m.set)[0]:m.set[0]),b){m=d?{expr:k.pop(),set:qa(d)}:I.find(k.pop(),1===k.length&&("~"===k[0]||"+"===k[0])&&b.parentNode?b.parentNode:b,l);f=m.expr?I.filter(m.expr,m.set):m.set;for(0<k.length?h=qa(f):p=!1;k.length;)g=n=k.pop(),N.relative[n]?g=k.pop():n="",null==g&&(g=b),N.relative[n](h,g,l)}else h=[];h||(h=f);h||I.error(n||a);if("[object Array]"===Gb.call(h))if(p)if(b&&1===b.nodeType)for(a=0;null!=h[a];a++)h[a]&&(!0===
h[a]||1===h[a].nodeType&&I.contains(b,h[a]))&&c.push(f[a]);else for(a=0;null!=h[a];a++)h[a]&&1===h[a].nodeType&&c.push(f[a]);else c.push.apply(c,h);else qa(h,c);j&&(I(j,e,c,d),I.uniqueSort(c));return c};I.uniqueSort=function(a){if(Xa&&(Va=Hb,a.sort(Xa),Va))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};I.matches=function(a,b){return I(a,null,null,b)};I.matchesSelector=function(a,b){return 0<I(b,null,null,[a]).length};I.find=function(a,b,c){var d,e,g,f,h,j;if(!a)return[];e=0;for(g=
N.order.length;e<g;e++)if(h=N.order[e],f=N.leftMatch[h].exec(a))if(j=f[1],f.splice(1,1),"\\"!==j.substr(j.length-1)&&(f[1]=(f[1]||"").replace(Ja,""),d=N.find[h](f,b,c),null!=d)){a=a.replace(N.match[h],"");break}d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:d,expr:a}};I.filter=function(b,c,d,e){for(var g,f,h,j,m,n,p,l,k=b,o=[],q=c,t=c&&c[0]&&I.isXML(c[0]);b&&c.length;){for(h in N.filter)if(null!=(g=N.leftMatch[h].exec(b))&&g[2])if(n=N.filter[h],m=g[1],
f=!1,g.splice(1,1),"\\"!==m.substr(m.length-1)){q===o&&(o=[]);if(N.preFilter[h])if(g=N.preFilter[h](g,q,d,o,e,t)){if(!0===g)continue}else f=j=!0;if(g)for(p=0;null!=(m=q[p]);p++)m&&(j=n(m,g,p,q),l=e^j,d&&null!=j?l?f=!0:q[p]=!1:l&&(o.push(m),f=!0));if(j!==a){d||(q=o);b=b.replace(N.match[h],"");if(!f)return[];break}}if(b===k)if(null==f)I.error(b);else break;k=b}return q};I.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var lb=I.getText=function(a){var b,c;b=a.nodeType;var d=
"";if(b)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(nc,"");for(a=a.firstChild;a;a=a.nextSibling)d+=lb(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(d+=lb(c));return d},N=I.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=
"string"==typeof b,d=c&&!Wa.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,e=a.length,g;d<e;d++)if(g=a[d]){for(;(g=g.previousSibling)&&1!==g.nodeType;);a[d]=c||g&&g.nodeName.toLowerCase()===b?g||!1:g===b}c&&I.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,g=a.length;if(d&&!Wa.test(b))for(b=b.toLowerCase();e<g;e++){if(c=a[e])c=c.parentNode,a[e]=c.nodeName.toLowerCase()===b?c:!1}else{for(;e<g;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&I.filter(b,a,!0)}},"":function(a,
b,c){var d,e=kb++,g=Eb;"string"==typeof b&&!Wa.test(b)&&(b=b.toLowerCase(),d=b,g=Fb);g("parentNode",b,e,a,d,c)},"~":function(a,b,c){var d,e=kb++,g=Eb;"string"==typeof b&&!Wa.test(b)&&(b=b.toLowerCase(),d=b,g=Fb);g("previousSibling",b,e,a,d,c)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,g=d.length;e<g;e++)d[e].getAttribute("name")===
a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,g){a=" "+a[1].replace(Ja,"")+" ";if(g)return a;for(var g=0,f;null!=(f=b[g]);g++)f&&(e^(f.className&&0<=(" "+f.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||d.push(f):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(Ja,"")},TAG:function(a){return a[1].replace(Ja,"").toLowerCase()},CHILD:function(a){if("nth"===
a[1]){a[2]||I.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&I.error(a[0]);a[0]=kb++;return a},ATTR:function(a,b,c,d,e,g){b=a[1]=a[1].replace(Ja,"");!g&&N.attrMap[b]&&(a[1]=N.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(Ja,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,d,e){if("not"===a[1])if(1<(jb.exec(a[3])||"").length||
/^\w/.test(a[3]))a[3]=I(a[3],null,null,b);else return a=I.filter(a[3],b,c,1^e),c||d.push.apply(d,a),!1;else if(N.match.POS.test(a[0])||N.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},
empty:function(a){return!a.firstChild},has:function(a,b,c){return!!I(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},
password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},
focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],g=N.filters[e];if(g)return g(a,c,b,d);if("contains"===e)return 0<=(a.textContent||a.innerText||
lb([a])||"").indexOf(b[3]);if("not"===e){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}I.error(e)},CHILD:function(a,b){var c,d,e,g,f,h;c=b[1];h=a;switch(c){case "only":case "first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=a;case "last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case "nth":c=b[2];d=b[3];if(1===c&&0===d)return!0;e=b[0];if((g=a.parentNode)&&(g[Ia]!==e||!a.nodeIndex)){f=0;for(h=g.firstChild;h;h=h.nextSibling)1===h.nodeType&&
(h.nodeIndex=++f);g[Ia]=e}h=a.nodeIndex-d;return 0===c?0===h:0===h%c&&0<=h/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=I.attr?I.attr(a,c):N.attrHandle[c]?N.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),d=c+"",e=b[2],g=b[4];return null==c?"!="===e:!e&&I.attr?
null!=c:"="===e?d===g:"*="===e?0<=d.indexOf(g):"~="===e?0<=(" "+d+" ").indexOf(g):g?"!="===e?d!==g:"^="===e?0===d.indexOf(g):"$="===e?d.substr(d.length-g.length)===g:"|="===e?d===g||d.substr(0,g.length+1)===g+"-":!1:d&&!1!==c},POS:function(a,b,c,d){var e=N.setFilters[b[2]];if(e)return e(a,c,b,d)}}},Ib=N.match.POS,oc=function(a,b){return"\\"+(b-0+1)},Pa;for(Pa in N.match)N.match[Pa]=RegExp(N.match[Pa].source+/(?![^\[]*\])(?![^\(]*\))/.source),N.leftMatch[Pa]=RegExp(/(^(?:.|\r|\n)*?)/.source+N.match[Pa].source.replace(/\\(\d+)/g,
oc));N.match.globalPOS=Ib;var qa=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(y.documentElement.childNodes,0)[0].nodeType}catch(Wc){qa=function(a,b){var c=0,d=b||[];if("[object Array]"===Gb.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var Xa,Qa;y.documentElement.compareDocumentPosition?Xa=function(a,b){return a===b?(Va=!0,
0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(Xa=function(a,b){if(a===b)return Va=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],g=[];c=a.parentNode;d=b.parentNode;var f=c;if(c===d)return Qa(a,b);if(!c)return-1;if(!d)return 1;for(;f;)e.unshift(f),f=f.parentNode;for(f=d;f;)g.unshift(f),f=f.parentNode;c=e.length;d=g.length;for(f=0;f<c&&f<d;f++)if(e[f]!==g[f])return Qa(e[f],g[f]);return f===
c?Qa(a,g[f],-1):Qa(e[f],b,1)},Qa=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});var Ya=y.createElement("div"),Kb="script"+(new Date).getTime(),Za=y.documentElement;Ya.innerHTML="<a name='"+Kb+"'/>";Za.insertBefore(Ya,Za.firstChild);y.getElementById(Kb)&&(N.find.ID=function(b,c,d){if("undefined"!=typeof c.getElementById&&!d)return(c=c.getElementById(b[1]))?c.id===b[1]||"undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id").nodeValue===
b[1]?[c]:a:[]},N.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});Za.removeChild(Ya);var Za=Ya=null,Ca=y.createElement("div");Ca.appendChild(y.createComment(""));0<Ca.getElementsByTagName("*").length&&(N.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c});Ca.innerHTML="<a href='#'></a>";Ca.firstChild&&"undefined"!=typeof Ca.firstChild.getAttribute&&
"#"!==Ca.firstChild.getAttribute("href")&&(N.attrHandle.href=function(a){return a.getAttribute("href",2)});Ca=null;if(y.querySelectorAll){var mb=I,$a=y.createElement("div");$a.innerHTML="<p class='TEST'></p>";if(!$a.querySelectorAll||0!==$a.querySelectorAll(".TEST").length){var I=function(a,b,c,d){b=b||y;if(!d&&!I.isXML(b)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);if(e&&(1===b.nodeType||9===b.nodeType)){if(e[1])return qa(b.getElementsByTagName(a),c);if(e[2]&&N.find.CLASS&&b.getElementsByClassName)return qa(b.getElementsByClassName(e[2]),
c)}if(9===b.nodeType){if("body"===a&&b.body)return qa([b.body],c);if(e&&e[3]){var g=b.getElementById(e[3]);if(!g||!g.parentNode)return qa([],c);if(g.id===e[3])return qa([g],c)}try{return qa(b.querySelectorAll(a),c)}catch(f){}}else if(1===b.nodeType&&"object"!==b.nodeName.toLowerCase()){var e=b,h=(g=b.getAttribute("id"))||"__sizzle__",j=b.parentNode,m=/^\s*[+~]/.test(a);g?h=h.replace(/'/g,"\\$&"):b.setAttribute("id",h);m&&j&&(b=b.parentNode);try{if(!m||j)return qa(b.querySelectorAll("[id='"+h+"'] "+
a),c)}catch(n){}finally{g||e.removeAttribute("id")}}}return mb(a,b,c,d)},nb;for(nb in mb)I[nb]=mb[nb];$a=null}}var ab=y.documentElement,bb=ab.matchesSelector||ab.mozMatchesSelector||ab.webkitMatchesSelector||ab.msMatchesSelector;if(bb){var pc=!bb.call(y.createElement("div"),"div"),Lb=!1;try{bb.call(y.documentElement,"[test!='']:sizzle")}catch(Xc){Lb=!0}I.matchesSelector=function(a,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!I.isXML(a))try{if(Lb||!N.match.PSEUDO.test(b)&&!/!=/.test(b)){var c=
bb.call(a,b);if(c||!pc||a.document&&11!==a.document.nodeType)return c}}catch(d){}return 0<I(b,null,null,[a]).length}}var Ka=y.createElement("div");Ka.innerHTML="<div class='test e'></div><div class='test'></div>";Ka.getElementsByClassName&&0!==Ka.getElementsByClassName("e").length&&(Ka.lastChild.className="e",1!==Ka.getElementsByClassName("e").length&&(N.order.splice(1,0,"CLASS"),N.find.CLASS=function(a,b,c){if("undefined"!=typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},
Ka=null));y.documentElement.contains?I.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):true)}:y.documentElement.compareDocumentPosition?I.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:I.contains=function(){return false};I.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var Jb=function(a,b,c){for(var d,e=[],g="",b=b.nodeType?[b]:b;d=N.match.PSEUDO.exec(a);){g=g+d[0];a=a.replace(N.match.PSEUDO,"")}a=N.relative[a]?a+"*":
a;d=0;for(var f=b.length;d<f;d++)I(a,b[d],e,c);return I.filter(g,e)};I.attr=j.attr;I.selectors.attrMap={};j.find=I;j.expr=I.selectors;j.expr[":"]=j.expr.filters;j.unique=I.uniqueSort;j.text=I.getText;j.isXMLDoc=I.isXML;j.contains=I.contains;var qc=/Until$/,rc=/^(?:parents|prevUntil|prevAll)/,sc=/,/,bc=/^.[^:#\[\.,]*$/,tc=Array.prototype.slice,Mb=j.expr.match.globalPOS,uc={children:!0,contents:!0,next:!0,prev:!0};j.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return j(a).filter(function(){c=
0;for(d=b.length;c<d;c++)if(j.contains(b[c],this))return true});var e=this.pushStack("","find",a),g,f,h;c=0;for(d=this.length;c<d;c++){g=e.length;j.find(a,this[c],e);if(c>0)for(f=g;f<e.length;f++)for(h=0;h<g;h++)if(e[h]===e[f]){e.splice(f--,1);break}}return e},has:function(a){var b=j(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(j.contains(this,b[a]))return true})},not:function(a){return this.pushStack(C(this,a,false),"not",a)},filter:function(a){return this.pushStack(C(this,
a,true),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Mb.test(a)?j(a,this.context).index(this[0])>=0:j.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(j.isArray(a)){for(e=1;g&&g.ownerDocument&&g!==b;){for(d=0;d<a.length;d++)j(g).is(a[d])&&c.push({selector:a[d],elem:g,level:e});g=g.parentNode;e++}return c}var f=Mb.test(a)||typeof a!="string"?j(a,b||this.context):0;d=0;for(e=this.length;d<e;d++)for(g=this[d];g;){if(f?f.index(g)>-1:j.find.matchesSelector(g,
a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}c=c.length>1?j.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a=="string"?j.inArray(this[0],j(a)):j.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?j(a,b):j.makeArray(a&&a.nodeType?[a]:a),d=j.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||!d[0]||
!d[0].parentNode||d[0].parentNode.nodeType===11?d:j.unique(d))},andSelf:function(){return this.add(this.prevObject)}});j.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return j.dir(a,"parentNode")},parentsUntil:function(a,b,c){return j.dir(a,"parentNode",c)},next:function(a){return j.nth(a,2,"nextSibling")},prev:function(a){return j.nth(a,2,"previousSibling")},nextAll:function(a){return j.dir(a,"nextSibling")},prevAll:function(a){return j.dir(a,"previousSibling")},
nextUntil:function(a,b,c){return j.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return j.dir(a,"previousSibling",c)},siblings:function(a){return j.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return j.sibling(a.firstChild)},contents:function(a){return j.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:j.makeArray(a.childNodes)}},function(a,b){j.fn[a]=function(c,d){var e=j.map(this,b,c);qc.test(a)||(d=c);d&&typeof d=="string"&&(e=j.filter(d,e));e=this.length>
1&&!uc[a]?j.unique(e):e;(this.length>1||sc.test(d))&&rc.test(a)&&(e=e.reverse());return this.pushStack(e,a,tc.call(arguments).join(","))}});j.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?j.find.matchesSelector(b[0],a)?[b[0]]:[]:j.find.matches(a,b)},dir:function(b,c,d){for(var e=[],b=b[c];b&&b.nodeType!==9&&(d===a||b.nodeType!==1||!j(b).is(d));){b.nodeType===1&&e.push(b);b=b[c]}return e},nth:function(a,b,c){for(var b=b||1,d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},
sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var vb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vc=/ jQuery\d+="(?:\d+|null)"/g,ob=/^\s+/,Nb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ob=/<([\w:]+)/,wc=/<tbody/i,xc=/<|&#?\w+;/,yc=/<(?:script|style)/i,zc=/<(?:script|object|embed|option|style)/i,Pb=RegExp("<(?:"+
vb+")[\\s/>]","i"),Qb=/checked\s*(?:[^=]|=\s*.checked.)/i,Rb=/\/(java|ecma)script/i,Ac=/^\s*<!(?:\[CDATA\[|\-\-)/,la={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},pb=x(y);la.optgroup=la.option;la.tbody=la.tfoot=la.colgroup=
la.caption=la.thead;la.th=la.td;j.support.htmlSerialize||(la._default=[1,"div<div>","</div>"]);j.fn.extend({text:function(b){return j.access(this,function(b){return b===a?j.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(j.isFunction(a))return this.each(function(b){j(this).wrapAll(a.call(this,b))});if(this[0]){var b=j(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=
this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return j.isFunction(a)?this.each(function(b){j(this).wrapInner(a.call(this,b))}):this.each(function(){var b=j(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=j.isFunction(a);return this.each(function(c){j(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,"body")||j(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=j.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,j.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||j.filter(a,[d]).length){!b&&d.nodeType===1&&(j.cleanData(d.getElementsByTagName("*")),j.cleanData([d]));d.parentNode&&d.parentNode.removeChild(d)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===
1&&j.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return j.clone(this,a,b)})},html:function(b){return j.access(this,function(b){var c=this[0]||{},d=0,e=this.length;if(b===a)return c.nodeType===1?c.innerHTML.replace(vc,""):null;if(typeof b=="string"&&!yc.test(b)&&(j.support.leadingWhitespace||!ob.test(b))&&!la[(Ob.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(Nb,"<$1></$2>");
try{for(;d<e;d++){c=this[d]||{};c.nodeType===1&&(j.cleanData(c.getElementsByTagName("*")),c.innerHTML=b)}c=0}catch(g){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(j.isFunction(a))return this.each(function(b){var c=j(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=j(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;j(this).remove();b?j(b).before(a):j(c).append(a)})}return this.length?
this.pushStack(j(j.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(b,c,d){var e,g,f,h=b[0],m=[];if(!j.support.checkClone&&arguments.length===3&&typeof h=="string"&&Qb.test(h))return this.each(function(){j(this).domManip(b,c,d,true)});if(j.isFunction(h))return this.each(function(e){var g=j(this);b[0]=h.call(this,e,c?g.html():a);g.domManip(b,c,d)});if(this[0]){f=h&&h.parentNode;j.support.parentNode&&f&&f.nodeType===11&&f.childNodes.length===
this.length?e={fragment:f}:e=j.buildFragment(b,this,m);f=e.fragment;f.childNodes.length===1?g=f=f.firstChild:g=f.firstChild;if(g){c=c&&j.nodeName(g,"tr");g=0;for(var n=this.length,p=n-1;g<n;g++)d.call(c?j.nodeName(this[g],"table")?this[g].getElementsByTagName("tbody")[0]||this[g].appendChild(this[g].ownerDocument.createElement("tbody")):this[g]:this[g],e.cacheable||n>1&&g<p?j.clone(f,true,true):f)}m.length&&j.each(m,function(a,b){b.src?j.ajax({type:"GET",global:false,url:b.src,async:false,dataType:"script"}):
j.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ac,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});j.buildFragment=function(a,b,c){var d,e,g,f,h=a[0];b&&b[0]&&(f=b[0].ownerDocument||b[0]);f.createDocumentFragment||(f=y);a.length===1&&typeof h=="string"&&h.length<512&&f===y&&h.charAt(0)==="<"&&!zc.test(h)&&(j.support.checkClone||!Qb.test(h))&&(j.support.html5Clone||!Pb.test(h))&&(e=true,g=j.fragments[h],g&&g!==1&&(d=g));d||(d=f.createDocumentFragment(),j.clean(a,
f,d,c));e&&(j.fragments[h]=g?d:1);return{fragment:d,cacheable:e}};j.fragments={};j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){j.fn[a]=function(c){var d=[],c=j(c),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&c.length===1){c[b](this[0]);return this}for(var e=0,g=c.length;e<g;e++){var f=(e>0?this.clone(true):this).get();j(c[e])[b](f);d=d.concat(f)}return this.pushStack(d,a,c.selector)}});
j.extend({clone:function(a,b,c){var d,e,g;if(j.support.html5Clone||j.isXMLDoc(a)||!Pb.test("<"+a.nodeName+">"))d=a.cloneNode(true);else{d=y.createElement("div");pb.appendChild(d);d.innerHTML=a.outerHTML;d=d.firstChild}var f=d;if((!j.support.noCloneEvent||!j.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!j.isXMLDoc(a)){w(a,f);d=r(a);e=r(f);for(g=0;d[g];++g)e[g]&&w(d[g],e[g])}if(b){D(a,f);if(c){d=r(a);e=r(f);for(g=0;d[g];++g)D(d[g],e[g])}}return f},clean:function(a,b,c,d){var e,g=[],b=
b||y;typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||y);for(var f=0,h;(h=a[f])!=null;f++){typeof h=="number"&&(h=h+"");if(h){if(typeof h=="string")if(xc.test(h)){h=h.replace(Nb,"<$1></$2>");e=(Ob.exec(h)||["",""])[1].toLowerCase();var m=la[e]||la._default,n=m[0],p=b.createElement("div"),l=pb.childNodes,k;b===y?pb.appendChild(p):x(b).appendChild(p);for(p.innerHTML=m[1]+h+m[2];n--;)p=p.lastChild;if(!j.support.tbody){n=wc.test(h);m=e==="table"&&!n?p.firstChild&&p.firstChild.childNodes:
m[1]==="<table>"&&!n?p.childNodes:[];for(e=m.length-1;e>=0;--e)j.nodeName(m[e],"tbody")&&!m[e].childNodes.length&&m[e].parentNode.removeChild(m[e])}!j.support.leadingWhitespace&&ob.test(h)&&p.insertBefore(b.createTextNode(ob.exec(h)[0]),p.firstChild);h=p.childNodes;p&&(p.parentNode.removeChild(p),l.length>0&&(k=l[l.length-1],k&&k.parentNode&&k.parentNode.removeChild(k)))}else h=b.createTextNode(h);var o;if(!j.support.appendChecked)if(h[0]&&typeof(o=h.length)=="number")for(e=0;e<o;e++)t(h[e]);else t(h);
h.nodeType?g.push(h):g=j.merge(g,h)}}if(c){a=function(a){return!a.type||Rb.test(a.type)};for(f=0;g[f];f++){b=g[f];if(d&&j.nodeName(b,"script")&&(!b.type||Rb.test(b.type)))d.push(b.parentNode?b.parentNode.removeChild(b):b);else{if(b.nodeType===1){h=j.grep(b.getElementsByTagName("script"),a);g.splice.apply(g,[f+1,0].concat(h))}c.appendChild(b)}}}return g},cleanData:function(a){for(var b,c,d=j.cache,e=j.event.special,g=j.support.deleteExpando,f=0,h;(h=a[f])!=null;f++)if(!h.nodeName||!j.noData[h.nodeName.toLowerCase()])if(c=
h[j.expando]){if((b=d[c])&&b.events){for(var m in b.events)e[m]?j.event.remove(h,m):j.removeEvent(h,m,b.handle);b.handle&&(b.handle.elem=null)}g?delete h[j.expando]:h.removeAttribute&&h.removeAttribute(j.expando);delete d[c]}}});var qb=/alpha\([^)]*\)/i,Bc=/opacity=([^)]*)/,Cc=/([A-Z]|^ms)/g,Dc=/^[\-+]?(?:\d*\.)?\d+$/i,gb=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Ec=/^([\-+])=([\-+.\de]+)/,Fc=/^margin/,Gc={position:"absolute",visibility:"hidden",display:"block"},xa=["Top","Right","Bottom","Left"],Ga,Sb,
Tb;j.fn.css=function(b,c){return j.access(this,function(b,c,d){return d!==a?j.style(b,c,d):j.css(b,c)},b,c,arguments.length>1)};j.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ga(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":j.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,c,d,e){if(b&&b.nodeType!==3&&b.nodeType!==8&&b.style){var g,f=j.camelCase(c),
h=b.style,m=j.cssHooks[f],c=j.cssProps[f]||f;if(d===a)return m&&"get"in m&&(g=m.get(b,false,e))!==a?g:h[c];e=typeof d;e==="string"&&(g=Ec.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(j.css(b,c)),e="number");if(!(d==null||e==="number"&&isNaN(d))){e==="number"&&!j.cssNumber[f]&&(d=d+"px");if(!m||!("set"in m)||(d=m.set(b,d))!==a)try{h[c]=d}catch(n){}}}},css:function(b,c,d){var e,g,c=j.camelCase(c);g=j.cssHooks[c];c=j.cssProps[c]||c;c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(b,true,d))!==a)return e;
if(Ga)return Ga(b,c)},swap:function(a,b,c){var d={},e;for(e in b){d[e]=a.style[e];a.style[e]=b[e]}c=c.call(a);for(e in b)a.style[e]=d[e];return c}});j.curCSS=j.css;y.defaultView&&y.defaultView.getComputedStyle&&(Sb=function(a,b){var c,d,e,g,f=a.style,b=b.replace(Cc,"-$1").toLowerCase();(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!j.contains(a.ownerDocument.documentElement,a)&&(c=j.style(a,b)));!j.support.pixelMargin&&e&&Fc.test(b)&&gb.test(c)&&
(g=f.width,f.width=c,c=e.width,f.width=g);return c});y.documentElement.currentStyle&&(Tb=function(a,b){var c,d,e,g=a.currentStyle&&a.currentStyle[b],f=a.style;g==null&&f&&(e=f[b])&&(g=e);gb.test(g)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":g,g=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d));return g===""?"auto":g});Ga=Sb||Tb;j.each(["height","width"],function(a,b){j.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==
0?p(a,b,d):j.swap(a,Gc,function(){return p(a,b,d)})},set:function(a,b){return Dc.test(b)?b+"px":b}}});j.support.opacity||(j.cssHooks.opacity={get:function(a,b){return Bc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=j.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&j.trim(g.replace(qb,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=
qb.test(g)?g.replace(qb,e):g+" "+e}});j(function(){j.support.reliableMarginRight||(j.cssHooks.marginRight={get:function(a,b){return j.swap(a,{display:"inline-block"},function(){return b?Ga(a,"margin-right"):a.style.marginRight})}})});j.expr&&j.expr.filters&&(j.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!j.support.reliableHiddenOffsets&&(a.style&&a.style.display||j.css(a,"display"))==="none"},j.expr.filters.visible=function(a){return!j.expr.filters.hidden(a)});
j.each({margin:"",padding:"",border:"Width"},function(a,b){j.cssHooks[a+b]={expand:function(c){for(var d=typeof c=="string"?c.split(" "):[c],e={},c=0;c<4;c++)e[a+xa[c]+b]=d[c]||d[c-2]||d[0];return e}}});var Hc=/%20/g,ac=/\[\]$/,Ub=/\r?\n/g,Ic=/#.*$/,Jc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Kc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Lc=/^(?:GET|HEAD)$/,Mc=/^\/\//,Vb=/\?/,Nc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Oc=
/^(?:select|textarea)/i,ub=/\s+/,Pc=/([?&])_=[^&]*/,Wb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Xb=j.fn.load,fb={},Yb={},Da,Ea,Zb=["*/"]+["*"];try{Da=H.href}catch(Yc){Da=y.createElement("a"),Da.href="",Da=Da.href}Ea=Wb.exec(Da.toLowerCase())||[];j.fn.extend({load:function(b,c,d){if(typeof b!="string"&&Xb)return Xb.apply(this,arguments);if(!this.length)return this;var e=b.indexOf(" ");if(e>=0)var g=b.slice(e,b.length),b=b.slice(0,e);e="GET";c&&(j.isFunction(c)?(d=c,c=a):typeof c=="object"&&
(c=j.param(c,j.ajaxSettings.traditional),e="POST"));var f=this;j.ajax({url:b,type:e,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),f.html(g?j("<div>").append(c.replace(Nc,"")).find(g):c));d&&f.each(d,[c,b,a])}});return this},serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?j.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&
(this.checked||Oc.test(this.nodeName)||Kc.test(this.type))}).map(function(a,b){var c=j(this).val();return c==null?null:j.isArray(c)?j.map(c,function(a){return{name:b.name,value:a.replace(Ub,"\r\n")}}):{name:b.name,value:c.replace(Ub,"\r\n")}}).get()}});j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){j.fn[b]=function(a){return this.on(b,a)}});j.each(["get","post"],function(b,c){j[c]=function(b,d,e,g){j.isFunction(d)&&(g=g||e,e=d,d=a);return j.ajax({type:c,
url:b,data:d,success:e,dataType:g})}});j.extend({getScript:function(b,c){return j.get(b,a,c,"script")},getJSON:function(a,b,c){return j.get(a,b,c,"json")},ajaxSetup:function(a,b){b?n(a,j.ajaxSettings):(b=a,a=j.ajaxSettings);n(a,b);return a},ajaxSettings:{url:Da,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ea[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",
text:"text/plain",json:"application/json, text/javascript","*":Zb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,"text html":!0,"text json":j.parseJSON,"text xml":j.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:m(fb),ajaxTransport:m(Yb),ajax:function(b,c){function d(b,c,l,k){if(T!==2){T=2;s&&clearTimeout(s);r=a;q=k||"";x.readyState=b>0?4:0;var o,t,y,k=c;if(l){var w=e,wa=x,ka=w.contents,F=w.dataTypes,Ha=
w.responseFields,B,X,C,v;for(X in Ha)X in l&&(wa[Ha[X]]=l[X]);for(;F[0]==="*";){F.shift();B===a&&(B=w.mimeType||wa.getResponseHeader("content-type"))}if(B)for(X in ka)if(ka[X]&&ka[X].test(B)){F.unshift(X);break}if(F[0]in l)C=F[0];else{for(X in l){if(!F[0]||w.converters[X+" "+F[0]]){C=X;break}v||(v=X)}C=C||v}if(C){C!==F[0]&&F.unshift(C);l=l[C]}else l=void 0}else l=a;if(b>=200&&b<300||b===304){if(e.ifModified){if(B=x.getResponseHeader("Last-Modified"))j.lastModified[p]=B;if(B=x.getResponseHeader("Etag"))j.etag[p]=
B}if(b===304){k="notmodified";o=true}else try{B=e;B.dataFilter&&(l=B.dataFilter(l,B.dataType));var A=B.dataTypes;X={};var D,L,u=A.length,S,ma=A[0],z,G,H,P,pa;for(D=1;D<u;D++){if(D===1)for(L in B.converters)typeof L=="string"&&(X[L.toLowerCase()]=B.converters[L]);z=ma;ma=A[D];if(ma==="*")ma=z;else if(z!=="*"&&z!==ma){G=z+" "+ma;H=X[G]||X["* "+ma];if(!H){pa=a;for(P in X){S=P.split(" ");if(S[0]===z||S[0]==="*")if(pa=X[S[1]+" "+ma]){P=X[P];P===true?H=pa:pa===true&&(H=P);break}}}!H&&!pa&&j.error("No conversion from "+
G.replace(" "," to "));H!==true&&(l=H?H(l):pa(P(l)))}}t=l;k="success";o=true}catch(J){k="parsererror";y=J}}else{y=k;if(!k||b){k="error";b<0&&(b=0)}}x.status=b;x.statusText=""+(c||k);o?h.resolveWith(g,[t,k,x]):h.rejectWith(g,[x,k,y]);x.statusCode(n);n=a;za&&f.trigger("ajax"+(o?"Success":"Error"),[x,e,o?t:y]);m.fireWith(g,[x,k]);za&&(f.trigger("ajaxComplete",[x,e]),--j.active||j.event.trigger("ajaxStop"))}}typeof b=="object"&&(c=b,b=a);var c=c||{},e=j.ajaxSetup({},c),g=e.context||e,f=g!==e&&(g.nodeType||
g instanceof j)?j(g):j.event,h=j.Deferred(),m=j.Callbacks("once memory"),n=e.statusCode||{},p,l={},k={},q,t,r,s,y,T=0,za,w,x={readyState:0,setRequestHeader:function(a,b){if(!T){var c=a.toLowerCase(),a=k[c]=k[c]||a;l[a]=b}return this},getAllResponseHeaders:function(){return T===2?q:null},getResponseHeader:function(b){var c;if(T===2){if(!t)for(t={};c=Jc.exec(q);)t[c[1].toLowerCase()]=c[2];c=t[b.toLowerCase()]}return c===a?null:c},overrideMimeType:function(a){T||(e.mimeType=a);return this},abort:function(a){a=
a||"abort";r&&r.abort(a);d(0,a);return this}};h.promise(x);x.success=x.done;x.error=x.fail;x.complete=m.add;x.statusCode=function(a){if(a){var b;if(T<2)for(b in a)n[b]=[n[b],a[b]];else{b=a[x.status];x.then(b,b)}}return this};e.url=((b||e.url)+"").replace(Ic,"").replace(Mc,Ea[1]+"//");e.dataTypes=j.trim(e.dataType||"*").toLowerCase().split(ub);e.crossDomain==null&&(y=Wb.exec(e.url.toLowerCase()),e.crossDomain=!(!y||y[1]==Ea[1]&&y[2]==Ea[2]&&(y[3]||(y[1]==="http:"?80:443))==(Ea[3]||(Ea[1]==="http:"?
80:443))));e.data&&e.processData&&typeof e.data!="string"&&(e.data=j.param(e.data,e.traditional));o(fb,e,c,x);if(T===2)return false;za=e.global;e.type=e.type.toUpperCase();e.hasContent=!Lc.test(e.type);za&&j.active++===0&&j.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url=e.url+((Vb.test(e.url)?"&":"?")+e.data),delete e.data);p=e.url;if(e.cache===false){y=j.now();var ka=e.url.replace(Pc,"$1_="+y);e.url=ka+(ka===e.url?(Vb.test(e.url)?"&":"?")+"_="+y:"")}}(e.data&&e.hasContent&&e.contentType!==
false||c.contentType)&&x.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(p=p||e.url,j.lastModified[p]&&x.setRequestHeader("If-Modified-Since",j.lastModified[p]),j.etag[p]&&x.setRequestHeader("If-None-Match",j.etag[p]));x.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+Zb+"; q=0.01":""):e.accepts["*"]);for(w in e.headers)x.setRequestHeader(w,e.headers[w]);if(e.beforeSend&&(e.beforeSend.call(g,x,e)===false||T===2)){x.abort();
return false}for(w in{success:1,error:1,complete:1})x[w](e[w]);if(r=o(Yb,e,c,x)){x.readyState=1;za&&f.trigger("ajaxSend",[x,e]);e.async&&e.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},e.timeout));try{T=1;r.send(l,d)}catch(F){if(T<2)d(-1,F);else throw F;}}else d(-1,"No Transport");return x},param:function(b,c){var d=[],e=function(a,b){b=j.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===a&&(c=j.ajaxSettings.traditional);if(j.isArray(b)||b.jquery&&!j.isPlainObject(b))j.each(b,
function(){e(this.name,this.value)});else for(var g in b)h(g,b[g],c,e);return d.join("&").replace(Hc,"+")}});j.extend({active:0,lastModified:{},etag:{}});var Qc=j.now(),cb=/(\=)\?(&|$)|\?\?/i;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return j.expando+"_"+Qc++}});j.ajaxPrefilter("json jsonp",function(a,c,d){c=typeof a.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(cb.test(a.url)||c&&cb.test(a.data))){var e,g=
a.jsonpCallback=j.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f=b[g],h=a.url,m=a.data,n="$1"+g+"$2";a.jsonp!==false&&(h=h.replace(cb,n),a.url===h&&(c&&(m=m.replace(cb,n)),a.data===m&&(h=h+((/\?/.test(h)?"&":"?")+a.jsonp+"="+g))));a.url=h;a.data=m;b[g]=function(a){e=[a]};d.always(function(){b[g]=f;e&&j.isFunction(f)&&b[g](e[0])});a.converters["script json"]=function(){e||j.error(g+" was not called");return e[0]};a.dataTypes[0]="json";return"script"}});j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){j.globalEval(a);return a}}});j.ajaxPrefilter("script",function(b){b.cache===a&&(b.cache=false);b.crossDomain&&(b.type="GET",b.global=false)});j.ajaxTransport("script",function(b){if(b.crossDomain){var c,d=y.head||y.getElementsByTagName("head")[0]||y.documentElement;return{send:function(e,g){c=y.createElement("script");c.async="async";b.scriptCharset&&(c.charset=b.scriptCharset);c.src=b.url;c.onload=c.onreadystatechange=
function(b,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;d&&c.parentNode&&d.removeChild(c);c=a;e||g(200,"success")}};d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var rb=b.ActiveXObject?function(){for(var a in La)La[a](0,1)}:!1,Rc=0,La;j.ajaxSettings.xhr=b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&l()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:l;var sb=j.ajaxSettings.xhr();
j.extend(j.support,{ajax:!!sb,cors:!!sb&&"withCredentials"in sb});j.support.ajax&&j.ajaxTransport(function(c){if(!c.crossDomain||j.support.cors){var d;return{send:function(e,g){var f=c.xhr(),h,m;c.username?f.open(c.type,c.url,c.async,c.username,c.password):f.open(c.type,c.url,c.async);if(c.xhrFields)for(m in c.xhrFields)f[m]=c.xhrFields[m];c.mimeType&&f.overrideMimeType&&f.overrideMimeType(c.mimeType);!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(m in e)f.setRequestHeader(m,
e[m])}catch(n){}f.send(c.hasContent&&c.data||null);d=function(b,e){var m,n,p,l,k;try{if(d&&(e||f.readyState===4)){d=a;h&&(f.onreadystatechange=j.noop,rb&&delete La[h]);if(e)f.readyState!==4&&f.abort();else{m=f.status;p=f.getAllResponseHeaders();l={};(k=f.responseXML)&&k.documentElement&&(l.xml=k);try{l.text=f.responseText}catch(o){}try{n=f.statusText}catch(q){n=""}!m&&c.isLocal&&!c.crossDomain?m=l.text?200:404:m===1223&&(m=204)}}}catch(t){e||g(-1,t)}l&&g(m,n,l,p)};!c.async||f.readyState===4?d():(h=
++Rc,rb&&(La||(La={},j(b).unload(rb)),La[h]=d),f.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var eb={},ra,Fa,Sc=/^(?:toggle|show|hide)$/,Tc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,db,Ra=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Sa;j.fn.extend({show:function(a,b,c){var e;if(a||a===0)return this.animate(f("show",3),a,b,c);b=0;for(c=this.length;b<c;b++){a=this[b];a.style&&(e=a.style.display,
!j._data(a,"olddisplay")&&e==="none"&&(e=a.style.display=""),(e===""&&j.css(a,"display")==="none"||!j.contains(a.ownerDocument.documentElement,a))&&j._data(a,"olddisplay",d(a.nodeName)))}for(b=0;b<c;b++){a=this[b];if(a.style){e=a.style.display;if(e===""||e==="none")a.style.display=j._data(a,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(f("hide",3),a,b,c);for(var d,b=0,c=this.length;b<c;b++){a=this[b];a.style&&(d=j.css(a,"display"),d!=="none"&&!j._data(a,"olddisplay")&&
j._data(a,"olddisplay",d))}for(b=0;b<c;b++)this[b].style&&(this[b].style.display="none");return this},_toggle:j.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";j.isFunction(a)&&j.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:j(this).is(":hidden");j(this)[b?"show":"hide"]()}):this.animate(f("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,
b,c,e){function g(){f.queue===false&&j._mark(this);var b=j.extend({},f),c=this.nodeType===1,e=c&&j(this).is(":hidden"),h,m,n,p,l,k,o,q,t;b.animatedProperties={};for(n in a){h=j.camelCase(n);n!==h&&(a[h]=a[n],delete a[n]);if((m=j.cssHooks[h])&&"expand"in m){p=m.expand(a[h]);delete a[h];for(n in p)n in a||(a[n]=p[n])}}for(h in a){m=a[h];j.isArray(m)?(b.animatedProperties[h]=m[1],m=a[h]=m[0]):b.animatedProperties[h]=b.specialEasing&&b.specialEasing[h]||b.easing||"swing";if(m==="hide"&&e||m==="show"&&
!e)return b.complete.call(this);c&&(h==="height"||h==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],j.css(this,"display")==="inline"&&j.css(this,"float")==="none"&&(!j.support.inlineBlockNeedsLayout||d(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(n in a){c=new j.fx(this,b,n);m=a[n];Sc.test(m)?(t=j._data(this,"toggle"+n)||(m==="toggle"?e?"show":"hide":0),t?(j._data(this,"toggle"+
n,t==="show"?"hide":"show"),c[t]()):c[m]()):(l=Tc.exec(m),k=c.cur(),l?(o=parseFloat(l[2]),q=l[3]||(j.cssNumber[n]?"":"px"),q!=="px"&&(j.style(this,n,(o||1)+q),k=(o||1)/c.cur()*k,j.style(this,n,k+q)),l[1]&&(o=(l[1]==="-="?-1:1)*o+k),c.custom(k,o,q)):c.custom(k,m,""))}return true}var f=j.speed(b,c,e);if(j.isEmptyObject(a))return this.each(f.complete,[false]);a=j.extend({},a);return f.queue===false?this.each(g):this.queue(f.queue,g)},stop:function(b,c,d){typeof b!="string"&&(d=c,c=b,b=a);c&&b!==false&&
this.queue(b||"fx",[]);return this.each(function(){var a,c=false,e=j.timers,g=j._data(this);d||j._unmark(true,this);if(b==null)for(a in g){if(g[a]&&g[a].stop&&a.indexOf(".run")===a.length-4){var f=g[a];j.removeData(this,a,true);f.stop(d)}}else if(g[a=b+".run"]&&g[a].stop){g=g[a];j.removeData(this,a,true);g.stop(d)}for(a=e.length;a--;)e[a].elem===this&&(b==null||e[a].queue===b)&&(d?e[a](true):e[a].saveState(),c=true,e.splice(a,1));(!d||!c)&&j.dequeue(this,b)})}});j.each({slideDown:f("show",1),slideUp:f("hide",
1),slideToggle:f("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){j.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});j.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?j.extend({},a):{complete:c||!c&&b||j.isFunction(a)&&a,duration:a,easing:c&&b||b&&!j.isFunction(b)&&b};d.duration=j.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in j.fx.speeds?j.fx.speeds[d.duration]:j.fx.speeds._default;if(d.queue==null||d.queue===
true)d.queue="fx";d.old=d.complete;d.complete=function(a){j.isFunction(d.old)&&d.old.call(this);d.queue?j.dequeue(this,d.queue):a!==false&&j._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});j.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(j.fx.step[this.prop]||j.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=
null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=j.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(b,c,d){function e(a){return f.step(a)}var f=this,h=j.fx;this.startTime=Sa||g();this.end=c;this.now=this.start=b;this.pos=this.state=0;this.unit=d||this.unit||(j.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){j._data(f.elem,"fxshow"+f.prop)===a&&(f.options.hide?
j._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&j._data(f.elem,"fxshow"+f.prop,f.end))};e()&&j.timers.push(e)&&!db&&(db=setInterval(h.tick,h.interval))},show:function(){var b=j._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=b||j.style(this.elem,this.prop);this.options.show=true;b!==a?this.custom(this.cur(),b):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());j(this.elem).show()},hide:function(){this.options.orig[this.prop]=j._data(this.elem,"fxshow"+this.prop)||
j.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b,c,d=Sa||g(),e=true,f=this.elem,h=this.options;if(a||d>=h.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=true;for(b in h.animatedProperties)h.animatedProperties[b]!==true&&(e=false);if(e){h.overflow!=null&&!j.support.shrinkWrapBlocks&&j.each(["","X","Y"],function(a,b){f.style["overflow"+b]=h.overflow[a]});h.hide&&j(f).hide();if(h.hide||
h.show)for(b in h.animatedProperties){j.style(f,b,h.orig[b]);j.removeData(f,"fxshow"+b,true);j.removeData(f,"toggle"+b,true)}(a=h.complete)&&(h.complete=false,a.call(f))}return false}h.duration==Infinity?this.now=d:(c=d-this.startTime,this.state=c/h.duration,this.pos=j.easing[h.animatedProperties[this.prop]](this.state,c,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};j.extend(j.fx,{tick:function(){for(var a,b=j.timers,c=0;c<b.length;c++){a=b[c];!a()&&
b[c]===a&&b.splice(c--,1)}b.length||j.fx.stop()},interval:13,stop:function(){clearInterval(db);db=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){j.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});j.each(Ra.concat.apply([],Ra),function(a,b){b.indexOf("margin")&&(j.fx.step[b]=function(a){j.style(a.elem,b,Math.max(0,a.now)+a.unit)})});j.expr&&j.expr.filters&&(j.expr.filters.animated=
function(a){return j.grep(j.timers,function(b){return a===b.elem}).length});var tb,Uc=/^t(?:able|d|h)$/i,$b=/^(?:body|html)$/i;"getBoundingClientRect"in y.documentElement?tb=function(a,b,d,e){try{e=a.getBoundingClientRect()}catch(g){}if(!e||!j.contains(d,a))return e?{top:e.top,left:e.left}:{top:0,left:0};a=b.body;b=c(b);return{top:e.top+(b.pageYOffset||j.support.boxModel&&d.scrollTop||a.scrollTop)-(d.clientTop||a.clientTop||0),left:e.left+(b.pageXOffset||j.support.boxModel&&d.scrollLeft||a.scrollLeft)-
(d.clientLeft||a.clientLeft||0)}}:tb=function(a,b,c){var d,e=a.offsetParent,g=b.body;d=(b=b.defaultView)?b.getComputedStyle(a,null):a.currentStyle;for(var f=a.offsetTop,h=a.offsetLeft;(a=a.parentNode)&&a!==g&&a!==c;){if(j.support.fixedPosition&&d.position==="fixed")break;d=b?b.getComputedStyle(a,null):a.currentStyle;f=f-a.scrollTop;h=h-a.scrollLeft;a===e&&(f=f+a.offsetTop,h=h+a.offsetLeft,j.support.doesNotAddBorder&&(!j.support.doesAddBorderForTableAndCells||!Uc.test(a.nodeName))&&(f=f+(parseFloat(d.borderTopWidth)||
0),h=h+(parseFloat(d.borderLeftWidth)||0)),e=a.offsetParent);j.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(f=f+(parseFloat(d.borderTopWidth)||0),h=h+(parseFloat(d.borderLeftWidth)||0))}if(d.position==="relative"||d.position==="static"){f=f+g.offsetTop;h=h+g.offsetLeft}j.support.fixedPosition&&d.position==="fixed"&&(f=f+Math.max(c.scrollTop,g.scrollTop),h=h+Math.max(c.scrollLeft,g.scrollLeft));return{top:f,left:h}};j.fn.offset=function(b){if(arguments.length)return b===a?
this:this.each(function(a){j.offset.setOffset(this,b,a)});var c=this[0],d=c&&c.ownerDocument;return!d?null:c===d.body?j.offset.bodyOffset(c):tb(c,d,d.documentElement)};j.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;j.support.doesNotIncludeMarginInBodyOffset&&(b=b+(parseFloat(j.css(a,"marginTop"))||0),c=c+(parseFloat(j.css(a,"marginLeft"))||0));return{top:b,left:c}},setOffset:function(a,b,c){var d=j.css(a,"position");d==="static"&&(a.style.position="relative");var e=j(a),g=e.offset(),
f=j.css(a,"top"),h=j.css(a,"left"),m={},n={},p,l;(d==="absolute"||d==="fixed")&&j.inArray("auto",[f,h])>-1?(n=e.position(),p=n.top,l=n.left):(p=parseFloat(f)||0,l=parseFloat(h)||0);j.isFunction(b)&&(b=b.call(a,c,g));b.top!=null&&(m.top=b.top-g.top+p);b.left!=null&&(m.left=b.left-g.left+l);"using"in b?b.using.call(a,m):e.css(m)}};j.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=$b.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top=c.top-
(parseFloat(j.css(a,"marginTop"))||0);c.left=c.left-(parseFloat(j.css(a,"marginLeft"))||0);d.top=d.top+(parseFloat(j.css(b[0],"borderTopWidth"))||0);d.left=d.left+(parseFloat(j.css(b[0],"borderLeftWidth"))||0);return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||y.body;a&&!$b.test(a.nodeName)&&j.css(a,"position")==="static";)a=a.offsetParent;return a})}});j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var e=
/Y/.test(d);j.fn[b]=function(g){return j.access(this,function(b,g,f){var h=c(b);if(f===a)return h?d in h?h[d]:j.support.boxModel&&h.document.documentElement[g]||h.document.body[g]:b[g];h?h.scrollTo(e?j(h).scrollLeft():f,e?f:j(h).scrollTop()):b[g]=f},b,g,arguments.length,null)}});j.each({Height:"height",Width:"width"},function(b,c){var d="client"+b,e="scroll"+b,g="offset"+b;j.fn["inner"+b]=function(){var a=this[0];return a?a.style?parseFloat(j.css(a,c,"padding")):this[c]():null};j.fn["outer"+b]=function(a){var b=
this[0];return b?b.style?parseFloat(j.css(b,c,a?"margin":"border")):this[c]():null};j.fn[c]=function(b){return j.access(this,function(b,c,f){if(j.isWindow(b)){c=b.document;b=c.documentElement[d];return j.support.boxModel&&b||c.body&&c.body[d]||b}if(b.nodeType===9){c=b.documentElement;return c[d]>=c[e]?c[d]:Math.max(b.body[e],c[e],b.body[g],c[g])}if(f===a){b=j.css(b,c);c=parseFloat(b);return j.isNumeric(c)?c:b}j(b).css(c,f)},c,b,arguments.length,null)}});b.jQuery=b.$=j;"function"==typeof define&&define.amd&&
define.amd.jQuery&&define("jquery",[],function(){return j})})(window);(function(b,a){function c(a,c){var e,g,f,l=a.nodeName.toLowerCase();return"area"===l?(e=a.parentNode,g=e.name,!a.href||!g||"map"!==e.nodeName.toLowerCase()?!1:(f=b("img[usemap=#"+g+"]")[0],!!f&&d(f))):(/input|select|textarea|button|object/.test(l)?!a.disabled:"a"===l?a.href||c:c)&&d(a)}function d(a){return b.expr.filters.visible(a)&&!b(a).parents().andSelf().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var f=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};if(!b.ui.version){b.extend(b.ui,{version:"1.9.2",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({_focus:b.fn.focus,focus:function(a,c){return"number"==typeof a?this.each(function(){var d=this;setTimeout(function(){b(d).focus();c&&c.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return b.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?b(document):a},zIndex:function(c){if(c!==
a)return this.css("zIndex",c);if(this.length)for(var c=b(this[0]),d;c.length&&c[0]!==document;){d=c.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(c.css("zIndex"),10),!isNaN(d)&&0!==d)return d;c=c.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&b(this).removeAttr("id")})}});b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(a){return function(c){return!!b.data(c,
a)}}):function(a,c,d){return!!b.data(a,d[3])},focusable:function(a){return c(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var d=b.attr(a,"tabindex"),e=isNaN(d);return(e||0<=d)&&c(a,!e)}});b(function(){var a=document.body,c=a.appendChild(c=document.createElement("div"));c.offsetHeight;b.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===c.offsetHeight;b.support.selectstart="onselectstart"in c;a.removeChild(c).style.display="none"});b("<a>").outerWidth(1).jquery||
b.each(["Width","Height"],function(c,d){function e(a,c,d,f){return b.each(g,function(){c-=parseFloat(b.css(a,"padding"+this))||0;d&&(c-=parseFloat(b.css(a,"border"+this+"Width"))||0);f&&(c-=parseFloat(b.css(a,"margin"+this))||0)}),c}var g="Width"===d?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),l={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+d]=function(c){return c===a?l["inner"+d].call(this):this.each(function(){b(this).css(f,
e(this,c)+"px")})};b.fn["outer"+d]=function(a,c){return"number"!=typeof a?l["outer"+d].call(this,a):this.each(function(){b(this).css(f,e(this,a,!0,c)+"px")})}});if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){var g=b.fn.removeData;b.fn.removeData=function(a){return arguments.length?g.call(this,b.camelCase(a)):g.call(this)}}var l=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];b.ui.ie=l.length?!0:!1;b.ui.ie6=6===parseFloat(l[1],10);b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?
"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(a,c,d){var e,a=b.ui[a].prototype;for(e in d)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([c,d[e]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<d.length;b++)a.options[d[b][0]]&&d[b][1].apply(a.element,c)}},contains:b.contains,hasScroll:function(a,
c){if("hidden"===b(a).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop";return 0<a[d]?!0:(a[d]=1,a[d]=0,!1)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(a,c,d,e,g,f){return b.ui.isOverAxis(a,d,g)&&b.ui.isOverAxis(c,e,f)}})}})(jQuery);
(function(b,a){var c=0,d=Array.prototype.slice,f=b.cleanData;b.cleanData=function(a){for(var c=0,d;null!=(d=a[c]);c++)try{b(d).triggerHandler("remove")}catch(h){}f(a)};b.widget=function(a,c,d){var f,n,o,m,p=a.split(".")[0],a=a.split(".")[1];f=p+"-"+a;d||(d=c,c=b.Widget);b.expr[":"][f.toLowerCase()]=function(a){return!!b.data(a,f)};b[p]=b[p]||{};n=b[p][a];o=b[p][a]=function(a,b){if(!this._createWidget)return new o(a,b);arguments.length&&this._createWidget(a,b)};b.extend(o,n,{version:d.version,_proto:b.extend({},
d),_childConstructors:[]});m=new c;m.options=b.widget.extend({},m.options);b.each(d,function(a,e){if(b.isFunction(e)){var f=function(){return c.prototype[a].apply(this,arguments)},h=function(b){return c.prototype[a].apply(this,b)};d[a]=function(){var a=this._super,b=this._superApply,c;return this._super=f,this._superApply=h,c=e.apply(this,arguments),this._super=a,this._superApply=b,c}}});o.prototype=b.widget.extend(m,{widgetEventPrefix:n?m.widgetEventPrefix:a},d,{constructor:o,namespace:p,widgetName:a,
widgetBaseClass:f,widgetFullName:f});n?(b.each(n._childConstructors,function(a,c){var d=c.prototype;b.widget(d.namespace+"."+d.widgetName,o,c._proto)}),delete n._childConstructors):c._childConstructors.push(o);b.widget.bridge(a,o)};b.widget.extend=function(c){for(var g=d.call(arguments,1),f=0,h=g.length,n,o;f<h;f++)for(n in g[f])o=g[f][n],g[f].hasOwnProperty(n)&&o!==a&&(b.isPlainObject(o)?c[n]=b.isPlainObject(c[n])?b.widget.extend({},c[n],o):b.widget.extend({},o):c[n]=o);return c};b.widget.bridge=
function(c,g){var f=g.prototype.widgetFullName||c;b.fn[c]=function(h){var n="string"==typeof h,o=d.call(arguments,1),m=this;return h=!n&&o.length?b.widget.extend.apply(null,[h].concat(o)):h,n?this.each(function(){var d,g=b.data(this,f);if(!g)return b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+h+"'");if(!b.isFunction(g[h])||"_"===h.charAt(0))return b.error("no such method '"+h+"' for "+c+" widget instance");d=g[h].apply(g,o);if(d!==g&&d!==a)return m=d&&
d.jquery?m.pushStack(d.get()):d,!1}):this.each(function(){var a=b.data(this,f);a?a.option(h||{})._init():b.data(this,f,new g(h,this))}),m}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,d){d=b(d||this.defaultElement||this)[0];this.element=b(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,
this._getCreateOptions(),a);this.bindings=b();this.hoverable=b();this.focusable=b();d!==this&&(b.data(d,this.widgetName,this),b.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=b(d.style?d.ownerDocument:d.document||d),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,
_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},
option:function(c,d){var f=c,h,n,o;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof c)if(f={},h=c.split("."),c=h.shift(),h.length){n=f[c]=b.widget.extend({},this.options[c]);for(o=0;o<h.length-1;o++)n[h[o]]=n[h[o]]||{},n=n[h[o]];c=h.pop();if(d===a)return n[c]===a?null:n[c];n[c]=d}else{if(d===a)return this.options[c]===a?null:this.options[c];f[c]=d}return this._setOptions(f),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,c,d){var f,n=this;"boolean"!=typeof a&&(d=c,c=a,a=!1);d?(c=f=b(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,f=
this.widget());b.each(d,function(d,m){function p(){if(a||!(!0===n.options.disabled||b(this).hasClass("ui-state-disabled")))return("string"==typeof m?n[m]:m).apply(n,arguments)}"string"!=typeof m&&(p.guid=m.guid=m.guid||p.guid||b.guid++);var l=d.match(/^(\w+)\s*(.*)$/),q=l[1]+n.eventNamespace;(l=l[2])?f.delegate(l,q,p):c.bind(q,p)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){b(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){b(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){b(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){b(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,c,d){var f,
n=this.options[a],d=d||{},c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();c.target=this.element[0];if(a=c.originalEvent)for(f in a)f in c||(c[f]=a[f]);return this.element.trigger(c,d),!(b.isFunction(n)&&!1===n.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,c){b.Widget.prototype["_"+a]=function(d,f,n){"string"==typeof f&&(f={effect:f});var o,m=f?!0===f||"number"==typeof f?c:f.effect||c:a,f=f||
{};"number"==typeof f&&(f={duration:f});o=!b.isEmptyObject(f);f.complete=n;f.delay&&d.delay(f.delay);o&&b.effects&&(b.effects.effect[m]||!1!==b.uiBackCompat&&b.effects[m])?d[a](f):m!==a&&d[m]?d[m](f.duration,f.easing,n):d.queue(function(c){b(this)[a]();n&&n.call(d[0]);c()})}});!1!==b.uiBackCompat&&(b.Widget.prototype._getCreateOptions=function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]})})(jQuery);
(function(b){var a=!1;b(document).mouseup(function(){a=!1});b.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(d){if(!0===b.data(d.target,a.widgetName+".preventClickEvent"))return b.removeData(d.target,a.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},
_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!a){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var d=this,f=1===c.which,e="string"==typeof this.options.cancel&&c.target.nodeName?b(c.target).closest(this.options.cancel).length:!1;if(!f||e||!this._mouseCapture(c))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===b.data(c.target,this.widgetName+".preventClickEvent")&&b.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},b(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),a=!0,!0)}},_mouseMove:function(a){return!b.ui.ie||9<=document.documentMode||a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return b(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(b,a){function c(a,b,c){return[parseInt(a[0],10)*(m.test(a[0])?b/100:1),parseInt(a[1],10)*(m.test(a[1])?c/100:1)]}b.ui=b.ui||{};var d,f=Math.max,e=Math.abs,g=Math.round,l=/left|center|right/,h=/top|center|bottom/,n=/[\+\-]\d+%?/,o=/^\w+/,m=/%$/,p=b.fn.position;b.position={scrollbarWidth:function(){if(d!==a)return d;var c,e,f=b("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return b("body").append(f),
c=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,c===e&&(e=f[0].clientWidth),f.remove(),d=c-e},getScrollInfo:function(a){var c=a.isWindow?"":a.element.css("overflow-x"),d=a.isWindow?"":a.element.css("overflow-y"),d="scroll"===d||"auto"===d&&a.height<a.element[0].scrollHeight;return{width:"scroll"===c||"auto"===c&&a.width<a.element[0].scrollWidth?b.position.scrollbarWidth():0,height:d?b.position.scrollbarWidth():0}},getWithinInfo:function(a){var a=b(a||window),c=b.isWindow(a[0]);return{element:a,
isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}};b.fn.position=function(a){if(!a||!a.of)return p.apply(this,arguments);var a=b.extend({},a),d,m,q,t,r,x=b(a.of),j=b.position.getWithinInfo(a.within),w=b.position.getScrollInfo(j),C=x[0],D=(a.collision||"flip").split(" "),v={};return 9===C.nodeType?(m=x.width(),q=x.height(),t={top:0,left:0}):b.isWindow(C)?(m=x.width(),q=x.height(),t={top:x.scrollTop(),
left:x.scrollLeft()}):C.preventDefault?(a.at="left top",m=q=0,t={top:C.pageY,left:C.pageX}):(m=x.outerWidth(),q=x.outerHeight(),t=x.offset()),r=b.extend({},t),b.each(["my","at"],function(){var b=(a[this]||"").split(" "),c,d;1===b.length&&(b=l.test(b[0])?b.concat(["center"]):h.test(b[0])?["center"].concat(b):["center","center"]);b[0]=l.test(b[0])?b[0]:"center";b[1]=h.test(b[1])?b[1]:"center";c=n.exec(b[0]);d=n.exec(b[1]);v[this]=[c?c[0]:0,d?d[0]:0];a[this]=[o.exec(b[0])[0],o.exec(b[1])[0]]}),1===D.length&&
(D[1]=D[0]),"right"===a.at[0]?r.left+=m:"center"===a.at[0]&&(r.left+=m/2),"bottom"===a.at[1]?r.top+=q:"center"===a.at[1]&&(r.top+=q/2),d=c(v.at,m,q),r.left+=d[0],r.top+=d[1],this.each(function(){var h,p,n=b(this),l=n.outerWidth(),o=n.outerHeight(),C=parseInt(b.css(this,"marginLeft"),10)||0,A=parseInt(b.css(this,"marginTop"),10)||0,oa=l+C+(parseInt(b.css(this,"marginRight"),10)||0)+w.width,P=o+A+(parseInt(b.css(this,"marginBottom"),10)||0)+w.height,J=b.extend({},r),fa=c(v.my,n.outerWidth(),n.outerHeight());
"right"===a.my[0]?J.left-=l:"center"===a.my[0]&&(J.left-=l/2);"bottom"===a.my[1]?J.top-=o:"center"===a.my[1]&&(J.top-=o/2);J.left+=fa[0];J.top+=fa[1];b.support.offsetFractions||(J.left=g(J.left),J.top=g(J.top));h={marginLeft:C,marginTop:A};b.each(["left","top"],function(c,e){b.ui.position[D[c]]&&b.ui.position[D[c]][e](J,{targetWidth:m,targetHeight:q,elemWidth:l,elemHeight:o,collisionPosition:h,collisionWidth:oa,collisionHeight:P,offset:[d[0]+fa[0],d[1]+fa[1]],my:a.my,at:a.at,within:j,elem:n})});b.fn.bgiframe&&
n.bgiframe();a.using&&(p=function(b){var c=t.left-J.left,d=c+m-l,g=t.top-J.top,h=g+q-o,j={target:{element:x,left:t.left,top:t.top,width:m,height:q},element:{element:n,left:J.left,top:J.top,width:l,height:o},horizontal:0>d?"left":0<c?"right":"center",vertical:0>h?"top":0<g?"bottom":"middle"};m<l&&e(c+d)<m&&(j.horizontal="center");q<o&&e(g+h)<q&&(j.vertical="middle");f(e(c),e(d))>f(e(g),e(h))?j.important="horizontal":j.important="vertical";a.using.call(this,b,j)});n.offset(b.extend(J,{using:p}))})};
b.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,c=c.width,e=a.left-b.collisionPosition.marginLeft,g=d-e,h=e+b.collisionWidth-c-d,j;b.collisionWidth>c?0<g&&0>=h?(j=a.left+g+b.collisionWidth-c-d,a.left+=g-j):0<h&&0>=g?a.left=d:g>h?a.left=d+c-b.collisionWidth:a.left=d:0<g?a.left+=g:0<h?a.left-=h:a.left=f(a.left-e,a.left)},top:function(a,b){var c=b.within,c=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,e=a.top-b.collisionPosition.marginTop,g=c-e,h=
e+b.collisionHeight-d-c,j;b.collisionHeight>d?0<g&&0>=h?(j=a.top+g+b.collisionHeight-d-c,a.top+=g-j):0<h&&0>=g?a.top=c:g>h?a.top=c+d-b.collisionHeight:a.top=c:0<g?a.top+=g:0<h?a.top-=h:a.top=f(a.top-e,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,c=h-g,j=h+b.collisionWidth-f-g,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===
b.at[0]?-b.targetWidth:0,n=-2*b.offset[0];if(0>c){if(d=a.left+h+m+n+b.collisionWidth-f-d,0>d||d<e(c))a.left+=h+m+n}else if(0<j&&(d=a.left-b.collisionPosition.marginLeft+h+m+n-g,0<d||e(d)<j))a.left+=h+m+n},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,f=c.height,c=c.isWindow?c.scrollTop:c.offset.top,g=a.top-b.collisionPosition.marginTop,h=g-c,g=g+b.collisionHeight-f-c,m="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,n="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?
-b.targetHeight:0,p=-2*b.offset[1],l,o;0>h?(o=a.top+m+n+p+b.collisionHeight-f-d,a.top+m+n+p>h&&(0>o||o<e(h))&&(a.top+=m+n+p)):0<g&&(l=a.top-b.collisionPosition.marginTop+m+n+p-c,a.top+m+n+p>g&&(0<l||e(l)<g)&&(a.top+=m+n+p))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}};var t,q,r,w,D=document.getElementsByTagName("body")[0];
r=document.createElement("div");t=document.createElement(D?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};D&&b.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"});for(w in q)t.style[w]=q[w];t.appendChild(r);q=D||document.documentElement;q.insertBefore(t,q.firstChild);r.style.cssText="position: absolute; left: 10.7432222px;";r=b(r).offset().left;b.support.offsetFractions=10<r&&11>r;t.innerHTML="";q.removeChild(t);if(!1!==b.uiBackCompat){var x=jQuery,
C=x.fn.position;x.fn.position=function(b){if(!b||!b.offset)return C.call(this,b);var c=b.offset.split(" "),d=b.at.split(" ");return 1===c.length&&(c[1]=c[0]),/^\d/.test(c[0])&&(c[0]="+"+c[0]),/^\d/.test(c[1])&&(c[1]="+"+c[1]),1===d.length&&(/left|center|right/.test(d[0])?d[1]="center":(d[1]=d[0],d[0]="center")),C.call(this,x.extend(b,{at:d[0]+c[0]+" "+d[1]+c[1],offset:a}))}}})(jQuery);
(function(b){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(a){var c=this.options;return this.helper||c.disabled||b(a.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(a),this.handle?(b(!0===c.iframeFix?
"iframe":c.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(a){var c=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),
this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,
c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),!1===this._trigger("start",a)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,a),!0)},_mouseDrag:function(a,c){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(!1===this._trigger("drag",a,d))return this._mouseUp({}),
!1;this.position=d.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";return b.ui.ddmanager&&b.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var c=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(c=b.ui.ddmanager.drop(this,a));this.dropped&&(c=this.dropped,this.dropped=!1);for(var d=this.element[0],f=!1;d&&(d=d.parentNode);)d==document&&(f=!0);
if(!f&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var e=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",a)&&e._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},_mouseUp:function(a){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,a),b.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){var c=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(c=!0)}),c},_createHelper:function(a){var c=this.options,a=b.isFunction(c.helper)?b(c.helper.apply(this.element[0],
[a])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute"),a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-
a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&
(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=["document"==a.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==a.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:b(window).scrollLeft())+b("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:b(window).scrollTop())+
(b("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var a=b(a.containment),c=a[0];if(c){a.offset();var d="hidden"!=b(c).css("overflow");this.containment=[(parseInt(b(c).css("borderLeftWidth"),10)||0)+(parseInt(b(c).css("paddingLeft"),10)||0),(parseInt(b(c).css("borderTopWidth"),10)||0)+(parseInt(b(c).css("paddingTop"),10)||
0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b(c).css("borderLeftWidth"),10)||0)-(parseInt(b(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b(c).css("borderTopWidth"),10)||0)-(parseInt(b(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=a}}else a.containment.constructor==Array&&(this.containment=
a.containment)},_convertPositionTo:function(a,c){c||(c=this.position);var d="absolute"==a?1:-1,f="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:f.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"==
this.cssPosition?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())*d}},_generatePosition:function(a){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(d[0].tagName),e=a.pageX,g=a.pageY;if(this.originalPosition){var l;this.containment&&(this.relative_container?(l=this.relative_container.offset(),l=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+
l.left,this.containment[3]+l.top]):l=this.containment,a.pageX-this.offset.click.left<l[0]&&(e=l[0]+this.offset.click.left),a.pageY-this.offset.click.top<l[1]&&(g=l[1]+this.offset.click.top),a.pageX-this.offset.click.left>l[2]&&(e=l[2]+this.offset.click.left),a.pageY-this.offset.click.top>l[3]&&(g=l[3]+this.offset.click.top));c.grid&&(g=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,g=l?g-this.offset.click.top<l[1]||g-this.offset.click.top>l[3]?
g-this.offset.click.top<l[1]?g+c.grid[1]:g-c.grid[1]:g:g,e=c.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,e=l?e-this.offset.click.left<l[0]||e-this.offset.click.left>l[2]?e-this.offset.click.left<l[0]?e+c.grid[0]:e-c.grid[0]:e:e)}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:d.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,c,d){return d=d||this._uiHash(),b.ui.plugin.call(this,a,[c,d]),"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,a,c,d)},plugins:{},
_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(a,c){var d=b(this).data("draggable"),f=d.options,e=b.extend({},c,{item:d.element});d.sortables=[];b(f.connectToSortable).each(function(){var c=b.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",a,e))})},
stop:function(a,c){var d=b(this).data("draggable"),f=b.extend({},c,{item:d.element});b.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
a,f))})},drag:function(a,c){var d=b(this).data("draggable"),f=this;b.each(d.sortables,function(){var e=!1,g=this;this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,b.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!=g&&this.instance._intersectsWith(this.instance.containerCache)&&
b.ui.contains(g.instance.element[0],this.instance.element[0])&&(e=!1),e}));e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(f).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=d.offset.click.top,
this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",a),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",a),d.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(){var a=b("body"),c=b(this).data("draggable").options;a.css("cursor")&&(c._cursor=a.css("cursor"));a.css("cursor",c.cursor)},stop:function(){var a=
b(this).data("draggable").options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(a,c){var d=b(c.helper),f=b(this).data("draggable").options;d.css("opacity")&&(f._opacity=d.css("opacity"));d.css("opacity",f.opacity)},stop:function(a,c){var d=b(this).data("draggable").options;d._opacity&&b(c.helper).css("opacity",d._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var a=b(this).data("draggable");a.scrollParent[0]!=document&&"HTML"!=
a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(a){var c=b(this).data("draggable"),d=c.options,f=!1;if(c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName){if(!d.axis||"x"!=d.axis)c.overflowOffset.top+c.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+d.scrollSpeed:a.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-d.scrollSpeed);
if(!d.axis||"y"!=d.axis)c.overflowOffset.left+c.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+d.scrollSpeed:a.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-d.scrollSpeed)}else{if(!d.axis||"x"!=d.axis)a.pageY-b(document).scrollTop()<d.scrollSensitivity?f=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(a.pageY-b(document).scrollTop())<
d.scrollSensitivity&&(f=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed));if(!d.axis||"y"!=d.axis)a.pageX-b(document).scrollLeft()<d.scrollSensitivity?f=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(a.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(f=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))}!1!==f&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(c,a)}});b.ui.plugin.add("draggable","snap",{start:function(){var a=
b(this).data("draggable"),c=a.options;a.snapElements=[];b(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=b(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,c){for(var d=b(this).data("draggable"),f=d.options,e=f.snapTolerance,g=c.offset.left,l=g+d.helperProportions.width,h=c.offset.top,n=h+d.helperProportions.height,o=d.snapElements.length-1;0<=o;o--){var m=
d.snapElements[o].left,p=m+d.snapElements[o].width,t=d.snapElements[o].top,q=t+d.snapElements[o].height;if(m-e<g&&g<p+e&&t-e<h&&h<q+e||m-e<g&&g<p+e&&t-e<n&&n<q+e||m-e<l&&l<p+e&&t-e<h&&h<q+e||m-e<l&&l<p+e&&t-e<n&&n<q+e){if("inner"!=f.snapMode){var r=Math.abs(t-n)<=e,w=Math.abs(q-h)<=e,D=Math.abs(m-l)<=e,x=Math.abs(p-g)<=e;r&&(c.position.top=d._convertPositionTo("relative",{top:t-d.helperProportions.height,left:0}).top-d.margins.top);w&&(c.position.top=d._convertPositionTo("relative",{top:q,left:0}).top-
d.margins.top);D&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left);x&&(c.position.left=d._convertPositionTo("relative",{top:0,left:p}).left-d.margins.left)}var C=r||w||D||x;"outer"!=f.snapMode&&(r=Math.abs(t-h)<=e,w=Math.abs(q-n)<=e,D=Math.abs(m-g)<=e,x=Math.abs(p-l)<=e,r&&(c.position.top=d._convertPositionTo("relative",{top:t,left:0}).top-d.margins.top),w&&(c.position.top=d._convertPositionTo("relative",{top:q-d.helperProportions.height,
left:0}).top-d.margins.top),D&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left),x&&(c.position.left=d._convertPositionTo("relative",{top:0,left:p-d.helperProportions.width}).left-d.margins.left));!d.snapElements[o].snapping&&(r||w||D||x||C)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,a,b.extend(d._uiHash(),{snapItem:d.snapElements[o].item}));d.snapElements[o].snapping=r||w||D||x||C}else d.snapElements[o].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,
a,b.extend(d._uiHash(),{snapItem:d.snapElements[o].item})),d.snapElements[o].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(){var a=b(this).data("draggable").options,a=b.makeArray(b(a.stack)).sort(function(a,c){return(parseInt(b(a).css("zIndex"),10)||0)-(parseInt(b(c).css("zIndex"),10)||0)});if(a.length){var c=parseInt(a[0].style.zIndex)||0;b(a).each(function(a){this.style.zIndex=c+a});this[0].style.zIndex=c+a.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(a,
c){var d=b(c.helper),f=b(this).data("draggable").options;d.css("zIndex")&&(f._zIndex=d.css("zIndex"));d.css("zIndex",f.zIndex)},stop:function(a,c){var d=b(this).data("draggable").options;d._zIndex&&b(c.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(b){b.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,c=a.accept;this.isover=0;this.isout=1;this.accept=b.isFunction(c)?c:function(a){return a.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[a.scope]=b.ui.ddmanager.droppables[a.scope]||[];b.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var a=b.ui.ddmanager.droppables[this.options.scope],c=0;c<a.length;c++)a[c]==this&&a.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,c){"accept"==a&&(this.accept=b.isFunction(c)?c:function(a){return a.is(c)});b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var c=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
c&&this._trigger("activate",a,this.ui(c))},_deactivate:function(a){var c=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",a,this.ui(c))},_over:function(a){var c=b.ui.ddmanager.current;if(c&&(c.currentItem||c.element)[0]!=this.element[0])this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(c)))},_out:function(a){var c=
b.ui.ddmanager.current;if(c&&(c.currentItem||c.element)[0]!=this.element[0])this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(c)))},_drop:function(a,c){var d=c||b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var f=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=b.data(this,"droppable");if(a.options.greedy&&
!a.options.disabled&&a.options.scope==d.options.scope&&a.accept.call(a.element[0],d.currentItem||d.element)&&b.ui.intersect(d,b.extend(a,{offset:a.element.offset()}),a.options.tolerance))return f=!0,!1}),f?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||
a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});b.ui.intersect=function(a,c,d){if(!c.offset)return!1;var f=(a.positionAbs||a.position.absolute).left,e=f+a.helperProportions.width,g=(a.positionAbs||a.position.absolute).top,l=g+a.helperProportions.height,h=c.offset.left,n=h+c.proportions.width,o=c.offset.top,m=o+c.proportions.height;switch(d){case "fit":return h<=f&&e<=n&&o<=g&&l<=m;case "intersect":return h<f+a.helperProportions.width/2&&e-a.helperProportions.width/2<n&&o<g+
a.helperProportions.height/2&&l-a.helperProportions.height/2<m;case "pointer":return b.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,o,h,c.proportions.height,c.proportions.width);case "touch":return(g>=o&&g<=m||l>=o&&l<=m||g<o&&l>m)&&(f>=h&&f<=n||e>=h&&e<=n||f<h&&e>n);default:return!1}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,c){var d=b.ui.ddmanager.droppables[a.options.scope]||
[],f=c?c.type:null,e=(a.currentItem||a.element).find(":data(droppable)").andSelf(),g=0;a:for(;g<d.length;g++)if(!(d[g].options.disabled||a&&!d[g].accept.call(d[g].element[0],a.currentItem||a.element))){for(var l=0;l<e.length;l++)if(e[l]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display");d[g].visible&&("mousedown"==f&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},
drop:function(a,c){var d=!1;return b.each(b.ui.ddmanager.droppables[a.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&b.ui.intersect(a,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(a,c){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||
b.ui.ddmanager.prepareOffsets(a,c)})},drag:function(a,c){a.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(a,c);b.each(b.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=b.ui.intersect(a,this,this.options.tolerance);if(d=!d&&1==this.isover?"isout":d&&0==this.isover?"isover":null){var f;if(this.options.greedy){var e=this.options.scope,g=this.element.parents(":data(droppable)").filter(function(){return b.data(this,"droppable").options.scope===
e});g.length&&(f=b.data(g[0],"droppable"),f.greedyChild="isover"==d?1:0)}f&&"isover"==d&&(f.isover=0,f.isout=1,f._out.call(f,c));this[d]=1;this["isout"==d?"isover":"isout"]=0;this["isover"==d?"_over":"_out"].call(this,c);f&&"isout"==d&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})},dragStop:function(a,c){a.element.parentsUntil("body").unbind("scroll.droppable");a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)}}})(jQuery);
(function(b){b.widget("ui.sortable",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,c){"disabled"===a?(this.options[a]=
c,this.widget().toggleClass("ui-sortable-disabled",!!c)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,c){var d=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(a);var f=null;b(a.target).parents().each(function(){if(b.data(this,d.widgetName+"-item")==d)return f=b(this),!1});b.data(a.target,d.widgetName+"-item")==d&&(f=b(a.target));if(!f)return!1;if(this.options.handle&&!c){var e=!1;b(this.options.handle,f).find("*").andSelf().each(function(){this==
a.target&&(e=!0)});if(!e)return!1}return this.currentItem=f,this._removeCurrentsFromItems(),!0},_mouseStart:function(a,c,d){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,
top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
c.containment&&this._setContainment();c.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",c.cursor));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:a.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:a.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(a.pageY-b(document).scrollTop()<c.scrollSensitivity?d=b(document).scrollTop(b(document).scrollTop()-c.scrollSpeed):b(window).height()-(a.pageY-b(document).scrollTop())<c.scrollSensitivity&&(d=b(document).scrollTop(b(document).scrollTop()+
c.scrollSpeed)),a.pageX-b(document).scrollLeft()<c.scrollSensitivity?d=b(document).scrollLeft(b(document).scrollLeft()-c.scrollSpeed):b(window).width()-(a.pageX-b(document).scrollLeft())<c.scrollSensitivity&&(d=b(document).scrollLeft(b(document).scrollLeft()+c.scrollSpeed)));!1!==d&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";
if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;0<=c;c--){var d=this.items[c],f=d.item[0],e=this._intersectsWithPointer(d);if(e&&d.instance===this.currentContainer&&f!=this.currentItem[0]&&this.placeholder[1==e?"next":"prev"]()[0]!=f&&!b.contains(this.placeholder[0],f)&&("semi-dynamic"==this.options.type?!b.contains(this.element[0],f):1)){this.direction=1==e?"down":"up";if("pointer"!=this.options.tolerance&&!this._intersectsWithSides(d))break;
this._rearrange(a,d);this._trigger("change",a,this._uiHash());break}}return this._contactContainers(a),b.ui.ddmanager&&b.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,c){if(a){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,a);if(this.options.revert){var d=this,f=this.placeholder.offset();this.reverting=!0;b(this.helper).animate({left:f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(a)})}else this._clear(a,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",
null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var c=this._getItemsAsjQuery(a&&a.connected),d=[];return a=a||{},b(c).each(function(){var c=(b(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);c&&d.push((a.key||c[1]+"[]")+"="+(a.key&&a.expression?c[1]:c[2]))}),!d.length&&a.key&&d.push(a.key+"="),d.join("&")},toArray:function(a){var c=this._getItemsAsjQuery(a&&a.connected),d=[];return a=a||{},c.each(function(){d.push(b(a.item||this).attr(a.attribute||
"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,d=b+this.helperProportions.width,f=this.positionAbs.top,e=f+this.helperProportions.height,g=a.left,l=g+a.width,h=a.top,n=h+a.height,o=this.offset.click.top,m=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?f+o>h&&f+o<n&&b+m>g&&b+m<l:g<b+this.helperProportions.width/
2&&d-this.helperProportions.width/2<l&&h<f+this.helperProportions.height/2&&e-this.helperProportions.height/2<n},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),a="y"===this.options.axis||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),c=c&&a,a=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return c?this.floating?d&&"right"==d||"down"==a?2:1:a&&("down"==
a?2:1):!1},_intersectsWithSides:function(a){var c=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),a=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"==f&&a||"left"==f&&!a:d&&("down"==d&&c||"up"==d&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(0<a?"down":"up")},
_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var c=[],d=[],f=this._connectWith();if(f&&a)for(a=f.length-1;0<=a;a--)for(var e=b(f[a]),g=e.length-1;0<=g;g--){var l=b.data(e[g],this.widgetName);l&&
l!=this&&!l.options.disabled&&d.push([b.isFunction(l.options.items)?l.options.items.call(l.element):b(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}d.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=d.length-1;0<=a;a--)d[a][0].each(function(){c.push(this)});return b(c)},_removeCurrentsFromItems:function(){var a=
this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(b){for(var d=0;d<a.length;d++)if(a[d]==b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var c=this.items,d=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):b(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(var e=f.length-1;0<=e;e--)for(var g=b(f[e]),l=g.length-1;0<=l;l--){var h=
b.data(g[l],this.widgetName);h&&h!=this&&!h.options.disabled&&(d.push([b.isFunction(h.options.items)?h.options.items.call(h.element[0],a,{item:this.currentItem}):b(h.options.items,h.element),h]),this.containers.push(h))}for(e=d.length-1;0<=e;e--){a=d[e][1];f=d[e][0];l=0;for(g=f.length;l<g;l++)h=b(f[l]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})}},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());
for(var c=this.items.length-1;0<=c;c--){var d=this.items[c];if(!(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])){var f=this.options.toleranceElement?b(this.options.toleranceElement,d.item):d.item;a||(d.width=f.outerWidth(),d.height=f.outerHeight());f=f.offset();d.left=f.left;d.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)f=this.containers[c].element.offset(),
this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(a){var a=a||this,c=a.options;if(!c.placeholder||c.placeholder.constructor==String){var d=c.placeholder;c.placeholder={element:function(){var c=b(document.createElement(a.currentItem[0].nodeName)).addClass(d||
a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(c.style.visibility="hidden"),c},update:function(b,e){if(!d||c.forcePlaceholderSize)e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}}}a.placeholder=b(c.placeholder.element.call(a.element,
a.currentItem));a.currentItem.after(a.placeholder);c.placeholder.update(a,a.placeholder)},_contactContainers:function(a){for(var c=null,d=null,f=this.containers.length-1;0<=f;f--)if(!b.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(!c||!b.contains(this.containers[f].element[0],c.element[0]))c=this.containers[f],d=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",a,this._uiHash(this)),this.containers[f].containerCache.over=
0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",a,this._uiHash(this)),this.containers[d].containerCache.over=1;else{for(var c=1E4,f=null,e=this.containers[d].floating?"left":"top",g=this.containers[d].floating?"width":"height",l=this.positionAbs[e]+this.offset.click[e],h=this.items.length-1;0<=h;h--)if(b.contains(this.containers[d].element[0],this.items[h].item[0])&&this.items[h].item[0]!=this.currentItem[0]){var n=this.items[h].item.offset()[e],o=!1;Math.abs(n-l)>Math.abs(n+
this.items[h][g]-l)&&(o=!0,n+=this.items[h][g]);Math.abs(n-l)<c&&(c=Math.abs(n-l),f=this.items[h],this.direction=o?"up":"down")}if(f||this.options.dropOnEmpty)this.currentContainer=this.containers[d],f?this._rearrange(a,f,null,!0):this._rearrange(a,null,this.containers[d].element,!0),this._trigger("change",a,this._uiHash()),this.containers[d]._trigger("change",a,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",a,this._uiHash(this)),
this.containers[d].containerCache.over=1}},_createHelper:function(a){var c=this.options,a=b.isFunction(c.helper)?b(c.helper.apply(this.element[0],[a,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return a.parents("body").length||b("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]),a[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==a[0].style.width||c.forceHelperSize)&&a.width(this.currentItem.width()),(""==a[0].style.height||c.forceHelperSize)&&a.height(this.currentItem.height()),a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in
a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&
"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,
0-this.offset.relative.top-this.offset.parent.top,b("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var c=b(a.containment)[0],a=b(a.containment).offset(),d="hidden"!=b(c).css("overflow");this.containment=[a.left+(parseInt(b(c).css("borderLeftWidth"),10)||
0)+(parseInt(b(c).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(b(c).css("borderTopWidth"),10)||0)+(parseInt(b(c).css("paddingTop"),10)||0)-this.margins.top,a.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b(c).css("borderLeftWidth"),10)||0)-(parseInt(b(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b(c).css("borderTopWidth"),10)||0)-(parseInt(b(c).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,c){c||(c=this.position);var d="absolute"==a?1:-1,f="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:f.scrollTop())*d,left:c.left+this.offset.relative.left*
d+this.offset.parent.left*d-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())*d}},_generatePosition:function(a){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(d[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());
var e=a.pageX,g=a.pageY;this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid&&(g=this.originalPageY+Math.round((g-
this.originalPageY)/c.grid[1])*c.grid[1],g=this.containment?g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3]?g-this.offset.click.top<this.containment[1]?g+c.grid[1]:g-c.grid[1]:g:g,e=this.originalPageX+Math.round((e-this.originalPageX)/c.grid[0])*c.grid[0],e=this.containment?e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2]?e-this.offset.click.left<this.containment[0]?e+c.grid[0]:e-c.grid[0]:e:e));return{top:g-this.offset.click.top-
this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:d.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:d.scrollLeft())}},_rearrange:function(a,b,d,f){d?d[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling);var e=this.counter=this.counter?++this.counter:
1;this._delay(function(){e==this.counter&&this.refreshPositions(!f)})},_clear:function(a,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if("auto"==this._storedCSS[f]||"static"==this._storedCSS[f])this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&
!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(c||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),
d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(f=this.containers.length-1;0<=f;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&b("body").css("cursor",
this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",a,this._uiHash());for(f=0;f<d.length;f++)d[f].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}c||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(f=0;f<d.length;f++)d[f].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var c=a||this;return{helper:c.helper,placeholder:c.placeholder||b([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:a?a.element:null}}})})(jQuery);
(function(b){var a=0;b.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var a,d,f;this.isMultiLine=this._isMultiLine();this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete",
"off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))d=f=a=!0;else{d=f=a=!1;var g=b.ui.keyCode;switch(e.keyCode){case g.PAGE_UP:a=!0;this._move("previousPage",e);break;case g.PAGE_DOWN:a=!0;this._move("nextPage",e);break;case g.UP:a=!0;this._keyEvent("previous",e);break;case g.DOWN:a=!0;this._keyEvent("next",e);break;case g.ENTER:case g.NUMPAD_ENTER:this.menu.active&&(a=!0,e.preventDefault(),this.menu.select(e));break;case g.TAB:this.menu.active&&this.menu.select(e);
break;case g.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:d=!0,this._searchTimeout(e)}}},keypress:function(e){if(a)a=!1,e.preventDefault();else if(!d){var f=b.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:this._move("previousPage",e);break;case f.PAGE_DOWN:this._move("nextPage",e);break;case f.UP:this._keyEvent("previous",e);break;case f.DOWN:this._keyEvent("next",e)}}},input:function(a){f?(f=!1,a.preventDefault()):this._searchTimeout(a)},
focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=b("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:b(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});
var c=this.menu.element[0];b(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(d){d.target!==a.element[0]&&d.target!==c&&!b.contains(c,d.target)&&a.close()})})},menufocus:function(a,c){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){b(a.target).trigger(a.originalEvent)});return}var d=c.item.data("ui-autocomplete-item")||c.item.data("item.autocomplete");
!1!==this._trigger("focus",a,{item:d})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item")||b.item.data("item.autocomplete"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);
this.selectedItem=c}});this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);b.fn.bgiframe&&this.menu.element.bgiframe();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,
b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this.document.find(b||"body")[0]);"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var a,d,f=this;b.isArray(this.options.source)?(a=this.options.source,this.source=function(d,f){f(b.ui.autocomplete.filter(a,d.term))}):"string"==typeof this.options.source?(d=this.options.source,
this.source=function(a,c){f.xhr&&f.xhr.abort();f.xhr=b.ajax({url:d,data:a,dataType:"json",success:function(a){c(a)},error:function(){c([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",
b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var b=this,d=++a;return function(f){d===a&&b.__response(f);b.pending--;b.pending||b.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):
this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:b.map(a,function(a){return"string"==typeof a?{label:a,value:a}:b.extend({label:a.label||a.value,value:a.value||a.label},a)})},
_suggest:function(a){var d=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(d,a);this.menu.refresh();d.show();this._resizeMenu();d.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,d){var f=this;b.each(d,function(b,d){f._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,
b).data("ui-autocomplete-item",b)},_renderItem:function(a,d){return b("<li>").append(b("<a>").text(d.label)).appendTo(a)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||
this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});b.extend(b.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,d){var f=RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(a,function(a){return f.test(a.label||a.value||a)})}});b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},
__response:function(a){var b;this._superApply(arguments);!this.options.disabled&&!this.cancelSearch&&(a&&a.length?b=this.options.messages.results(a.length):b=this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(b){var a=!1;b.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
b.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=b(c.target).closest(".ui-menu-item");!a&&d.not(".ui-state-disabled").length&&(a=!0,this.select(c),d.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||
(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var d=b(a.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(a,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var f=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,f)},blur:function(a){this._delay(function(){b.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){b(c.target).closest(".ui-menu").length||this.collapseAll(c);a=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=b(this);a.data("ui-menu-submenu-carat")&&a.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var f,e,g,l,h=!0;switch(a.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(a);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case b.ui.keyCode.HOME:this._move("first","first",a);break;case b.ui.keyCode.END:this._move("last","last",a);break;case b.ui.keyCode.UP:this.previous(a);break;case b.ui.keyCode.DOWN:this.next(a);break;case b.ui.keyCode.LEFT:this.collapse(a);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(a);
break;case b.ui.keyCode.ESCAPE:this.collapse(a);break;default:h=!1,f=this.previousFilter||"",e=String.fromCharCode(a.keyCode),g=!1,clearTimeout(this.filterTimer),e===f?g=!0:e=f+e,l=RegExp("^"+d(e),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(b(this).children("a").text())}),f=g&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(e=String.fromCharCode(a.keyCode),l=RegExp("^"+d(e),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(b(this).children("a").text())})),
f.length?(this.focus(a,f),1<f.length?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}h&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a,d=this.options.icons.submenu;a=this.element.find(this.options.menus);a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=b(this),c=a.prev("a"),g=b("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(g);a.attr("aria-labelledby",c.attr("id"))});a=a.add(this.element);a.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});a.children(":not(.ui-menu-item)").each(function(){var a=
b(this);/[^\-\u2014\u2013\s]/.test(a.text())||a.addClass("ui-widget-content ui-menu-divider")});a.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var f;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();f=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",
f.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);f=b.children(".ui-menu");f.length&&/^mouse/.test(a.type)&&this._startOpening(f);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var d,f,e,g,l,h;this._hasScroll()&&(d=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,f=parseFloat(b.css(this.activeMenu[0],
"paddingTop"))||0,e=a.offset().top-this.activeMenu.offset().top-d-f,g=this.activeMenu.scrollTop(),l=this.activeMenu.height(),h=a.height(),0>e?this.activeMenu.scrollTop(g+e):e+h>l&&this.activeMenu.scrollTop(g+e-l+h))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();
this._open(a)},this.delay))},_open:function(a){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(a,d){clearTimeout(this.timer);this.timer=this._delay(function(){var f=d?this.element:b(a&&a.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element);this._close(f);this.blur(a);
this.activeMenu=f},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();
b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,f){var e;this.active&&("first"===a||"last"===a?e=this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):e=this.active[a+
"All"](".ui-menu-item").eq(0));if(!e||!e.length||!this.active)e=this.activeMenu.children(".ui-menu-item")[b]();this.focus(f,e)},nextPage:function(a){var d,f,e;this.active?this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return d=b(this),0>d.offset().top-f-e}),this.focus(a,d)):this.focus(a,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(a)},previousPage:function(a){var d,
f,e;this.active?this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return d=b(this),0<d.offset().top-f+e}),this.focus(a,d)):this.focus(a,this.activeMenu.children(".ui-menu-item").first())):this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||b(a.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||
this.collapseAll(a,!0);this._trigger("select",a,d)}})})(jQuery);
(function(b){b.widget("ui.slider",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a,c,d=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+
" ui-widget ui-widget-content ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);d.range&&(!0===d.range&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&2!==d.values.length&&(d.values=[d.values[0],d.values[0]])),this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:"")));c=d.values&&d.values.length||1;for(a=f.length;a<c;a++)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=f.add(b(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){d.disabled||b(this).addClass("ui-state-hover")}).mouseleave(function(){b(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?b(this).blur():(b(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),b(this).addClass("ui-state-focus"))}).blur(function(){b(this).removeClass("ui-state-focus")});
this.handles.each(function(a){b(this).data("ui-slider-handle-index",a)});this._on(this.handles,{keydown:function(a){var c,d,e,f=b(a.target).data("ui-slider-handle-index");switch(a.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,b(a.target).addClass("ui-state-active"),c=this._start(a,f),!1===
c))return}c=this.options.step;this.options.values&&this.options.values.length?d=e=this.values(f):d=e=this.value();switch(a.keyCode){case b.ui.keyCode.HOME:e=this._valueMin();break;case b.ui.keyCode.END:e=this._valueMax();break;case b.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/5);break;case b.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/5);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+
c);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-c)}this._slide(a,f,e)},keyup:function(a){var c=b(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,c),this._change(a,c),b(a.target).removeClass("ui-state-active"))}});this._refreshValue();this._animateOff=!1},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(a){var c,d,f,e,g,l,h,n,o=this,m=this.options;return m.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:a.pageX,y:a.pageY},d=this._normValueFromMouse(c),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var c=Math.abs(d-o.values(a));f>c&&(f=c,e=b(this),g=a)}),!0===m.range&&this.values(1)===m.min&&(g+=1,e=b(this.handles[g])),l=this._start(a,g),
!1===l?!1:(this._mouseSliding=!0,this._handleIndex=g,e.addClass("ui-state-active").focus(),h=e.offset(),n=!b(a.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=n?{left:0,top:0}:{left:a.pageX-h.left-e.width()/2,top:a.pageY-h.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},
_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,
d,f,e,g;return"horizontal"===this.orientation?(b=this.elementSize.width,d=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,d=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),f=d/b,1<f&&(f=1),0>f&&(f=0),"vertical"===this.orientation&&(f=1-f),e=this._valueMax()-this._valueMin(),g=this._valueMin()+f*e,this._trimAlignValue(g)},_start:function(a,b){var d={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&
(d.value=this.values(b),d.values=this.values()),this._trigger("start",a,d)},_slide:function(a,b,d){var f,e,g;this.options.values&&this.options.values.length?(f=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&d>f||1===b&&d<f)&&(d=f),d!==this.values(b)&&(e=this.values(),e[b]=d,g=this._trigger("slide",a,{handle:this.handles[b],value:d,values:e}),this.values(b?0:1),!1!==g&&this.values(b,d,!0))):d!==this.value()&&(g=this._trigger("slide",a,{handle:this.handles[b],value:d}),
!1!==g&&this.value(d))},_stop:function(a,b){var d={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(b),d.values=this.values());this._trigger("stop",a,d)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(b),d.values=this.values());this._trigger("change",a,d)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(a,c){var d,f,e;if(1<arguments.length)this.options.values[a]=this._trimAlignValue(c),this._refreshValue(),this._change(null,a);else{if(!arguments.length)return this._values();if(!b.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();d=this.options.values;f=arguments[0];for(e=0;e<d.length;e+=1)d[e]=this._trimAlignValue(f[e]),this._change(null,
e);this._refreshValue()}},_setOption:function(a,c){var d,f=0;b.isArray(this.options.values)&&(f=this.options.values.length);b.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<f;d+=1)this._change(null,d);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,d;if(arguments.length)return b=this.options.values[a],
b=this._trimAlignValue(b),b;b=this.options.values.slice();for(d=0;d<b.length;d+=1)b[d]=this._trimAlignValue(b[d]);return b},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,d=(a-this._valueMin())%b,a=a-d;return 2*Math.abs(d)>=b&&(a+=0<d?b:-b),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a,
c,d,f,e,g=this.options.range,l=this.options,h=this,n=this._animateOff?!1:l.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((h.values(d)-h._valueMin())/(h._valueMax()-h._valueMin()));o["horizontal"===h.orientation?"left":"bottom"]=c+"%";b(this).stop(1,1)[n?"animate":"css"](o,l.animate);!0===h.options.range&&("horizontal"===h.orientation?(0===d&&h.range.stop(1,1)[n?"animate":"css"]({left:c+"%"},l.animate),1===d&&h.range[n?"animate":"css"]({width:c-a+
"%"},{queue:!1,duration:l.animate})):(0===d&&h.range.stop(1,1)[n?"animate":"css"]({bottom:c+"%"},l.animate),1===d&&h.range[n?"animate":"css"]({height:c-a+"%"},{queue:!1,duration:l.animate})));a=c}):(d=this.value(),f=this._valueMin(),e=this._valueMax(),c=e!==f?100*((d-f)/(e-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[n?"animate":"css"](o,l.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[n?"animate":"css"]({width:c+"%"},l.animate),"max"===
g&&"horizontal"===this.orientation&&this.range[n?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:l.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[n?"animate":"css"]({height:c+"%"},l.animate),"max"===g&&"vertical"===this.orientation&&this.range[n?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:l.animate}))}})})(jQuery);(function(b){function a(a,b){return{anims:[],duration:a,orgDuration:a,easing:b,startTime:va()}}function c(a){"object"==typeof a.pre&&c(a.pre);for(var b=0,d=a.anims.length;b<d;b++){var e=a.anims[b];e&&(e[3]&&e[0].stop(),e[0].animate(e[1],{complete:e[2],duration:a.duration,easing:a.easing}))}"object"==typeof a.post&&c(a.post)}function d(a,b){"boolean"!=typeof b&&(b=!0);"object"==typeof a.pre&&d(a.pre,b);for(var c=0,e=a.anims.length;c<e;c++){var f=a.anims[c];f[0].stop(!0);if(b&&(f[0].css(f[1]),"function"==
typeof f[2]))f[2]()}"object"==typeof a.post&&d(a.post,b)}function f(a){a.auto&&clearTimeout(a.auto);return a}function e(a,b,c){if(a.length)for(var d=0,e=a.length;d<e;d++)a[d].apply(b,c);return[]}function g(a,c,d,e,f){var g;g=c.children().slice(0,e.items.visibleConf.old);g=O(g,e,!0)[0];var h=O(d.children(),e,!0)[0],m={},j={};m[e.d.width]=h;m[e.d.left]=f?-h:g;j[e.d.left]=0;a.pre.anims.push([c,{opacity:1}]);a.post.anims.push([d,j,function(){b(this).remove()}]);d.css(m);return a}function l(a,c,d,e,f,
g){var c=c.children().slice(g,e.items.visible+g),c=O(c,e,!0)[0],g=O(d.children(),e,!0)[0],h={},m={};h[e.d.width]=g;h[e.d.left]=0;m[e.d.left]=f?-g:c;a.post.anims.push([d,m,function(){b(this).remove()}]);d.css(h);return a}function h(a,b,c){"show"==b||"hide"==b||(a.items.minimum>=b?(R(c,"Not enough items: hiding navigation ("+b+" items, "+a.items.minimum+" needed)."),b="hide"):b="show");var d="show"==b?"removeClass":"addClass",c=ea("hidden",c);if(a.auto.button)a.auto.button[b]()[d](c);if(a.prev.button)a.prev.button[b]()[d](c);
if(a.next.button)a.next.button[b]()[d](c);if(a.pagination.container)a.pagination.container[b]()[d](c)}function n(a,b,c){if(!a.circular&&!a.infinite){var d="removeClass"==b||"addClass"==b?b:!1,c=ea("disabled",c);if(a.auto.button&&d)a.auto.button[d](c);if(a.prev.button)a.prev.button[d||0==b?"addClass":"removeClass"](c);a.next.button&&(b=d||b==a.items.visible?"addClass":"removeClass",a.next.button[b](c))}}function o(a,b){"function"==typeof b&&(b=b.call(a));"undefined"==typeof b&&(b={});return b}function m(a,
c,d){"string"!=typeof d&&(d="");c=o(a,c);if("string"==typeof c)var e=J(c),c=-1==e?b(c):e;if("pagination"==d){if("boolean"==typeof c&&(c={keys:c}),"undefined"!=typeof c.jquery&&(c={container:c}),"function"==typeof c.container&&(c.container=c.container.call(a)),"string"==typeof c.container&&(c.container=b(c.container)),"number"!=typeof c.items)c.items=!1}else if("auto"==d){if("undefined"!=typeof c.jquery&&(c={button:c}),"boolean"==typeof c&&(c={play:c}),"number"==typeof c&&(c={pauseDuration:c}),"function"==
typeof c.button&&(c.button=c.button.call(a)),"string"==typeof c.button)c.button=b(c.button)}else if("undefined"!=typeof c.jquery&&(c={button:c}),"number"==typeof c&&(c={key:c}),"function"==typeof c.button&&(c.button=c.button.call(a)),"string"==typeof c.button&&(c.button=b(c.button)),"string"==typeof c.key)c.key=J(c.key);return c}function p(a,c,d,e,f){"string"==typeof a&&(a=isNaN(a)?b(a):parseInt(a));"object"==typeof a?("undefined"==typeof a.jquery&&(a=b(a)),a=f.children().index(a),-1==a&&(a=0),"boolean"!=
typeof d&&(d=!1)):"boolean"!=typeof d&&(d=!0);a=isNaN(a)?0:parseInt(a);c=isNaN(c)?0:parseInt(c);d&&(a+=e.first);a+=c;if(0<e.total){for(;a>=e.total;)a-=e.total;for(;0>a;)a+=e.total}return a}function t(a,b,c){for(var d=0,e=0;0<=c;c--){var f=a.eq(c),d=d+(f.is(":visible")?f[b.d.outerWidth](!0):0);if(d>b.maxDimention)return e;0==c&&(c=a.length);e++}}function q(a,b,c,d){for(var e=0,f=0,g=a.length-1;0<=d;d--){f++;if(f==g||a.eq(d).is(b)&&(e++,e==c))return f;0==d&&(d=a.length)}}function r(a,b){return b.items.visibleConf.org||
a.children().slice(0,b.items.visible).filter(b.items.filter).length}function w(a,b,c){for(var d=0,e=0,f=a.length-1;c<=f;c++){var g=a.eq(c),d=d+(g.is(":visible")?g[b.d.outerWidth](!0):0);if(d>b.maxDimention)return e;e++;if(e==f)return e;c==f&&(c=-1)}}function D(a,b,c,d){a=w(a,b,c);b.circular||c+a>d&&(a=d-c);return a}function x(a,b,c){return C(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function C(a,b,c,d){for(var e=0,f=0,g=a.length-1;d<=g;d++){f++;if(f==g||a.eq(d).is(b)&&(e++,e==c))return f;
d==g&&(d=-1)}}function F(a,b){return a.slice(0,b.items.visible)}function B(a,c,d){var e="boolean"==typeof d?d:!1;"number"!=typeof d&&(d=0);a.each(function(){var a=b(this),f=parseInt(a.css(c.d.marginRight));isNaN(f)&&(f=0);a.data("cfs_tempCssMargin",f);a.css(c.d.marginRight,e?a.data("cfs_tempCssMargin"):d+a.data("cfs_origCssMargin"))})}function G(a,b,c){var d=a.parent(),e=a.children(),f=F(e,b),g=ba(O(f,b,!0),b,c);d.css(g);b.usePadding&&(c=b.padding,d=c[b.d[1]],b.align&&0>d&&(d=0),f=f.last(),f.css(b.d.marginRight,
f.data("cfs_origCssMargin")+d),a.css(b.d.top,c[b.d[0]]),a.css(b.d.left,c[b.d[3]]));a.css(b.d.width,g[b.d.width]+2*j(e,b,"width"));a.css(b.d.height,Q(e,b,"height"));return g}function O(a,b,c){var d=j(a,b,"width",c),a=Q(a,b,"height",c);return[d,a]}function Q(a,b,c,d){"boolean"!=typeof d&&(d=!1);if("number"==typeof b[b.d[c]]&&d)return b[b.d[c]];if("number"==typeof b.items[b.d[c]])return b.items[b.d[c]];c=-1<c.toLowerCase().indexOf("width")?"outerWidth":"outerHeight";return y(a,b,c)}function y(a,b,c){for(var d=
0,e=0,f=a.length;e<f;e++){var g=a.eq(e),g=g.is(":visible")?g[b.d[c]](!0):0;d<g&&(d=g)}return d}function H(a,b,c){if(!a.is(":visible"))return 0;for(var d=a[b.d[c]](),b=-1<b.d[c].toLowerCase().indexOf("width")?["paddingLeft","paddingRight"]:["paddingTop","paddingBottom"],c=0,e=b.length;c<e;c++)var f=parseInt(a.css(b[c])),d=d-(isNaN(f)?0:f);return d}function j(a,b,c,d){"boolean"!=typeof d&&(d=!1);if("number"==typeof b[b.d[c]]&&d)return b[b.d[c]];if("number"==typeof b.items[b.d[c]])return b.items[b.d[c]]*
a.length;for(var c=-1<c.toLowerCase().indexOf("width")?"outerWidth":"outerHeight",e=d=0,f=a.length;e<f;e++)var g=a.eq(e),d=d+(g.is(":visible")?g[b.d[c]](!0):0);return d}function S(a,b,c){for(var d=!1,e=!1,f=0,g=a.length;f<g;f++){var h=a.eq(f),h=h.is(":visible")?h[b.d[c]](!0):0;!1===d?d=h:d!=h&&(e=!0);0==d&&(e=!0)}return e}function A(a){return"string"==typeof a&&"%"==a.substr(-1)}function aa(a,b){if(A(b)){b=b.substring(0,b.length-1);if(isNaN(b))return a;a*=b/100}return a}function v(a,b,c,d,e){"boolean"!=
typeof c&&(c=!0);"boolean"!=typeof d&&(d=!0);"boolean"!=typeof e&&(e=!1);c&&(a=b.events.prefix+a);d&&(a=a+"."+b.events.namespace);d&&e&&(a+=b.serialNumber);return a}function ea(a,b){return"string"==typeof b.classnames[a]?b.classnames[a]:a}function ba(a,b,c){"boolean"!=typeof c&&(c=!0);var c=b.usePadding&&c?b.padding:[0,0,0,0],d={};d[b.d.width]=a[0]+c[1]+c[3];d[b.d.height]=a[1]+c[0]+c[2];return d}function V(a,b){for(var c=[],d=0,e=a.length;d<e;d++)for(var f=0,g=b.length;f<g;f++)if(-1<b[f].indexOf(typeof a[d])&&
"undefined"==typeof c[f]){c[f]=a[d];break}return c}function na(a){if("undefined"==typeof a)return[0,0,0,0];if("number"==typeof a)return[a,a,a,a];"string"==typeof a&&(a=a.split("px").join("").split("em").join("").split(" "));if(!ua(a))return[0,0,0,0];for(var b=0;4>b;b++)a[b]=parseInt(a[b]);switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function ia(a,b){var c="number"==
typeof b[b.d.width]?Math.ceil(b[b.d.width]-j(a,b,"width")):0;switch(b.align){case "left":return[0,c];case "right":return[c,0];default:return[Math.ceil(c/2),Math.floor(c/2)]}}function U(a,b,c,d){b=a;if("function"==typeof c)b=c.call(d,b);else if("string"==typeof c){var b=c.split("+"),e=c.split("-");e.length>b.length?(c=!0,d=e[0],e=e[1]):(c=!1,d=b[0],e=b[1]);switch(d){case "even":b=1==a%2?a-1:a;break;case "odd":b=0==a%2?a-1:a;break;default:b=a}e=parseInt(e);isNaN(e)||(c&&(e=-e),b+=e)}"number"!=typeof b&&
(b=1);1>b&&(b=1);return b}function ja(a,b,c,d){return oa(U(a,b,c,d),b.items.visibleConf)}function oa(a,b){"number"==typeof b.min&&a<b.min&&(a=b.min);"number"==typeof b.max&&a>b.max&&(a=b.max);1>a&&(a=1);return a}function P(a){ua(a)||(a=[[a]]);ua(a[0])||(a=[a]);for(var c=0,d=a.length;c<d;c++)"string"==typeof a[c][0]&&(a[c][0]=b(a[c][0])),"boolean"!=typeof a[c][1]&&(a[c][1]=!0),"boolean"!=typeof a[c][2]&&(a[c][2]=!0),"number"!=typeof a[c][3]&&(a[c][3]=0);return a}function J(a){return"right"==a?39:"left"==
a?37:"up"==a?38:"down"==a?40:-1}function fa(a){for(var a=a+"=",b=document.cookie.split(";"),c=0,d=b.length;c<d;c++){for(var e=b[c];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return 0}function ya(a){if(a&&"string"==typeof a)var b=-1<a.indexOf("immediate")?!0:!1,a=-1<a.indexOf("resume")?!0:!1;else b=a=!1;return[b,a]}function ua(a){return"object"==typeof a&&a instanceof Array}function va(){return(new Date).getTime()}function R(a,b){if("object"==
typeof a)var c=" ("+a.selector+")",a=a.debug;else c="";if(!a)return!1;b="string"==typeof b?"carouFredSel"+c+": "+b:["carouFredSel"+c+":",b];window.console&&window.console.log&&window.console.log(b);return!1}b.fn.carouFredSel||(b.fn.carouFredSel=function(J,Q){if(0==this.length)return R(!0,'No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){b(this).carouFredSel(J,Q)});var s=this,L=this[0];if(s.data("cfs_isCarousel")){var ca=s.triggerHandler("_cfs_currentPosition");
s.trigger("_cfs_destroy",!0)}else ca=!1;s._cfs_init=function(a,c,d){a=o(L,a);a.debug&&(u.debug=a.debug,R(u,'The "debug" option should be moved to the second configuration-object.'));for(var e="items scroll auto prev next pagination".split(" "),f=0,g=e.length;f<g;f++)a[e[f]]=o(L,a[e[f]]);"number"==typeof a.scroll?a.scroll=50>=a.scroll?{items:a.scroll}:{duration:a.scroll}:"string"==typeof a.scroll&&(a.scroll={easing:a.scroll});"number"==typeof a.items?a.items={visible:a.items}:"variable"==a.items&&
(a.items={visible:a.items,width:a.items,height:a.items});"object"!=typeof a.items&&(a.items={});c&&(sa=b.extend(!0,{},b.fn.carouFredSel.defaults,a));k=b.extend(!0,{},b.fn.carouFredSel.defaults,a);"object"!=typeof k.items.visibleConf&&(k.items.visibleConf={});0==k.items.start&&"number"==typeof d&&(k.items.start=d);M.upDateOnWindowResize=k.responsive;M.direction="up"==k.direction||"left"==k.direction?"next":"prev";a=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top",
"marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];c=a[0].length;d="right"==k.direction||"left"==k.direction?0:1;k.d={};for(e=0;e<c;e++)k.d[a[0][e]]=a[d][e];a=s.children();switch(typeof k.items.visible){case "object":k.items.visibleConf.min=k.items.visible.min;k.items.visibleConf.max=k.items.visible.max;k.items.visible=!1;break;case "string":"variable"==k.items.visible?k.items.visibleConf.variable=!0:k.items.visibleConf.adjust=
k.items.visible;k.items.visible=!1;break;case "function":k.items.visibleConf.adjust=k.items.visible,k.items.visible=!1}"undefined"==typeof k.items.filter&&(k.items.filter=0<a.filter(":hidden").length?":visible":"*");"auto"==k[k.d.width]&&(k[k.d.width]=y(a,k,"outerWidth"));A(k[k.d.width])&&!k.responsive&&(k[k.d.width]=aa(H(Z.parent(),k,"innerWidth"),k[k.d.width]),M.upDateOnWindowResize=!0);"auto"==k[k.d.height]&&(k[k.d.height]=y(a,k,"outerHeight"));k.items[k.d.width]||(k.responsive?(R(!0,"Set a "+
k.d.width+" for the items!"),k.items[k.d.width]=y(a,k,"outerWidth")):k.items[k.d.width]=S(a,k,"outerWidth")?"variable":a[k.d.outerWidth](!0));k.items[k.d.height]||(k.items[k.d.height]=S(a,k,"outerHeight")?"variable":a[k.d.outerHeight](!0));k[k.d.height]||(k[k.d.height]=k.items[k.d.height]);if(!k.items.visible&&!k.responsive&&("variable"==k.items[k.d.width]&&(k.items.visibleConf.variable=!0),!k.items.visibleConf.variable))if("number"==typeof k[k.d.width]?k.items.visible=Math.floor(k[k.d.width]/k.items[k.d.width]):
(c=H(Z.parent(),k,"innerWidth"),k.items.visible=Math.floor(c/k.items[k.d.width]),k[k.d.width]=k.items.visible*k.items[k.d.width],k.items.visibleConf.adjust||(k.align=!1)),"Infinity"==k.items.visible||1>k.items.visible)R(!0,'Not a valid number of visible items: Set to "variable".'),k.items.visibleConf.variable=!0;k[k.d.width]||(k[k.d.width]="variable",!k.responsive&&("*"==k.items.filter&&!k.items.visibleConf.variable&&"variable"!=k.items[k.d.width])&&(k[k.d.width]=k.items.visible*k.items[k.d.width],
k.align=!1));k.items.visibleConf.variable?(k.maxDimention="variable"==k[k.d.width]?H(Z.parent(),k,"innerWidth"):k[k.d.width],!1===k.align&&(k[k.d.width]="variable"),k.items.visible=w(a,k,0)):"*"!=k.items.filter&&(k.items.visibleConf.org=k.items.visible,k.items.visible=x(a,k,0));"undefined"==typeof k.align&&(k.align="variable"==k[k.d.width]?!1:"center");k.items.visible=ja(k.items.visible,k,k.items.visibleConf.adjust,L);k.items.visibleConf.old=k.items.visible;k.usePadding=!1;if(k.responsive){k.items.visibleConf.min||
(k.items.visibleConf.min=k.items.visible);k.items.visibleConf.max||(k.items.visibleConf.max=k.items.visible);k.align=!1;k.padding=[0,0,0,0];(d=Z.is(":visible"))&&Z.hide();c=aa(H(Z.parent(),k,"innerWidth"),k[k.d.width]);"number"==typeof k[k.d.width]&&c<k[k.d.width]&&(c=k[k.d.width]);d&&Z.show();d=oa(Math.ceil(c/k.items[k.d.width]),k.items.visibleConf);d>a.length&&(d=a.length);var h=Math.floor(c/d),j=k[k.d.height],n=A(j);a.each(function(){var a=b(this),c=h-(a[k.d.outerWidth](true)-H(a,k,"innerWidth"));
a[k.d.width](c);if(n)a[k.d.height](aa(c,j))});k.items.visible=d;k.items[k.d.width]=h;k[k.d.width]=d*h}else switch(k.padding=na(k.padding),"top"==k.align&&(k.align="left"),"bottom"==k.align&&(k.align="right"),k.align){case "center":case "left":case "right":"variable"!=k[k.d.width]&&(a=ia(F(a,k),k),k.usePadding=!0,k.padding[k.d[1]]=a[1],k.padding[k.d[3]]=a[0]);break;default:k.align=!1,k.usePadding=0==k.padding[0]&&0==k.padding[1]&&0==k.padding[2]&&0==k.padding[3]?!1:!0}"boolean"==typeof k.cookie&&k.cookie&&
(k.cookie="caroufredsel_cookie_"+s.attr("id"));"number"!=typeof k.items.minimum&&(k.items.minimum=k.items.visible);"number"!=typeof k.scroll.duration&&(k.scroll.duration=500);"undefined"==typeof k.scroll.items&&(k.scroll.items=k.items.visibleConf.variable||"*"!=k.items.filter?"visible":k.items.visible);k.auto=m(L,k.auto,"auto");k.prev=m(L,k.prev);k.next=m(L,k.next);k.pagination=m(L,k.pagination,"pagination");k.auto=b.extend(!0,{},k.scroll,k.auto);k.prev=b.extend(!0,{},k.scroll,k.prev);k.next=b.extend(!0,
{},k.scroll,k.next);k.pagination=b.extend(!0,{},k.scroll,k.pagination);"boolean"!=typeof k.pagination.keys&&(k.pagination.keys=!1);"function"!=typeof k.pagination.anchorBuilder&&!1!==k.pagination.anchorBuilder&&(k.pagination.anchorBuilder=b.fn.carouFredSel.pageAnchorBuilder);"boolean"!=typeof k.auto.play&&(k.auto.play=!0);"number"!=typeof k.auto.delay&&(k.auto.delay=0);"undefined"==typeof k.auto.pauseOnEvent&&(k.auto.pauseOnEvent=!0);"boolean"!=typeof k.auto.pauseOnResize&&(k.auto.pauseOnResize=!0);
"number"!=typeof k.auto.pauseDuration&&(k.auto.pauseDuration=10>k.auto.duration?2500:5*k.auto.duration);k.synchronise&&(k.synchronise=P(k.synchronise));u.debug&&(R(u,"Carousel width: "+k.width),R(u,"Carousel height: "+k.height),k.maxDimention&&R(u,"Available "+k.d.width+": "+k.maxDimention),R(u,"Item widths: "+k.items.width),R(u,"Item heights: "+k.items.height),R(u,"Number of items visible: "+k.items.visible),k.auto.play&&R(u,"Number of items scrolled automatically: "+k.auto.items),k.prev.button&&
R(u,"Number of items scrolled backward: "+k.prev.items),k.next.button&&R(u,"Number of items scrolled forward: "+k.next.items))};s._cfs_build=function(){s.data("cfs_isCarousel",!0);var a={textAlign:s.css("textAlign"),"float":s.css("float"),position:s.css("position"),top:s.css("top"),right:s.css("right"),bottom:s.css("bottom"),left:s.css("left"),width:s.css("width"),height:s.css("height"),marginTop:s.css("marginTop"),marginRight:s.css("marginRight"),marginBottom:s.css("marginBottom"),marginLeft:s.css("marginLeft")};
switch(a.position){case "absolute":var c="absolute";break;case "fixed":c="fixed";break;default:c="relative"}Z.css(a).css({position:c});s.data("cfs_origCss",a).css({textAlign:"left","float":"none",position:"absolute",top:0,left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});k.usePadding&&s.children().each(function(){var a=parseInt(b(this).css(k.d.marginRight));isNaN(a)&&(a=0);b(this).data("cfs_origCssMargin",a)})};s._cfs_bind_events=function(){s._cfs_unbind_events();s.bind(v("stop",u),function(a,
b){a.stopPropagation();M.isStopped||k.auto.button&&k.auto.button.addClass(ea("stopped",u));M.isStopped=!0;k.auto.play&&(k.auto.play=!1,s.trigger(v("pause",u),b));return!0});s.bind(v("finish",u),function(a){a.stopPropagation();M.isScrolling&&d(E);return!0});s.bind(v("pause",u),function(a,b,c){a.stopPropagation();Y=f(Y);b&&M.isScrolling&&(E.isStopped=!0,a=va()-E.startTime,E.duration-=a,E.pre&&(E.pre.duration-=a),E.post&&(E.post.duration-=a),d(E,!1));!M.isPaused&&!M.isScrolling&&c&&(Y.timePassed+=va()-
Y.startTime);M.isPaused||k.auto.button&&k.auto.button.addClass(ea("paused",u));M.isPaused=!0;k.auto.onPausePause&&(c=k.auto.pauseDuration-Y.timePassed,a=100-Math.ceil(100*c/k.auto.pauseDuration),k.auto.onPausePause.call(L,a,c));return!0});s.bind(v("play",u),function(a,b,c,d){a.stopPropagation();Y=f(Y);d=V([b,c,d],["string","number","boolean"]);b=d[0];c=d[1];d=d[2];"prev"!=b&&"next"!=b&&(b=M.direction);"number"!=typeof c&&(c=0);"boolean"!=typeof d&&(d=!1);d&&(M.isStopped=!1,k.auto.play=!0);if(!k.auto.play)return a.stopImmediatePropagation(),
R(u,"Carousel stopped: Not scrolling.");M.isPaused&&k.auto.button&&(k.auto.button.removeClass(ea("stopped",u)),k.auto.button.removeClass(ea("paused",u)));M.isPaused=!1;Y.startTime=va();a=k.auto.pauseDuration+c;dur2=a-Y.timePassed;perc=100-Math.ceil(100*dur2/a);Y.auto=setTimeout(function(){k.auto.onPauseEnd&&k.auto.onPauseEnd.call(L,perc,dur2);M.isScrolling?s.trigger(v("play",u),b):s.trigger(v(b,u),k.auto)},dur2);k.auto.onPauseStart&&k.auto.onPauseStart.call(L,perc,dur2);return!0});s.bind(v("resume",
u),function(a){a.stopPropagation();E.isStopped?(E.isStopped=!1,M.isPaused=!1,M.isScrolling=!0,E.startTime=va(),c(E)):s.trigger(v("play",u));return!0});s.bind(v("prev",u)+" "+v("next",u),function(a,b,c,d){a.stopPropagation();if(M.isStopped||s.is(":hidden"))return a.stopImmediatePropagation(),R(u,"Carousel stopped or hidden: Not scrolling.");if(k.items.minimum>=z.total)return a.stopImmediatePropagation(),R(u,"Not enough items ("+z.total+", "+k.items.minimum+" needed): Not scrolling.");var e=V([b,c,
d],["object","number/string","function"]),b=e[0],c=e[1],d=e[2],f=a.type.substr(u.events.prefix.length);if("object"!=typeof b||null==b)b=k[f];"function"==typeof d&&(b.onAfter=d);if("number"!=typeof c){if("*"!=k.items.filter)c="visible";else for(var g=[c,b.items,k[f].items],e=0,h=g.length;e<h;e++)if("number"==typeof g[e]||"page"==g[e]||"visible"==g[e]){c=g[e];break}switch(c){case "page":return a.stopImmediatePropagation(),s.triggerHandler(f+"Page",[b,d]);case "visible":!k.items.visibleConf.variable&&
"*"==k.items.filter&&(c=k.items.visible)}}if(E.isStopped)return s.trigger(v("resume",u)),s.trigger(v("queue",u),[f,[b,c,d]]),a.stopImmediatePropagation(),R(u,"Carousel resumed scrolling.");if(0<b.duration&&M.isScrolling)return b.queue&&s.trigger(v("queue",u),[f,[b,c,d]]),a.stopImmediatePropagation(),R(u,"Carousel currently scrolling.");if(b.conditions&&!b.conditions.call(L))return a.stopImmediatePropagation(),R(u,'Callback "conditions" returned false.');Y.timePassed=0;s.trigger("_cfs_slide_"+f,[b,
c]);if(k.synchronise){a=k.synchronise;b=[b,c];d=0;for(h=a.length;d<h;d++)e=f,a[d][1]||(b[0]=a[d][0].triggerHandler("_cfs_configuration",f)),a[d][2]||(e="prev"==e?"next":"prev"),b[1]=c+a[d][3],a[d][0].trigger("_cfs_slide_"+e,b)}return!0});s.bind(v("_cfs_slide_prev",u,!1),function(d,h,m){d.stopPropagation();var p=s.children();if(!k.circular&&0==z.first)return k.infinite&&s.trigger(v("next",u),z.total-1),d.stopImmediatePropagation();k.usePadding&&B(p,k);if("number"!=typeof m){if(k.items.visibleConf.variable)m=
t(p,k,z.total-1);else if("*"!=k.items.filter)var o="number"==typeof h.items?h.items:r(s,k),m=q(p,k.items.filter,o,z.total-1);else m=k.items.visible;m=U(m,k,h.items,L)}k.circular||z.total-m<z.first&&(m=z.total-z.first);k.items.visibleConf.old=k.items.visible;k.items.visibleConf.variable?(o=w(p,k,z.total-m),k.items.visible+m<=o&&m<z.total&&(m++,o=w(p,k,z.total-m)),k.items.visible=ja(o,k,k.items.visibleConf.adjust,L)):"*"!=k.items.filter&&(o=x(p,k,z.total-m),k.items.visible=ja(o,k,k.items.visibleConf.adjust,
L));k.usePadding&&B(p,k,!0);if(0==m)return d.stopImmediatePropagation(),R(u,"0 items to scroll: Not scrolling.");R(u,"Scrolling "+m+" items backward.");for(z.first+=m;z.first>=z.total;)z.first-=z.total;k.circular||(0==z.first&&h.onEnd&&h.onEnd.call(L),k.infinite||n(k,z.first,u));s.children().slice(z.total-m,z.total).prependTo(s);z.total<k.items.visible+m&&s.children().slice(0,k.items.visible+m-z.total).clone(!0).appendTo(s);var p=s.children(),y=p.slice(m,k.items.visibleConf.old+m),C=p.slice(0,k.items.visible),
D=p.eq(m-1),A=y.last(),d=C.last();k.usePadding&&B(p,k);if(k.align)var o=ia(C,k),S=o[0],F=o[1];else F=S=0;o=0>S?k.padding[k.d[3]]:0;if("directscroll"==h.fx&&k.items.visible<m){var P=p.slice(k.items.visibleConf.old,m),J=k.items[k.d.width];P.each(function(){var a=b(this);a.data("isHidden",a.is(":hidden")).hide()});k.items[k.d.width]="variable"}else P=!1;var H=j(p.slice(0,m),k,"width"),aa=ba(O(C,k,!0),k,!k.usePadding);P&&(k.items[k.d.width]=J);k.usePadding&&(B(p,k,!0),0<=F&&B(A,k,k.padding[k.d[1]]),B(D,
k,k.padding[k.d[3]]));k.align&&(k.padding[k.d[1]]=F,k.padding[k.d[3]]=S);p={};J=h.duration;"none"==h.fx?J=0:"auto"==J?J=k.scroll.duration/k.scroll.items*m:0>=J?J=0:10>J&&(J=H/J);E=a(J,h.easing);("variable"==k[k.d.width]||"variable"==k[k.d.height])&&E.anims.push([Z,aa]);if(k.usePadding){var fa=k.padding[k.d[3]];if(d.not(D).length){var G={};G[k.d.marginRight]=D.data("cfs_origCssMargin");0>S?D.css(G):E.anims.push([D,G])}d.not(A).length&&(D={},D[k.d.marginRight]=A.data("cfs_origCssMargin"),E.anims.push([A,
D]));0<=F&&(A={},A[k.d.marginRight]=d.data("cfs_origCssMargin")+k.padding[k.d[1]],E.anims.push([d,A]))}else fa=0;p[k.d.left]=fa;d=[y,C,aa,J];h.onBefore&&h.onBefore.apply(L,d);da.onBefore=e(da.onBefore,L,d);switch(h.fx){case "fade":case "crossfade":case "cover":case "uncover":E.pre=a(E.duration,E.easing),E.post=a(E.duration,E.easing),E.duration=0}switch(h.fx){case "crossfade":case "cover":case "uncover":var T=s.clone().appendTo(Z)}switch(h.fx){case "uncover":T.children().slice(0,m).remove();case "crossfade":case "cover":T.children().slice(k.items.visible).remove()}switch(h.fx){case "fade":E.pre.anims.push([s,
{opacity:0}]);break;case "crossfade":T.css({opacity:0});E.pre.anims.push([s,{width:"+=0"},function(){T.remove()}]);E.post.anims.push([T,{opacity:1}]);break;case "cover":E=g(E,s,T,k,!0);break;case "uncover":E=l(E,s,T,k,!0,m)}E.anims.push([s,p,function(){var d=k.items.visible+m-z.total;if(d>0){s.children().slice(z.total).remove();y=s.children().slice(z.total-(m-d)).get().concat(s.children().slice(0,d).get())}P&&P.each(function(){var a=b(this);a.data("isHidden")||a.show()});if(k.usePadding){d=s.children().eq(k.items.visible+
m-1);d.css(k.d.marginRight,d.data("cfs_origCssMargin"))}E.anims=[];if(E.pre)E.pre=a(E.orgDuration,E.easing);d=function(){switch(h.fx){case "fade":case "crossfade":s.css("filter","")}E.post=a(0,null);M.isScrolling=false;var b=[y,C,aa];h.onAfter&&h.onAfter.apply(L,b);da.onAfter=e(da.onAfter,L,b);if(ga.length){s.trigger(v(ga[0][0],u),ga[0][1]);ga.shift()}M.isPaused||s.trigger(v("play",u))};switch(h.fx){case "fade":E.pre.anims.push([s,{opacity:1},d]);c(E.pre);break;case "uncover":E.pre.anims.push([s,
{width:"+=0"},d]);c(E.pre);break;default:d()}}]);M.isScrolling=!0;s.css(k.d.left,-(H-o));Y=f(Y);c(E);d=k.cookie;o=s.triggerHandler(v("currentPosition",u));d&&(document.cookie=d+"="+o+"; path=/");s.trigger(v("updatePageStatus",u),[!1,aa]);return!0});s.bind(v("_cfs_slide_next",u,!1),function(d,h,m){d.stopPropagation();var p=s.children();if(!k.circular&&z.first==k.items.visible)return k.infinite&&s.trigger(v("prev",u),z.total-1),d.stopImmediatePropagation();k.usePadding&&B(p,k);if("number"!=typeof m){if("*"!=
k.items.filter)var o="number"==typeof h.items?h.items:r(s,k),m=C(p,k.items.filter,o+1,0,k.circular)-1;else m=k.items.visible;m=U(m,k,h.items,L)}var q=0==z.first?z.total:z.first;if(!k.circular){if(k.items.visibleConf.variable)var y=w(p,k,m),o=t(p,k,q-1);else o=y=k.items.visible;m+y>q&&(m=q-o)}k.items.visibleConf.old=k.items.visible;if(k.items.visibleConf.variable){for(y=D(p,k,m,q);k.items.visible-m>=y&&m<z.total;)m++,y=D(p,k,m,q);k.items.visible=ja(y,k,k.items.visibleConf.adjust,L)}else"*"!=k.items.filter&&
(y=x(p,k,m),k.items.visible=ja(y,k,k.items.visibleConf.adjust,L));k.usePadding&&B(p,k,!0);if(0==m)return d.stopImmediatePropagation(),R(u,"0 items to scroll: Not scrolling.");R(u,"Scrolling "+m+" items forward.");for(z.first-=m;0>z.first;)z.first+=z.total;k.circular||(z.first==k.items.visible&&h.onEnd&&h.onEnd.call(L),k.infinite||n(k,z.first,u));z.total<k.items.visible+m&&s.children().slice(0,k.items.visible+m-z.total).clone(!0).appendTo(s);var p=s.children(),A=p.slice(0,k.items.visibleConf.old),
S=p.slice(m,k.items.visible+m),d=p.eq(m-1),y=A.last(),P=S.last();k.usePadding&&B(p,k);if(k.align)var q=ia(S,k),o=q[0],J=q[1];else J=o=0;if("directscroll"==h.fx&&k.items.visibleConf.old<m){var H=p.slice(k.items.visibleConf.old,m),aa=k.items[k.d.width];H.each(function(){var a=b(this);a.data("isHidden",a.is(":hidden")).hide()});k.items[k.d.width]="variable"}else H=!1;var q=j(p.slice(0,m),k,"width"),fa=ba(O(S,k,!0),k,!k.usePadding);H&&(k.items[k.d.width]=aa);k.align&&0>k.padding[k.d[1]]&&(k.padding[k.d[1]]=
0);k.usePadding&&(B(p,k,!0),B(y,k,k.padding[k.d[1]]));k.align&&(k.padding[k.d[1]]=J,k.padding[k.d[3]]=o);var aa={},G=h.duration;"none"==h.fx?G=0:"auto"==G?G=k.scroll.duration/k.scroll.items*m:0>=G?G=0:10>G&&(G=q/G);E=a(G,h.easing);("variable"==k[k.d.width]||"variable"==k[k.d.height])&&E.anims.push([Z,fa]);if(k.usePadding){var T=P.data("cfs_origCssMargin");0<=J&&(T+=k.padding[k.d[1]]);P.css(k.d.marginRight,T);d.not(y).length&&(P={},P[k.d.marginRight]=y.data("cfs_origCssMargin"),E.anims.push([y,P]));
y=d.data("cfs_origCssMargin");0<=o&&(y+=k.padding[k.d[3]]);P={};P[k.d.marginRight]=y;E.anims.push([d,P])}aa[k.d.left]=-q;0>o&&(aa[k.d.left]+=o);d=[A,S,fa,G];h.onBefore&&h.onBefore.apply(L,d);da.onBefore=e(da.onBefore,L,d);switch(h.fx){case "fade":case "crossfade":case "cover":case "uncover":E.pre=a(E.duration,E.easing),E.post=a(E.duration,E.easing),E.duration=0}switch(h.fx){case "crossfade":case "cover":case "uncover":var V=s.clone().appendTo(Z)}switch(h.fx){case "uncover":V.children().slice(k.items.visibleConf.old).remove();
break;case "crossfade":case "cover":V.children().slice(0,m).remove(),V.children().slice(k.items.visible).remove()}switch(h.fx){case "fade":E.pre.anims.push([s,{opacity:0}]);break;case "crossfade":V.css({opacity:0});E.pre.anims.push([s,{width:"+=0"},function(){V.remove()}]);E.post.anims.push([V,{opacity:1}]);break;case "cover":E=g(E,s,V,k,!1);break;case "uncover":E=l(E,s,V,k,!1,m)}E.anims.push([s,aa,function(){var d=k.items.visible+m-z.total;s.css(k.d.left,k.usePadding?k.padding[k.d[3]]:0);d>0&&s.children().slice(z.total).remove();
var f=s.children().slice(0,m).appendTo(s).last();d>0&&(S=F(p,k));H&&H.each(function(){var a=b(this);a.data("isHidden")||a.show()});if(k.usePadding){if(z.total<k.items.visible+m){d=s.children().eq(k.items.visible-1);d.css(k.d.marginRight,d.data("cfs_origCssMargin")+k.padding[k.d[3]])}f.css(k.d.marginRight,f.data("cfs_origCssMargin"))}E.anims=[];if(E.pre)E.pre=a(E.orgDuration,E.easing);f=function(){switch(h.fx){case "fade":case "crossfade":s.css("filter","")}E.post=a(0,null);M.isScrolling=false;var b=
[A,S,fa];h.onAfter&&h.onAfter.apply(L,b);da.onAfter=e(da.onAfter,L,b);if(ga.length){s.trigger(v(ga[0][0],u),ga[0][1]);ga.shift()}M.isPaused||s.trigger(v("play",u))};switch(h.fx){case "fade":E.pre.anims.push([s,{opacity:1},f]);c(E.pre);break;case "uncover":E.pre.anims.push([s,{width:"+=0"},f]);c(E.pre);break;default:f()}}]);M.isScrolling=!0;Y=f(Y);c(E);d=k.cookie;o=s.triggerHandler(v("currentPosition",u));d&&(document.cookie=d+"="+o+"; path=/");s.trigger(v("updatePageStatus",u),[!1,fa]);return!0});
s.bind(v("slideTo",u),function(a,b,c,d,e,f,g){a.stopPropagation();a=V([b,c,d,e,f,g],"string/number/object number boolean object string function".split(" "));e=a[3];f=a[4];g=a[5];b=p(a[0],a[1],a[2],z,s);if(0!=b){"object"!=typeof e&&(e=!1);if(M.isScrolling&&("object"!=typeof e||0<e.duration))return!1;"prev"!=f&&"next"!=f&&(f=k.circular?b<=z.total/2?"next":"prev":0==z.first||z.first>b?"next":"prev");"prev"==f&&(b=z.total-b);s.trigger(v(f,u),[e,b,g]);return!0}});s.bind(v("prevPage",u),function(a,b,c){a.stopPropagation();
a=s.triggerHandler(v("currentPage",u));return s.triggerHandler(v("slideToPage",u),[a-1,b,"prev",c])});s.bind(v("nextPage",u),function(a,b,c){a.stopPropagation();a=s.triggerHandler(v("currentPage",u));return s.triggerHandler(v("slideToPage",u),[a+1,b,"next",c])});s.bind(v("slideToPage",u),function(a,b,c,d,e){a.stopPropagation();"number"!=typeof b&&(b=s.triggerHandler(v("currentPage",u)));var a=k.pagination.items||k.items.visible,f=Math.floor(z.total/a)-1;0>b&&(b=f);b>f&&(b=0);return s.triggerHandler(v("slideTo",
u),[b*a,0,!0,c,d,e])});s.bind(v("jumpToStart",u),function(a,b){a.stopPropagation();b=b?p(b,0,!0,z,s):0;b+=z.first;if(0!=b){for(;b>z.total;)b-=z.total;s.prepend(s.children().slice(b,z.total))}return!0});s.bind(v("synchronise",u),function(a,b){a.stopPropagation();if(b)b=P(b);else if(k.synchronise)b=k.synchronise;else return R(u,"No carousel to synchronise.");for(var c=s.triggerHandler(v("currentPosition",u)),d=!0,e=0,f=b.length;e<f;e++)b[e][0].triggerHandler(v("slideTo",u),[c,b[e][3],!0])||(d=!1);return d});
s.bind(v("queue",u),function(a,b,c){a.stopPropagation();"function"==typeof b?b.call(L,ga):ua(b)?ga=b:"undefined"!=typeof b&&ga.push([b,c]);return ga});s.bind(v("insertItem",u),function(a,c,d,e,f){a.stopPropagation();f=V([c,d,e,f],["string/object","string/number/object","boolean","number"]);c=f[0];d=f[1];e=f[2];f=f[3];"object"==typeof c&&"undefined"==typeof c.jquery&&(c=b(c));"string"==typeof c&&(c=b(c));if("object"!=typeof c||"undefined"==typeof c.jquery||0==c.length)return R(u,"Not a valid object.");
"undefined"==typeof d&&(d="end");k.usePadding&&c.each(function(){var a=parseInt(b(this).css(k.d.marginRight));isNaN(a)&&(a=0);b(this).data("cfs_origCssMargin",a)});var g=d,a="before";"end"==d?e?(0==z.first?(d=z.total-1,a="after"):(d=z.first,z.first+=c.length),0>d&&(d=0)):(d=z.total-1,a="after"):d=p(d,f,e,z,s);"end"!=g&&!e&&d<z.first&&(z.first+=c.length);z.first>=z.total&&(z.first-=z.total);d=s.children().eq(d);if(d.length)d[a](c);else s.append(c);z.total=s.children().length;c=s.triggerHandler("updateSizes");
h(k,z.total,u);n(k,z.first,u);s.trigger(v("linkAnchors",u));s.trigger(v("updatePageStatus",u),[!0,c]);return!0});s.bind(v("removeItem",u),function(a,b,c,d){a.stopPropagation();a=V([b,c,d],["string/number/object","boolean","number"]);b=a[0];c=a[1];d=a[2];"undefined"==typeof b||"end"==b?s.children().last().remove():(b=p(b,d,c,z,s),c=s.children().eq(b),c.length&&(b<z.first&&(z.first-=c.length),c.remove()));z.total=s.children().length;b=s.triggerHandler("updateSizes");h(k,z.total,u);n(k,z.first,u);s.trigger(v("updatePageStatus",
u),[!0,b]);return!0});s.bind(v("onBefore",u)+" "+v("onAfter",u),function(a,b){a.stopPropagation();var c=a.type.substr(u.events.prefix.length);ua(b)&&(da[c]=b);"function"==typeof b&&da[c].push(b);return da[c]});s.bind(v("_cfs_currentPosition",u,!1),function(a,b){a.stopPropagation();return s.triggerHandler(v("currentPosition",u),b)});s.bind(v("currentPosition",u),function(a,b){a.stopPropagation();var c=0==z.first?0:z.total-z.first;"function"==typeof b&&b.call(L,c);return c});s.bind(v("currentPage",
u),function(a,b){a.stopPropagation();var c=k.pagination.items||k.items.visible,d=Math.ceil(z.total/c-1),c=0==z.first?0:z.first<z.total%c?0:z.first==c&&!k.circular?d:Math.round((z.total-z.first)/c);0>c&&(c=0);c>d&&(c=d);"function"==typeof b&&b.call(L,c);return c});s.bind(v("currentVisible",u),function(a,b){a.stopPropagation();$i=F(s.children(),k);"function"==typeof b&&b.call(L,$i);return $i});s.bind(v("slice",u),function(a,b,c,d){a.stopPropagation();d=V([b,c,d],["number","number","function"]);b="number"==
typeof d[0]?d[0]:0;c="number"==typeof d[1]?d[1]:z.total;d=d[2];b+=z.first;for(c+=z.first;b>z.total;)b-=z.total;for(;c>z.total;)c-=z.total;for(;0>b;)b+=z.total;for(;0>c;)c+=z.total;a=s.children();b=c>b?a.slice(b,c):a.slice(b,z.total).get().concat(a.slice(0,c).get());"function"==typeof d&&d.call(L,b);return b});s.bind(v("isPaused",u)+" "+v("isStopped",u)+" "+v("isScrolling",u),function(a,b){a.stopPropagation();var c=a.type.substr(u.events.prefix.length);"function"==typeof b&&b.call(L,M[c]);return M[c]});
s.bind(v("_cfs_configuration",u,!1),function(a,b,c,d){a.stopPropagation();return s.triggerHandler(v("configuration",u),[b,c,d])});s.bind(v("configuration",u),function(a,c,d,e){a.stopPropagation();a=!1;if("function"==typeof c)c.call(L,k);else if("object"==typeof c)sa=b.extend(!0,{},sa,c),!1!==d?a=!0:k=b.extend(!0,{},k,c);else if("undefined"!=typeof c)if("function"==typeof d)c=eval("opts."+c),"undefined"==typeof c&&(c=""),d.call(L,c);else if("undefined"!=typeof d)"boolean"!==typeof e&&(e=!0),eval("opts_orig."+
c+" = b"),!1!==e?a=!0:eval("opts."+c+" = b");else return eval("opts."+c);a&&(B(s.children(),k),s._cfs_init(sa),s._cfs_bind_buttons(),d=G(s,k,!1),s.trigger(v("updatePageStatus",u),[!0,d]));return k});s.bind(v("linkAnchors",u),function(a,c,d){a.stopPropagation();"undefined"==typeof c||0==c.length?c=b("body"):"string"==typeof c&&(c=b(c));if("object"!=typeof c)return R(u,"Not a valid object.");if("string"!=typeof d||0==d.length)d="a.caroufredsel";c.find(d).each(function(){var a=this.hash||"";0<a.length&&
-1!=s.children().index(b(a))&&b(this).unbind("click").click(function(b){b.preventDefault();s.trigger(v("slideTo",u),a)})});return!0});s.bind(v("updatePageStatus",u),function(a,c){a.stopPropagation();if(k.pagination.container){if(c){var d=k.pagination.items||k.items.visible,e=Math.ceil(z.total/d);k.pagination.anchorBuilder&&(k.pagination.container.children().remove(),k.pagination.container.each(function(){for(var a=0;a<e;a++){var c=s.children().eq(p(a*d,0,!0,z,s));b(this).append(k.pagination.anchorBuilder(a+
1,c))}}));k.pagination.container.each(function(){b(this).children().unbind(k.pagination.event).each(function(a){b(this).bind(k.pagination.event,function(b){b.preventDefault();s.trigger(v("slideTo",u),[a*d,0,true,k.pagination])})})})}k.pagination.container.each(function(){b(this).children().removeClass(ea("selected",u)).eq(s.triggerHandler(v("currentPage",u))).addClass(ea("selected",u))});return!0}});s.bind(v("updateSizes",u),function(){var a=s.children(),b=k.items.visible;k.items.visibleConf.variable?
b=w(a,k,0):"*"!=k.items.filter&&(b=x(a,k,0));!k.circular&&(0!=z.first&&b>z.first)&&(a=k.items.visibleConf.variable?t(a,k,z.first)-z.first:"*"!=k.items.filter?q(a,k.items.filter,k.items.visibleConf.org,z.first)-z.first:k.items.visible-z.first,R(u,"Preventing non-circular: sliding "+a+" items backward."),s.trigger("prev",a));k.items.visible=ja(b,k,k.items.visibleConf.adjust,L);return G(s,k)});s.bind(v("_cfs_destroy",u,!1),function(a,b){a.stopPropagation();s.trigger(v("destroy",u),b);return!0});s.bind(v("destroy",
u),function(a,b){a.stopPropagation();Y=f(Y);s.data("cfs_isCarousel",!1);s.trigger(v("finish",u));b&&s.trigger(v("jumpToStart",u));k.usePadding&&B(s.children(),k);s.css(s.data("cfs_origCss"));s._cfs_unbind_events();s._cfs_unbind_buttons();Z.replaceWith(s);return!0})};s._cfs_unbind_events=function(){s.unbind(v("",u));s.unbind(v("",u,!1))};s._cfs_bind_buttons=function(){s._cfs_unbind_buttons();h(k,z.total,u);n(k,z.first,u);if(k.auto.pauseOnHover){var a=ya(k.auto.pauseOnHover);Z.bind(v("mouseenter",u,
!1),function(){s.trigger(v("pause",u),a)}).bind(v("mouseleave",u,!1),function(){s.trigger(v("resume",u))})}k.auto.button&&k.auto.button.bind(v(k.auto.event,u,!1),function(a){a.preventDefault();var a=!1,b=null;M.isPaused?a="play":k.auto.pauseOnEvent&&(a="pause",b=ya(k.auto.pauseOnEvent));a&&s.trigger(v(a,u),b)});k.prev.button&&(k.prev.button.bind(v(k.prev.event,u,!1),function(a){a.preventDefault();s.trigger(v("prev",u))}),k.prev.pauseOnHover&&(a=ya(k.prev.pauseOnHover),k.prev.button.bind(v("mouseenter",
u,!1),function(){s.trigger(v("pause",u),a)}).bind(v("mouseleave",u,!1),function(){s.trigger(v("resume",u))})));k.next.button&&(k.next.button.bind(v(k.next.event,u,!1),function(a){a.preventDefault();s.trigger(v("next",u))}),k.next.pauseOnHover&&(a=ya(k.next.pauseOnHover),k.next.button.bind(v("mouseenter",u,!1),function(){s.trigger(v("pause",u),a)}).bind(v("mouseleave",u,!1),function(){s.trigger(v("resume",u))})));if(b.fn.mousewheel&&(k.prev.mousewheel&&!M.mousewheelPrev&&(M.mousewheelPrev=!0,Z.mousewheel(function(a,
b){if(b>0){a.preventDefault();var c=typeof k.prev.mousewheel=="number"?k.prev.mousewheel:null;s.trigger(v("prev",u),c)}})),k.next.mousewheel&&!M.mousewheelNext))M.mousewheelNext=!0,Z.mousewheel(function(a,b){if(b<0){a.preventDefault();var c=typeof k.next.mousewheel=="number"?k.next.mousewheel:null;s.trigger(v("next",u),c)}});if(b.fn.touchwipe){var c=k.prev.wipe?function(){s.trigger(v("prev",u))}:null,d=k.next.wipe?function(){s.trigger(v("next",u))}:null;if((d||d)&&!M.touchwipe){M.touchwipe=!0;var e=
{min_move_x:30,min_move_y:30,preventDefaultEvents:!0};switch(k.direction){case "up":case "down":e.wipeUp=d;e.wipeDown=c;break;default:e.wipeLeft=d,e.wipeRight=c}Z.touchwipe(e)}}k.pagination.container&&k.pagination.pauseOnHover&&(a=ya(k.pagination.pauseOnHover),k.pagination.container.bind(v("mouseenter",u,!1),function(){s.trigger(v("pause",u),a)}).bind(v("mouseleave",u,!1),function(){s.trigger(v("resume",u))}));(k.prev.key||k.next.key)&&b(document).bind(v("keyup",u,!1,!0,!0),function(a){var b=a.keyCode;
if(b==k.next.key){if(VISH&&VISH.Editor&&VISH.Editor.Carrousel.mustMoveCarrousel("next")){a.preventDefault();s.trigger(v("next",u))}}else if(b==k.prev.key&&VISH&&VISH.Editor&&VISH.Editor.Carrousel.mustMoveCarrousel("prev")){a.preventDefault();s.trigger(v("prev",u))}});k.pagination.keys&&b(document).bind(v("keyup",u,!1,!0,!0),function(a){var b=a.keyCode;if(b>=49&&b<58){b=(b-49)*k.items.visible;if(b<=z.total){a.preventDefault();s.trigger(v("slideTo",u),[b,0,true,k.pagination])}}});k.auto.play&&s.trigger(v("play",
u),k.auto.delay);M.upDateOnWindowResize&&b(window).bind(v("resize",u,!1,!0,!0),function(){s.trigger(v("finish",u));k.auto.pauseOnResize&&!M.isPaused&&s.trigger(v("play",u));B(s.children(),k);s._cfs_init(sa);var a=G(s,k,false);s.trigger(v("updatePageStatus",u),[true,a])})};s._cfs_unbind_buttons=function(){v("",u);var a=v("",u,!1);ns3=v("",u,!1,!0,!0);b(document).unbind(ns3);b(window).unbind(ns3);Z.unbind(a);k.auto.button&&k.auto.button.unbind(a);k.prev.button&&k.prev.button.unbind(a);k.next.button&&
k.next.button.unbind(a);k.pagination.container&&(k.pagination.container.unbind(a),k.pagination.anchorBuilder&&k.pagination.container.children().remove());h(k,"hide",u);n(k,"removeClass",u)};var M={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheelNext:!1,mousewheelPrev:!1,touchwipe:!1},z={total:s.children().length,first:0},Y={timer:null,auto:null,queue:null,startTime:va(),timePassed:0},E={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},da={onBefore:[],onAfter:[]},ga=[],u=
b.extend(!0,{},b.fn.carouFredSel.configs,Q),k={},sa=J,Z=s.wrap("<"+u.wrapper.element+' class="'+u.wrapper.classname+'" />').parent();u.selector=s.selector;u.serialNumber=b.fn.carouFredSel.serialNumber++;s._cfs_init(sa,!0,ca);s._cfs_build();s._cfs_bind_events();s._cfs_bind_buttons();ua(k.items.start)?ca=k.items.start:(ca=[],0!=k.items.start&&ca.push(k.items.start));k.cookie&&ca.unshift(fa(k.cookie));if(0<ca.length)for(var Aa=0,Ma=ca.length;Aa<Ma;Aa++){var W=ca[Aa];if(0!=W){if(!0===W){if(W=window.location.hash,
1>W.length)continue}else"random"===W&&(W=Math.floor(Math.random()*z.total));if(s.triggerHandler(v("slideTo",u),[W,0,!0,{fx:"none"}]))break}}ca=G(s,k,!1);Aa=F(s.children(),k);k.onCreate&&k.onCreate.call(L,Aa,ca);s.trigger(v("updatePageStatus",u),[!0,ca]);s.trigger(v("linkAnchors",u));return s},b.fn.carouFredSel.serialNumber=1,b.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,mousewheel:!1,
wipe:!1,event:"click",queue:!1}},b.fn.carouFredSel.configs={debug:!1,events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},b.fn.carouFredSel.pageAnchorBuilder=function(a){return'<a href="#"><span>'+a+"</span></a>"},b.fn.caroufredsel=function(a,b){return this.carouFredSel(a,b)},b.extend(b.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*
b*a+126*b-67*a+15)}}))})(jQuery);jQuery.cookie=function(b,a,c){if(1<arguments.length&&"[object Object]"!==String(a)){c=jQuery.extend({},c);if(null===a||void 0===a)c.expires=-1;if("number"===typeof c.expires){var d=c.expires,f=c.expires=new Date;f.setDate(f.getDate()+d)}a=String(a);return document.cookie=[encodeURIComponent(b),"=",c.raw?a:encodeURIComponent(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=a||{};f=c.raw?function(a){return a}:
decodeURIComponent;return(d=RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)").exec(document.cookie))?f(d[1]):null};(function(b){var a,c,d,f,e,g,l,h,n,o,m=0,p={},t=[],q=0,r={},w=[],D=null,x=new Image,C=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,F=/[^\.]\.(swf)\s*$/i,B,G=1,O=0,Q="",y,H,j=!1,S=b.extend(b("<div/>")[0],{prop:0}),A=b.browser.msie&&7>b.browser.version&&!window.XMLHttpRequest,aa=function(){c.hide();x.onerror=x.onload=null;D&&D.abort();a.empty()},v=function(){!1===p.onError(t,m,p)?(c.hide(),j=!1):(p.titleShow=!1,p.width="auto",p.height="auto",a.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),
ba())},ea=function(){var d=t[m],e,f,h,n,l,o;aa();p=b.extend({},b.fn.fancybox.defaults,"undefined"==typeof b(d).data("fancybox")?p:b(d).data("fancybox"));o=p.onStart(t,m,p);if(!1===o)j=!1;else{"object"==typeof o&&(p=b.extend(p,o));h=p.title||(d.nodeName?b(d).attr("title"):d.title)||"";d.nodeName&&!p.orig&&(p.orig=b(d).children("img:first").length?b(d).children("img:first"):b(d));""===h&&(p.orig&&p.titleFromAlt)&&(h=p.orig.attr("alt"));e=p.href||(d.nodeName?b(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(e)||
"#"==e)e=null;p.type?(f=p.type,e||(e=p.content)):p.content?f="html":e&&(f=e.match(C)?"image":e.match(F)?"swf":b(d).hasClass("iframe")?"iframe":0===e.indexOf("#")?"inline":"ajax");if(f)switch("inline"==f&&(d=e.substr(e.indexOf("#")),f=0<b(d).length?"inline":"ajax"),p.type=f,p.href=e,p.title=h,p.autoDimensions&&("html"==p.type||"inline"==p.type||"ajax"==p.type?(p.width="auto",p.height="auto"):p.autoDimensions=!1),p.modal&&(p.overlayShow=!0,p.hideOnOverlayClick=!1,p.hideOnContentClick=!1,p.enableEscapeButton=
!1,p.showCloseButton=!1),p.padding=parseInt(p.padding,10),p.margin=parseInt(p.margin,10),a.css("padding",p.padding+p.margin),b(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){b(this).replaceWith(g.children())}),f){case "html":a.html(p.content);ba();break;case "inline":if(!0===b(d).parent().is("#fancybox-content")){j=!1;break}b('<div class="fancybox-inline-tmp" />').hide().insertBefore(b(d)).bind("fancybox-cleanup",function(){b(this).replaceWith(g.children())}).bind("fancybox-cancel",
function(){b(this).replaceWith(a.children())});b(d).appendTo(a);ba();break;case "image":j=!1;b.fancybox.showActivity();x=new Image;x.onerror=function(){v()};x.onload=function(){j=true;x.onerror=x.onload=null;p.width=x.width;p.height=x.height;b("<img />").attr({id:"fancybox-img",src:x.src,alt:p.title}).appendTo(a);V()};x.src=e;break;case "swf":p.scrolling="no";n='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+p.width+'" height="'+p.height+'"><param name="movie" value="'+e+'"></param>';
l="";b.each(p.swf,function(a,b){n=n+('<param name="'+a+'" value="'+b+'"></param>');l=l+(" "+a+'="'+b+'"')});n+='<embed src="'+e+'" type="application/x-shockwave-flash" width="'+p.width+'" height="'+p.height+'"'+l+"></embed></object>";a.html(n);ba();break;case "ajax":j=!1;b.fancybox.showActivity();p.ajax.win=p.ajax.success;D=b.ajax(b.extend({},p.ajax,{url:e,data:p.ajax.data||{},error:function(a){a.status>0&&v()},success:function(b,d,f){if((typeof f=="object"?f:D).status==200){if(typeof p.ajax.win==
"function"){o=p.ajax.win(e,b,d,f);if(o===false){c.hide();return}if(typeof o=="string"||typeof o=="object")b=o}a.html(b);ba()}}}));break;case "iframe":V()}else v()}},ba=function(){var c=p.width,d=p.height,c=-1<c.toString().indexOf("%")?parseInt((b(window).width()-2*p.margin)*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px",d=-1<d.toString().indexOf("%")?parseInt((b(window).height()-2*p.margin)*parseFloat(d)/100,10)+"px":"auto"==d?"auto":d+"px";a.wrapInner('<div style="width:'+c+";height:"+d+";overflow: "+
("auto"==p.scrolling?"auto":"yes"==p.scrolling?"scroll":"hidden")+';position:relative;"></div>');p.width=a.width();p.height=a.height();V()},V=function(){b(".joyride-close-tip").click();var x,C;c.hide();if(f.is(":visible")&&!1===r.onCleanup(w,q,r))b.event.trigger("fancybox-cancel"),j=!1;else{j=!0;b(g.add(d)).unbind();b(window).unbind("resize.fb scroll.fb");b(document).unbind("keydown.fb");f.is(":visible")&&"outside"!==r.titlePosition&&f.css("height",f.height());w=t;q=m;r=p;if(r.overlayShow){if(d.css({"background-color":r.overlayColor,
opacity:r.overlayOpacity,cursor:r.hideOnOverlayClick?"pointer":"auto",height:b(document).height()}),!d.is(":visible")){if(A)b("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});d.show()}}else d.hide();x=U();var v={},D=r.autoScale,F=2*r.padding;v.width=-1<r.width.toString().indexOf("%")?parseInt(x[0]*parseFloat(r.width)/100,10):r.width+F;v.height=-1<r.height.toString().indexOf("%")?
parseInt(x[1]*parseFloat(r.height)/100,10):r.height+F;if(D&&(v.width>x[0]||v.height>x[1]))if("image"==p.type||"swf"==p.type){if(D=r.width/r.height,v.width>x[0]&&(v.width=x[0],v.height=parseInt((v.width-F)/D+F,10)),v.height>x[1])v.height=x[1],v.width=parseInt((v.height-F)*D+F,10)}else v.width=Math.min(v.width,x[0]),v.height=Math.min(v.height,x[1]);v.top=parseInt(Math.max(x[3]-20,x[3]+0.5*(x[1]-v.height-40)),10);v.left=parseInt(Math.max(x[2]-20,x[2]+0.5*(x[0]-v.width-40)),10);H=v;Q=r.title||"";O=0;
h.empty().removeAttr("style").removeClass();if(!1!==r.titleShow&&(Q=b.isFunction(r.titleFormat)?r.titleFormat(Q,w,q,r):Q&&Q.length?"float"==r.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+Q+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+r.titlePosition+'">'+Q+"</div>":!1)&&""!==Q)switch(h.addClass("fancybox-title-"+r.titlePosition).html(Q).appendTo("body").show(),
r.titlePosition){case "inside":h.css({width:H.width-2*r.padding,marginLeft:r.padding,marginRight:r.padding});O=h.outerHeight(!0);h.appendTo(e);H.height+=O;break;case "over":h.css({marginLeft:r.padding,width:H.width-2*r.padding,bottom:r.padding}).appendTo(e);break;case "float":h.css("left",-1*parseInt((h.width()-H.width-40)/2,10)).appendTo(f);break;default:h.css({width:H.width-2*r.padding,paddingLeft:r.padding,paddingRight:r.padding}).appendTo(f)}h.hide();f.is(":visible")?(b(l.add(n).add(o)).hide(),
x=f.position(),y={top:x.top,left:x.left,width:f.width(),height:f.height()},C=y.width==H.width&&y.height==H.height,g.fadeTo(r.changeFade,0.3,function(){var c=function(){g.html(a.contents()).fadeTo(r.changeFade,1,na)};b.event.trigger("fancybox-change");g.empty().removeAttr("filter").css({"border-width":r.padding,width:H.width-2*r.padding,height:p.autoDimensions?"auto":H.height-O-2*r.padding});C?c():(S.prop=0,b(S).animate({prop:1},{duration:r.changeSpeed,easing:r.easingChange,step:ia,complete:c}))})):
(f.removeAttr("style"),g.css("border-width",r.padding),"elastic"==r.transitionIn?(y=ja(),g.html(a.contents()),f.show(),r.opacity&&(H.opacity=0),S.prop=0,b(S).animate({prop:1},{duration:r.speedIn,easing:r.easingIn,step:ia,complete:na})):("inside"==r.titlePosition&&0<O&&h.show(),g.css({width:H.width-2*r.padding,height:p.autoDimensions?"auto":H.height-O-2*r.padding}).html(a.contents()),f.css(H).fadeIn("none"==r.transitionIn?0:r.speedIn,na)))}},na=function(){b.support.opacity||(g.get(0).style.removeAttribute("filter"),
f.get(0).style.removeAttribute("filter"));p.autoDimensions&&g.css("height","auto");f.css("height","auto");Q&&Q.length&&h.show();r.showCloseButton&&l.show();(r.enableEscapeButton||r.enableKeyboardNav)&&b(document).bind("keydown.fb",function(a){if(a.keyCode==27&&r.enableEscapeButton){a.preventDefault();b.fancybox.close()}else if((a.keyCode==37||a.keyCode==39)&&r.enableKeyboardNav&&a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.target.tagName!=="SELECT"){a.preventDefault();b.fancybox[a.keyCode==
37?"prev":"next"]()}});r.showNavArrows?((r.cyclic&&1<w.length||0!==q)&&n.show(),(r.cyclic&&1<w.length||q!=w.length-1)&&o.show()):(n.hide(),o.hide());r.hideOnContentClick&&g.bind("click",b.fancybox.close);r.hideOnOverlayClick&&d.bind("click",b.fancybox.close);b(window).bind("resize.fb",b.fancybox.resize);r.centerOnScroll&&b(window).bind("scroll.fb",b.fancybox.center);"iframe"==r.type&&b('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(b.browser.msie?
'allowtransparency="true""':"")+' scrolling="'+p.scrolling+'" src="'+r.href+'"></iframe>').appendTo(g);f.show();j=!1;b.fancybox.center();r.onComplete(w,q,r);var a,c;w.length-1>q&&(a=w[q+1].href,"undefined"!==typeof a&&a.match(C)&&(c=new Image,c.src=a));0<q&&(a=w[q-1].href,"undefined"!==typeof a&&a.match(C)&&(c=new Image,c.src=a))},ia=function(a){var b={width:parseInt(y.width+(H.width-y.width)*a,10),height:parseInt(y.height+(H.height-y.height)*a,10),top:parseInt(y.top+(H.top-y.top)*a,10),left:parseInt(y.left+
(H.left-y.left)*a,10)};"undefined"!==typeof H.opacity&&(b.opacity=0.5>a?0.5:a);f.css(b);g.css({width:b.width-2*r.padding,height:b.height-O*a-2*r.padding})},U=function(){return[b(window).width()-2*r.margin,b(window).height()-2*r.margin,b(document).scrollLeft()+r.margin,b(document).scrollTop()+r.margin]},ja=function(){var a=p.orig?b(p.orig):!1,c={};a&&a.length?(c=a.offset(),c.top+=parseInt(a.css("paddingTop"),10)||0,c.left+=parseInt(a.css("paddingLeft"),10)||0,c.top+=parseInt(a.css("border-top-width"),
10)||0,c.left+=parseInt(a.css("border-left-width"),10)||0,c.width=a.width(),c.height=a.height(),c={width:c.width+2*r.padding,height:c.height+2*r.padding,top:c.top-r.padding-20,left:c.left-r.padding-20}):(a=U(),c={width:2*r.padding,height:2*r.padding,top:parseInt(a[3]+0.5*a[1],10),left:parseInt(a[2]+0.5*a[0],10)});return c},oa=function(){c.is(":visible")?(b("div",c).css("top",-40*G+"px"),G=(G+1)%12):clearInterval(B)};b.fn.fancybox=function(a){if(!b(this).length)return this;b(this).data("fancybox",
b.extend({},a,b.metadata?b(this).metadata():{})).unbind("click.fb").bind("click.fb",function(a){a.preventDefault();j||(j=!0,b(this).blur(),t=[],m=0,a=b(this).attr("rel")||"",!a||""==a||"nofollow"===a?t.push(this):(t=b("a[rel="+a+"], area[rel="+a+"]"),m=t.index(this)),ea())});return this};b.fancybox=function(a,c){var d;if(!j){j=!0;d="undefined"!==typeof c?c:{};t=[];m=parseInt(d.index,10)||0;if(b.isArray(a)){for(var e=0,f=a.length;e<f;e++)"object"==typeof a[e]?b(a[e]).data("fancybox",b.extend({},d,
a[e])):a[e]=b({}).data("fancybox",b.extend({content:a[e]},d));t=jQuery.merge(t,a)}else"object"==typeof a?b(a).data("fancybox",b.extend({},d,a)):a=b({}).data("fancybox",b.extend({content:a},d)),t.push(a);if(m>t.length||0>m)m=0;ea()}};b.fancybox.showActivity=function(){clearInterval(B);c.show();B=setInterval(oa,66)};b.fancybox.hideActivity=function(){c.hide()};b.fancybox.next=function(){return b.fancybox.pos(q+1)};b.fancybox.prev=function(){return b.fancybox.pos(q-1)};b.fancybox.pos=function(a){j||
(a=parseInt(a),t=w,-1<a&&a<w.length?(m=a,ea()):r.cyclic&&1<w.length&&(m=a>=w.length?0:w.length-1,ea()))};b.fancybox.cancel=function(){j||(j=!0,b.event.trigger("fancybox-cancel"),aa(),p.onCancel(t,m,p),j=!1)};b.fancybox.close=function(){function a(){d.fadeOut("fast");h.empty().hide();f.hide();b.event.trigger("fancybox-cleanup");g.empty();r.onClosed(w,q,r);w=p=[];q=m=0;r=p={};j=!1}b(".joyride-close-tip").click();if(!j&&!f.is(":hidden"))if(j=!0,r&&!1===r.onCleanup(w,q,r))j=!1;else if(aa(),b(l.add(n).add(o)).hide(),
b(g.add(d)).unbind(),b(window).unbind("resize.fb scroll.fb"),b(document).unbind("keydown.fb"),g.find("iframe").attr("src",A&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==r.titlePosition&&h.empty(),f.stop(),"elastic"==r.transitionOut){y=ja();var c=f.position();H={top:c.top,left:c.left,width:f.width(),height:f.height()};r.opacity&&(H.opacity=1);h.empty().hide();S.prop=1;b(S).animate({prop:0},{duration:r.speedOut,easing:r.easingOut,step:ia,complete:a})}else f.fadeOut("none"==
r.transitionOut?0:r.speedOut,a)};b.fancybox.resize=function(){d.is(":visible")&&d.css("height",b(document).height());b.fancybox.center(!0)};b.fancybox.center=function(a){var b,c;if(!j&&(c=!0===a?1:0,b=U(),c||!(f.width()>b[0]||f.height()>b[1])))f.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+0.5*(b[1]-g.height()-40)-r.padding)),left:parseInt(Math.max(b[2]-20,b[2]+0.5*(b[0]-g.width()-40)-r.padding))},"number"==typeof a?a:200)};b.fancybox.init=function(){b("#fancybox-wrap").length||(b("body").append(a=
b('<div id="fancybox-tmp"></div>'),c=b('<div id="fancybox-loading"><div></div></div>'),d=b('<div id="fancybox-overlay"></div>'),f=b('<div id="fancybox-wrap"></div>')),e=b('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(f),
e.append(g=b('<div id="fancybox-content"></div>'),l=b('<a id="fancybox-close"></a>'),h=b('<div id="fancybox-title"></div>'),n=b('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),o=b('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),l.click(b.fancybox.close),c.click(b.fancybox.cancel),n.click(function(a){a.preventDefault();b.fancybox.prev()}),o.click(function(a){a.preventDefault();b.fancybox.next()}),
b.fn.mousewheel&&f.bind("mousewheel.fb",function(a,c){if(j)a.preventDefault();else if(0==b(a.target).get(0).clientHeight||b(a.target).get(0).scrollHeight===b(a.target).get(0).clientHeight)a.preventDefault(),b.fancybox[0<c?"prev":"next"]()}),b.support.opacity||f.addClass("fancybox-ie"),A&&(c.addClass("fancybox-ie6"),f.addClass("fancybox-ie6"),b('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(e)))};
b.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,
showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};b(document).ready(function(){b.fancybox.init()})})(jQuery);(function(b){function a(a){var c=a.data;a.isDefaultPrevented()||(a.preventDefault(),b(this).ajaxSubmit(c))}function c(a){var c=a.target,d=b(c);if(!d.is(":submit,input:image")){c=d.closest(":submit");if(0===c.length)return;c=c[0]}var e=this;e.clk=c;"image"==c.type&&(void 0!==a.offsetX?(e.clk_x=a.offsetX,e.clk_y=a.offsetY):"function"==typeof b.fn.offset?(d=d.offset(),e.clk_x=a.pageX-d.left,e.clk_y=a.pageY-d.top):(e.clk_x=a.pageX-c.offsetLeft,e.clk_y=a.pageY-c.offsetTop));setTimeout(function(){e.clk=
e.clk_x=e.clk_y=null},100)}function d(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var f,e;f=void 0!==b("<input type='file'/>").get(0).files;e=void 0!==window.FormData;b.fn.ajaxSubmit=function(a){function c(e){function f(){function a(){try{var b=(x.contentWindow?x.contentWindow.document:x.contentDocument?x.contentDocument:x.document).readyState;
d("state = "+b);b&&"uninitialized"==b.toLowerCase()&&setTimeout(a,50)}catch(c){d("Server abort: ",c," (",c.name,")"),m(na),ba&&clearTimeout(ba),ba=void 0}}var c=o.attr("target"),e=o.attr("action");n.setAttribute("target",j);h||n.setAttribute("method","POST");e!=q.url&&n.setAttribute("action",q.url);!q.skipEncodingOverride&&(!h||/post/i.test(h))&&o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});q.timeout&&(ba=setTimeout(function(){D=!0;m(V)},q.timeout));var g=[];try{if(q.extraData)for(var p in q.extraData)q.extraData.hasOwnProperty(p)&&
g.push(b('<input type="hidden" name="'+p+'">').attr("value",q.extraData[p]).appendTo(n)[0]);q.iframeTarget||(t.appendTo("body"),x.attachEvent?x.attachEvent("onload",m):x.addEventListener("load",m,!1));setTimeout(a,15);n.submit()}finally{n.setAttribute("action",e),c?n.setAttribute("target",c):o.removeAttr("target"),b(g).remove()}}function m(a){if(!w.aborted&&!oa){try{U=x.contentWindow?x.contentWindow.document:x.contentDocument?x.contentDocument:x.document}catch(c){d("cannot access response document: ",
c),a=na}if(a===V&&w)w.abort("timeout");else if(a==na&&w)w.abort("server abort");else if(U&&U.location.href!=q.iframeSrc||D){x.detachEvent?x.detachEvent("onload",m):x.removeEventListener("load",m,!1);var a="success",e;try{if(D)throw"timeout";var f="xml"==q.dataType||U.XMLDocument||b.isXMLDoc(U);d("isXml="+f);if(!f&&(window.opera&&(null===U.body||!U.body.innerHTML))&&--ja){d("requeing onLoad callback, DOM not available");setTimeout(m,250);return}var g=U.body?U.body:U.documentElement;w.responseText=
g?g.innerHTML:null;w.responseXML=U.XMLDocument?U.XMLDocument:U;f&&(q.dataType="xml");w.getResponseHeader=function(a){return{"content-type":q.dataType}[a]};g&&(w.status=Number(g.getAttribute("status"))||w.status,w.statusText=g.getAttribute("statusText")||w.statusText);var h=(q.dataType||"").toLowerCase(),j=/(json|script|text)/.test(h);if(j||q.textarea){var p=U.getElementsByTagName("textarea")[0];if(p)w.responseText=p.value,w.status=Number(p.getAttribute("status"))||w.status,w.statusText=p.getAttribute("statusText")||
w.statusText;else if(j){var n=U.getElementsByTagName("pre")[0],l=U.getElementsByTagName("body")[0];n?w.responseText=n.textContent?n.textContent:n.innerText:l&&(w.responseText=l.textContent?l.textContent:l.innerText)}}else"xml"==h&&(!w.responseXML&&w.responseText)&&(w.responseXML=P(w.responseText));try{var f=w,g=q,o=f.getResponseHeader("content-type")||"",C="xml"===h||!h&&0<=o.indexOf("xml"),v=C?f.responseXML:f.responseText;C&&"parsererror"===v.documentElement.nodeName&&b.error&&b.error("parsererror");
g&&g.dataFilter&&(v=g.dataFilter(v,h));"string"===typeof v&&("json"===h||!h&&0<=o.indexOf("json")?v=J(v):("script"===h||!h&&0<=o.indexOf("javascript"))&&b.globalEval(v));ia=v}catch(F){a="parsererror",w.error=e=F||a}}catch(B){d("error caught: ",B),a="error",w.error=e=B||a}w.aborted&&(d("upload aborted"),a=null);w.status&&(a=200<=w.status&&300>w.status||304===w.status?"success":"error");"success"===a?(q.success&&q.success.call(q.context,ia,"success",w),r&&b.event.trigger("ajaxSuccess",[w,q])):a&&(void 0===
e&&(e=w.statusText),q.error&&q.error.call(q.context,w,a,e),r&&b.event.trigger("ajaxError",[w,q,e]));r&&b.event.trigger("ajaxComplete",[w,q]);r&&!--b.active&&b.event.trigger("ajaxStop");q.complete&&q.complete.call(q.context,w,a);oa=!0;q.timeout&&clearTimeout(ba);setTimeout(function(){q.iframeTarget||t.remove();w.responseXML=null},100)}}}var n=o[0],l,q,r,j,t,x,w,C,D,ba;C=!!b.fn.prop;if(b(":input[name=submit],:input[id=submit]",n).length)alert('Error: Form elements must not have name or id of "submit".');
else{if(e)for(l=0;l<p.length;l++)e=b(p[l]),C?e.prop("disabled",!1):e.removeAttr("disabled");q=b.extend(!0,{},b.ajaxSettings,a);q.context=q.context||q;j="jqFormIO"+(new Date).getTime();q.iframeTarget?(t=b(q.iframeTarget),(e=t.attr("name"))?j=e:t.attr("name",j)):(t=b('<iframe name="'+j+'" src="'+q.iframeSrc+'" />'),t.css({position:"absolute",top:"-1000px",left:"-1000px"}));x=t[0];w={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},
setRequestHeader:function(){},abort:function(a){var c=a==="timeout"?"timeout":"aborted";d("aborting upload... "+c);this.aborted=1;t.attr("src",q.iframeSrc);w.error=c;q.error&&q.error.call(q.context,w,c,a);r&&b.event.trigger("ajaxError",[w,q,c]);q.complete&&q.complete.call(q.context,w,c)}};(r=q.global)&&0===b.active++&&b.event.trigger("ajaxStart");r&&b.event.trigger("ajaxSend",[w,q]);if(q.beforeSend&&!1===q.beforeSend.call(q.context,w,q))q.global&&b.active--;else if(!w.aborted){if(C=n.clk)if((e=C.name)&&
!C.disabled)q.extraData=q.extraData||{},q.extraData[e]=C.value,"image"==C.type&&(q.extraData[e+".x"]=n.clk_x,q.extraData[e+".y"]=n.clk_y);var V=1,na=2;C=b("meta[name=csrf-token]").attr("content");if((e=b("meta[name=csrf-param]").attr("content"))&&C)q.extraData=q.extraData||{},q.extraData[e]=C;q.forceSync?f():setTimeout(f,10);var ia,U,ja=50,oa,P=b.parseXML||function(a,b){if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}else b=(new DOMParser).parseFromString(a,
"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},J=b.parseJSON||function(a){return window.eval("("+a+")")}}}}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var h,n,o=this;"function"==typeof a&&(a={success:a});h=this.attr("method");n=this.attr("action");(n=(n="string"===typeof n?b.trim(n):"")||window.location.href||"")&&(n=(n.match(/^([^#]+)/)||[])[1]);a=b.extend(!0,{url:n,success:b.ajaxSettings.success,type:h||"GET",
iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);n={};this.trigger("form-pre-serialize",[this,a,n]);if(n.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=a.traditional;void 0===m&&(m=b.ajaxSettings.traditional);var p=[],t,q=this.formToArray(a.semantic,p);a.data&&(a.extraData=a.data,t=b.param(a.data,
m));if(a.beforeSubmit&&!1===a.beforeSubmit(q,this,a))return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[q,this,a,n]);if(n.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;n=b.param(q,m);t&&(n=n?n+"&"+t:t);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+n,a.data=null):a.data=n;var r=[];a.resetForm&&r.push(function(){o.resetForm()});a.clearForm&&r.push(function(){o.clearForm(a.includeHidden)});
if(!a.dataType&&a.target){var w=a.success||function(){};r.push(function(c){var d=a.replaceTarget?"replaceWith":"html";b(a.target)[d](c).each(w,arguments)})}else a.success&&r.push(a.success);a.success=function(b,c,d){for(var e=a.context||a,f=0,h=r.length;f<h;f++)r[f].apply(e,[b,c,d||o,o])};t=0<b("input:file:enabled[value]",this).length;n="multipart/form-data"==o.attr("enctype")||"multipart/form-data"==o.attr("encoding");m=f&&e;d("fileAPI :"+m);if(!1!==a.iframe&&(a.iframe||(t||n)&&!m))a.closeKeepAlive?
b.get(a.closeKeepAlive,function(){c(q)}):c(q);else if((t||n)&&m){var D=new FormData;for(t=0;t<q.length;t++)D.append(q[t].name,q[t].value);if(a.extraData)for(var x in a.extraData)a.extraData.hasOwnProperty(x)&&D.append(x,a.extraData[x]);a.data=null;x=b.extend(!0,{},b.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:"POST"});a.uploadProgress&&(x.xhr=function(){var b=jQuery.ajaxSettings.xhr();if(b.upload)b.upload.onprogress=function(b){var c=0,d=b.loaded||b.position,e=b.total;b.lengthComputable&&
(c=Math.ceil(d/e*100));a.uploadProgress(b,d,e,c)};return b});x.data=null;var C=x.beforeSend;x.beforeSend=function(b,c){c.data=D;C&&C.call(c,b,a)};b.ajax(x)}else b.ajax(a);for(x=0;x<p.length;x++)p[x]=null;this.trigger("form-submit-notify",[this,a]);return this};b.fn.ajaxForm=function(e){e=e||{};e.delegation=e.delegation&&b.isFunction(b.fn.on);if(!e.delegation&&0===this.length){var f=this.selector,h=this.context;if(!b.isReady&&f)return d("DOM not ready, queuing ajaxForm"),b(function(){b(f,h).ajaxForm(e)}),
this;d("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return e.delegation?(b(document).off("submit.form-plugin",this.selector,a).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,a).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,a).bind("click.form-plugin",e,c)};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a,
c){var d=[];if(0===this.length)return d;var e=this[0],o=a?e.getElementsByTagName("*"):e.elements;if(!o)return d;var m,p,t,q,r,w;m=0;for(w=o.length;m<w;m++)if(r=o[m],t=r.name)if(a&&e.clk&&"image"==r.type)!r.disabled&&e.clk==r&&(d.push({name:t,value:b(r).val(),type:r.type}),d.push({name:t+".x",value:e.clk_x},{name:t+".y",value:e.clk_y}));else if((q=b.fieldValue(r,!0))&&q.constructor==Array){c&&c.push(r);p=0;for(r=q.length;p<r;p++)d.push({name:t,value:q[p]})}else if(f&&"file"==r.type&&!r.disabled)if(c&&
c.push(r),q=r.files,q.length)for(p=0;p<q.length;p++)d.push({name:t,value:q[p],type:r.type});else d.push({name:t,value:"",type:r.type});else null!==q&&"undefined"!=typeof q&&(c&&c.push(r),d.push({name:t,value:q,type:r.type,required:r.required}));if(!a&&e.clk&&(o=b(e.clk),m=o[0],(t=m.name)&&!m.disabled&&"image"==m.type))d.push({name:t,value:o.val()}),d.push({name:t+".x",value:e.clk_x},{name:t+".y",value:e.clk_y});return d};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=
function(a){var c=[];this.each(function(){var d=this.name;if(d){var e=b.fieldValue(this,a);if(e&&e.constructor==Array)for(var f=0,m=e.length;f<m;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}});return b.param(c)};b.fn.fieldValue=function(a){for(var c=[],d=0,e=this.length;d<e;d++){var f=b.fieldValue(this[d],a);null===f||("undefined"==typeof f||f.constructor==Array&&!f.length)||(f.constructor==Array?b.merge(c,f):c.push(f))}return c};b.fieldValue=
function(a,c){var d=a.name,e=a.type,f=a.tagName.toLowerCase();void 0===c&&(c=!0);if(c&&(!d||a.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!a.checked||("submit"==e||"image"==e)&&a.form&&a.form.clk!=a||"select"==f&&-1==a.selectedIndex))return null;if("select"==f){var m=a.selectedIndex;if(0>m)return null;for(var d=[],f=a.options,p=(e="select-one"==e)?m+1:f.length,m=e?m:0;m<p;m++){var t=f[m];if(t.selected){var q=t.value;q||(q=t.attributes&&t.attributes.value&&!t.attributes.value.specified?
t.text:t.value);if(e)return q;d.push(q)}}return d}return b(a).val()};b.fn.clearForm=function(a){return this.each(function(){b("input,select,textarea",this).clearFields(a)})};b.fn.clearFields=b.fn.clearInputs=function(a){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();if(c.test(d)||"textarea"==e)this.value="";else if("checkbox"==d||"radio"==d)this.checked=!1;else if("select"==
e)this.selectedIndex=-1;else if(a&&(!0===a&&/hidden/.test(d)||"string"==typeof a&&b(this).is(a)))this.value=""})};b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var c=this.type;"checkbox"==c||"radio"==c?this.checked=a:"option"==this.tagName.toLowerCase()&&
(c=b(this).parent("select"),a&&(c[0]&&"select-one"==c[0].type)&&c.find("option").selected(!1),this.selected=a)})};b.fn.ajaxSubmit.debug=!1})(jQuery);(function(b){b.fn.joyride=function(a){var c={tipLocation:"bottom",scrollSpeed:300,timer:0,startTimerOnClick:!1,nextButton:!0,tipAnimation:"fade",tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"JoyRide",cookieDomain:!1,tipContainer:"body",inline:!1,tipContent:"#joyRideTipContent",postRideCallback:b.noop,postStepCallback:b.noop},a=b.extend(c,a);return this.each(function(){if(0!==b(a.tipContent).length){b(a.tipContent).hide();var d=b(a.tipContainer).children("*").first().position(),f=b(a.tipContent+
" > li"),e=skipCount=0,g=-1,l,h=function(a,c,d,e){return'<div class="joyride-tip-guide '+a+'" id="joyRidePopup'+c+'"><span class="joyride-nub"></span><div class="joyride-content-wrapper">'+b(e).html()+d+'<a href="#close" class="joyride-close-tip"></a>'+l+"</div></div>"},n=function(d,e,f,g){l=0==e&&c.startTimerOnClick&&0<c.timer||0==c.timer?"":'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>';d||(d="");f=f?'<a href="#" class="joyride-next-tip small nice radius yellow button">'+
f+"</a>":"";c.inline?b(h(d,e,f,g)).insertAfter("#"+b(g).data("id")):b(a.tipContainer).append(h(d,e,f,g))};(!c.cookieMonster||!b.cookie(c.cookieName))&&f.each(function(a){var d=b(this).data("text"),e=b(this).attr("class");c.nextButton&&!d&&(d="Next");c.nextButton||!c.nextButton&&c.startTimerOnClick?b(this).attr("class")?n(e,a,d,this):n(!1,a,d,this):c.nextButton||(b(this).attr("class")?n(e,a,"",this):n(!1,a,"",this));b("#joyRidePopup"+a).hide()});showNextTip=function(){var a=b(f[e]).data("id"),a=b("#"+
a),h={};b.each((b(f[e]).data("options")||":").split(";"),function(a,c){var d=c.split(":");2==d.length&&(h[b.trim(d[0])]=b.trim(d[1]))});for(var m=b.extend({},c,h);null===a.offset()&&!(e++,skipCount++,f.length-1>g&&g++,a=b(f[e]).data("id"),a=b("#"+a),b(f).length<e););var n=Math.ceil(b(window).height()/2),l=b("#joyRidePopup"+e),o=a.offset(),x=a.outerHeight(),C=l.outerHeight(),F=Math.ceil(b(".joyride-nub").outerHeight()/2),B=0;if(0!==l.length){if(e<f.length){"pop"==c.tipAnimation?(b(".joyride-timer-indicator").width(0),
0<c.timer?l.show().children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:b(".joyride-timer-indicator-wrap").width()},c.timer):l.show()):"fade"==c.tipAnimation&&(b(".joyride-timer-indicator").width(0),0<c.timer?l.fadeIn(c.tipAnimationFadeSpeed).children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:b(".joyride-timer-indicator-wrap").width()},c.timer):l.fadeIn(c.tipAnimationFadeSpeed));var B=l.children(".joyride-nub"),G=
o.left-d.left;B.removeClass("bottom").removeClass("top").removeClass("right");b(window).scrollLeft()+b(window).width()<G+l.width()&&(G-=l.width()-2*B.offset().left,B.addClass("right"));Modernizr.mq("only screen and (max-width: 769px)")?-1!=m.tipLocation.indexOf("top")?C>=o.top?(l.offset({top:o.top+x+F-d.top}),B.addClass("top").css({left:G})):(l.offset({top:o.top-(C+d.top+F)}),B.addClass("bottom").css({left:G})):(l.offset({top:o.top+x+F}),B.addClass("top").css({left:G})):"top"==m.tipLocation?C>=o.top?
(l.offset({top:o.top+x+F-d.top,left:G}),B.addClass("top")):(l.offset({top:o.top-(C+d.top+F),left:G}),B.addClass("bottom")):"bottom"==m.tipLocation&&(l.offset({top:o.top+x+F,left:G}),B.addClass("top"));-1!=m.tipLocation.indexOf("right")&&(l.offset({left:o.left-d.left-l.width()+a.width()}),l.children(".joyride-nub").addClass("right"));B=Math.ceil(l.offset().top-n);b("html, body").animate({scrollTop:B},c.scrollSpeed);0<e&&(0<skipCount?(m=g-skipCount,skipCount=0):m=g,"pop"==c.tipAnimation?b("#joyRidePopup"+
m).hide():"fade"==c.tipAnimation&&b("#joyRidePopup"+m).fadeOut(c.tipAnimationFadeSpeed))}else f.length-1<e&&(0<skipCount?(m=g-skipCount,skipCount=0):m=g,!0==c.cookieMonster&&b.cookie(c.cookieName,"ridden",{expires:365,domain:c.cookieDomain}),"pop"==c.tipAnimation?b("#joyRidePopup"+m).fadeTo(0,0):"fade"==c.tipAnimation&&b("#joyRidePopup"+m).fadeTo(c.tipAnimationFadeSpeed,0));e++;0>g?g=0:f.length-1>g&&g++;c.postStepCallback!=b.noop&&c.postStepCallback(g)}};(!c.inline||!c.cookieMonster||!b.cookie(c.cookieName))&&
b(window).resize(function(){var a=b(f[g]).data("id"),e=b("#"+a).offset(),a=b("#"+a).outerHeight(),h=b("#joyRidePopup"+g).outerHeight(),m=Math.ceil(b(".joyride-nub").outerHeight()/2);Modernizr.mq("only screen and (max-width: 769px)")?"bottom"==c.tipLocation?(b("#joyRidePopup"+g).offset({top:e.top+a+m,left:0}),b("#joyRidePopup"+g).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:e.left-d.left})):"top"==c.tipLocation&&(e.top<=h?(b("#joyRidePopup"+g).offset({top:e.top+m+a,left:0}),
b("#joyRidePopup"+g).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:e.left-d.left})):(b("#joyRidePopup"+g).offset({top:e.top-(h+m),left:0}),b("#joyRidePopup"+g).children(".joyride-nub").addClass("bottom").removeClass("top").css({left:e.left-d.left}))):"bottom"==c.tipLocation?(b("#joyRidePopup"+g).offset({top:e.top+a+m,left:e.left}),b("#joyRidePopup"+g).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:""})):"top"==c.tipLocation&&(e.top<=h?(b("#joyRidePopup"+
g).offset({top:e.top+m+a,left:e.left}),b("#joyRidePopup"+g).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:""})):(b("#joyRidePopup"+g).offset({top:e.top-(h+m),left:e.left}),b("#joyRidePopup"+g).children(".joyride-nub").addClass("bottom").removeClass("top").css({left:""})))});var o=null;!c.startTimerOnClick&&0<c.timer?(showNextTip(),o=setInterval(function(){showNextTip()},c.timer)):showNextTip();var m=function(a,d,e,f){a.preventDefault();clearInterval(d);e&&b.cookie(c.cookieName,
"ridden",{expires:365,domain:c.cookieDomain});b(f).parent().parent().hide();c.postRideCallback!=b.noop&&c.postRideCallback()};b(".joyride-close-tip").click(function(a){m(a,o,c.cookieMonster,this)});b(".joyride-next-tip").click(function(a){a.preventDefault();e>=f.length&&m(a,o,c.cookieMonster,this);if(c.timer>0&&c.startTimerOnClick){showNextTip();clearInterval(o);o=setInterval(function(){showNextTip()},c.timer)}else if(c.timer>0&&!c.startTimerOnClick){clearInterval(o);o=setInterval(function(){showNextTip()},
c.timer)}else showNextTip()})}})}})(jQuery);(function(b){function a(a){var c=a||window.event,e=[].slice.call(arguments,1),g=0,l=0,h=0,a=b.event.fix(c);a.type="mousewheel";a.wheelDelta&&(g=a.wheelDelta/120);a.detail&&(g=-a.detail/3);h=g;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(h=0,l=-1*g);void 0!==c.wheelDeltaY&&(h=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(l=-1*c.wheelDeltaX/120);e.unshift(a,g,l,h);return b.event.handle.apply(this,e)}var c=["DOMMouseScroll","mousewheel"];b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
c.length;b;)this.addEventListener(c[--b],a,!1);else this.onmousewheel=a},teardown:function(){if(this.removeEventListener)for(var b=c.length;b;)this.removeEventListener(c[--b],a,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);(function(b){b.fn.qrcode=function(a){function c(a){this.mode=l;this.data=a}function d(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function f(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function e(a,b){this.totalCount=a;this.dataCount=b}function g(){this.buffer=[];this.length=0}var l;c.prototype={getLength:function(){return this.data.length},
write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};d.prototype={addData:function(a){this.dataList.push(new c(a));this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var b=e.getRSBlocks(a,this.errorCorrectLevel),c=new g,d=0,f=0;f<b.length;f++)d+=b[f].dataCount;
for(f=0;f<this.dataList.length;f++)b=this.dataList[f],c.put(b.mode,4),c.put(b.getLength(),h.getLengthInBits(b.mode,a)),b.write(c);if(c.getLengthInBits()<=8*d)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[c][e]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-
7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=d.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=
0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=h.getLostPoint(this);if(0==c||a>d)a=d,b=c}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++)for(var c=1*b,d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}return a},
setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=h.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)this.modules[d+f][e+g]=-2==f||2==f||-2==g||2==g||0==f&&0==g?!0:!1}},setupTypeNumber:function(a){for(var b=
h.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(c=0;18>c;c++)d=!a&&1==(b>>c&1),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){for(var c=h.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;15>d;d++){var e=!a&&1==(c>>d&1);6>d?this.modules[d][8]=e:8>d?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;15>d;d++)e=!a&&1==(c>>d&1),8>d?this.modules[8][this.moduleCount-
d-1]=e:9>d?this.modules[8][15-d-1+1]=e:this.modules[8][15-d-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;0<g;g-=2)for(6==g&&g--;;){for(var n=0;2>n;n++)if(null==this.modules[d][g-n]){var l=!1;f<a.length&&(l=1==(a[f]>>>e&1));h.getMask(b,d,g-n)&&(l=!l);this.modules[d][g-n]=l;e--; -1==e&&(f++,e=7)}d+=c;if(0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};d.PAD0=236;d.PAD1=17;d.createData=function(a,b,c){for(var b=e.getRSBlocks(a,
b),f=new g,n=0;n<c.length;n++){var l=c[n];f.put(l.mode,4);f.put(l.getLength(),h.getLengthInBits(l.mode,a));l.write(f)}for(n=a=0;n<b.length;n++)a+=b[n].dataCount;if(f.getLengthInBits()>8*a)throw Error("code length overflow. ("+f.getLengthInBits()+">"+8*a+")");for(f.getLengthInBits()+4<=8*a&&f.put(0,4);0!=f.getLengthInBits()%8;)f.putBit(!1);for(;!(f.getLengthInBits()>=8*a);){f.put(d.PAD0,8);if(f.getLengthInBits()>=8*a)break;f.put(d.PAD1,8)}return d.createBytes(f,b)};d.createBytes=function(a,b){for(var c=
0,d=0,e=0,g=Array(b.length),n=Array(b.length),l=0;l<b.length;l++){var o=b[l].dataCount,F=b[l].totalCount-o,d=Math.max(d,o),e=Math.max(e,F);g[l]=Array(o);for(var B=0;B<g[l].length;B++)g[l][B]=255&a.buffer[B+c];c+=o;B=h.getErrorCorrectPolynomial(F);o=(new f(g[l],B.getLength()-1)).mod(B);n[l]=Array(B.getLength()-1);for(B=0;B<n[l].length;B++)F=B+o.getLength()-n[l].length,n[l][B]=0<=F?o.get(F):0}for(B=l=0;B<b.length;B++)l+=b[B].totalCount;c=Array(l);for(B=o=0;B<d;B++)for(l=0;l<b.length;l++)B<g[l].length&&
(c[o++]=g[l][B]);for(B=0;B<e;B++)for(l=0;l<b.length;l++)B<n[l].length&&(c[o++]=n[l][B]);return c};l=4;for(var h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,
78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=h.getBCHDigit(b)-h.getBCHDigit(h.G15);)b^=h.G15<<h.getBCHDigit(b)-h.getBCHDigit(h.G15);return(a<<10|b)^h.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=h.getBCHDigit(b)-
h.getBCHDigit(h.G18);)b^=h.G18<<h.getBCHDigit(b)-h.getBCHDigit(h.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return h.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+c)%2)%2;default:throw Error("bad maskPattern:"+
a);}},getErrorCorrectPolynomial:function(a){for(var b=new f([1],0),c=0;c<a;c++)b=b.multiply(new f([1,n.gexp(c)],0));return b},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case 1:return 10;case 2:return 9;case l:return 8;case 8:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case 1:return 12;case 2:return 11;case l:return 16;case 8:return 10;default:throw Error("mode:"+a);}else if(41>b)switch(a){case 1:return 14;case 2:return 13;case l:return 16;case 8:return 12;default:throw Error("mode:"+
a);}else throw Error("type:"+b);},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d++)for(var e=0;e<b;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||b<=d+h))for(var n=-1;1>=n;n++)0>e+n||b<=e+n||0==h&&0==n||g==a.isDark(d+h,e+n)&&f++;5<f&&(c+=3+f-5)}for(d=0;d<b-1;d++)for(e=0;e<b-1;e++)if(f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,e+1)&&f++,a.isDark(d+1,e+1)&&f++,0==f||4==f)c+=3;for(d=0;d<b;d++)for(e=0;e<b-6;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+
2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;e<b;e++)for(d=0;d<b-6;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;e<b;e++)for(d=0;d<b;d++)a.isDark(d,e)&&f++;a=Math.abs(100*f/b/b-50)/5;return c+10*a}},n={glog:function(a){if(1>a)throw Error("glog("+a+")");return n.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return n.EXP_TABLE[a]},EXP_TABLE:Array(256),
LOG_TABLE:Array(256)},o=0;8>o;o++)n.EXP_TABLE[o]=1<<o;for(o=8;256>o;o++)n.EXP_TABLE[o]=n.EXP_TABLE[o-4]^n.EXP_TABLE[o-5]^n.EXP_TABLE[o-6]^n.EXP_TABLE[o-8];for(o=0;255>o;o++)n.LOG_TABLE[n.EXP_TABLE[o]]=o;f.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=n.gexp(n.glog(this.get(c))+n.glog(a.get(d)));return new f(b,0)},mod:function(a){if(0>
this.getLength()-a.getLength())return this;for(var b=n.glog(this.get(0))-n.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(d=0;d<a.getLength();d++)c[d]^=n.gexp(n.glog(a.get(d))+b);return(new f(c,0)).mod(a)}};e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],
[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,
116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,
43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,
3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,
55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,
45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];e.getRSBlocks=function(a,b){var c=e.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,f=[],g=0;g<d;g++)for(var h=c[3*g+0],n=c[3*g+1],l=c[3*g+2],o=0;o<h;o++)f.push(new e(n,l));return f};e.getRsBlockTable=function(a,b){switch(b){case 1:return e.RS_BLOCK_TABLE[4*(a-1)+0];case 0:return e.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return e.RS_BLOCK_TABLE[4*
(a-1)+2];case 2:return e.RS_BLOCK_TABLE[4*(a-1)+3]}};g.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};"string"===typeof a&&(a={text:a});a=b.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,
correctLevel:2,background:"#ffffff",foreground:"#000000"},a);return this.each(function(){var c;if("canvas"==a.render){c=new d(a.typeNumber,a.correctLevel);c.addData(a.text);c.make();var e=document.createElement("canvas");e.width=a.width;e.height=a.height;for(var f=e.getContext("2d"),g=a.width/c.getModuleCount(),h=a.height/c.getModuleCount(),n=0;n<c.getModuleCount();n++)for(var l=0;l<c.getModuleCount();l++){f.fillStyle=c.isDark(n,l)?a.foreground:a.background;var o=Math.ceil((l+1)*g)-Math.floor(l*g),
C=Math.ceil((n+1)*g)-Math.floor(n*g);f.fillRect(Math.round(l*g),Math.round(n*h),o,C)}}else{c=new d(a.typeNumber,a.correctLevel);c.addData(a.text);c.make();e=b("<table></table>").css("width",a.width+"px").css("height",a.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",a.background);f=a.width/c.getModuleCount();g=a.height/c.getModuleCount();for(h=0;h<c.getModuleCount();h++){n=b("<tr></tr>").css("height",g+"px").appendTo(e);for(l=0;l<c.getModuleCount();l++)b("<td></td>").css("width",
f+"px").css("background-color",c.isDark(h,l)?a.foreground:a.background).appendTo(n)}}jQuery(e).appendTo(this)})}})(jQuery);(function(b){function a(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d)}}b.support.touch="ontouchend"in document;if(b.support.touch){var c=b.ui.mouse.prototype,d=c._mouseInit,f;c._touchStart=function(b){!f&&this._mouseCapture(b.originalEvent.changedTouches[0])&&(f=!0,this._touchMoved=!1,
a(b,"mouseover"),a(b,"mousemove"),a(b,"mousedown"))};c._touchMove=function(b){f&&(this._touchMoved=!0,a(b,"mousemove"))};c._touchEnd=function(b){f&&(a(b,"mouseup"),a(b,"mouseout"),this._touchMoved||a(b,"click"),f=!1)};c._mouseInit=function(){this.element.bind("touchstart",b.proxy(this,"_touchStart")).bind("touchmove",b.proxy(this,"_touchMove")).bind("touchend",b.proxy(this,"_touchEnd"));d.call(this)}}})(jQuery);(function(b,a,c){var d=/\r/g,f=["Page_ClientValidate"],e=!1,g="placeholder"in document.createElement("input");b.watermark=b.watermark||{version:"3.1.3",runOnce:!0,options:{className:"watermark",useNative:!0,hideBeforeUnload:!0},hide:function(a){b(a).filter("input:data(watermark),textarea:data(watermark)").each(function(){b.watermark._hide(b(this))})},_hide:function(b,c){var e=b[0],f=(e.value||"").replace(d,""),g=b.data("watermarkText")||"",l=b.data("watermarkMaxLength")||0,q=b.data("watermarkClass");
if(g.length&&f==g){e.value="";if(b.data("watermarkPassword")&&"text"===(b.attr("type")||""))e=b.data("watermarkPassword")||[],f=b.parent()||[],e.length&&f.length&&(f[0].removeChild(b[0]),f[0].appendChild(e[0]),b=e);l&&(b.attr("maxLength",l),b.removeData("watermarkMaxLength"));c&&(b.attr("autocomplete","off"),a.setTimeout(function(){b.select()},1))}q&&b.removeClass(q)},show:function(a){b(a).filter("input:data(watermark),textarea:data(watermark)").each(function(){b.watermark._show(b(this))})},_show:function(a){var c=
a[0],f=(c.value||"").replace(d,""),g=a.data("watermarkText")||"",l=a.attr("type")||"",t=a.data("watermarkClass");if((0==f.length||f==g)&&!a.data("watermarkFocus")){e=!0;if(a.data("watermarkPassword")&&"password"===l){var f=a.data("watermarkPassword")||[],q=a.parent()||[];f.length&&q.length&&(q[0].removeChild(a[0]),q[0].appendChild(f[0]),a=f,a.attr("maxLength",g.length),c=a[0])}if("text"===l||"search"===l)l=a.attr("maxLength")||0,0<l&&g.length>l&&(a.data("watermarkMaxLength",l),a.attr("maxLength",
g.length));t&&a.addClass(t);c.value=g}else b.watermark._hide(a)},hideAll:function(){e&&(b.watermark.hide("input:text,input:password,input[type=search],input:not([type]),textarea"),e=!1)},showAll:function(){b.watermark.show("input:text,input:password,input[type=search],input:not([type]),textarea")}};b.fn.watermark=b.fn.watermark||function(c,e){if(!this.length)return this;var f=!1,m="string"===typeof c;m&&(c=c.replace(d,""));"object"===typeof e?(f="string"===typeof e.className,e=b.extend({},b.watermark.options,
e)):"string"===typeof e?(f=!0,e=b.extend({},b.watermark.options,{className:e})):e=b.watermark.options;"function"!==typeof e.useNative&&(e.useNative=e.useNative?function(){return true}:function(){return false});return this.each(function(){var l=b(this);if(l.is("input:text,input:password,input[type=search],input:not([type]),textarea")){if(l.data("watermark")){if(m||f){b.watermark._hide(l);m&&l.data("watermarkText",c);f&&l.data("watermarkClass",e.className)}}else{if(g&&e.useNative.call(this,l)&&(l.attr("tagName")||
"")!=="TEXTAREA"){m&&l.attr("placeholder",c);return}l.data("watermarkText",m?c:"");l.data("watermarkClass",e.className);l.data("watermark",1);if((l.attr("type")||"")==="password"){var t=l.wrap("<span>").parent(),q=b(t.html().replace(/type=["']?password["']?/i,'type="text"'));q.data("watermarkText",l.data("watermarkText"));q.data("watermarkClass",l.data("watermarkClass"));q.data("watermark",1);q.attr("maxLength",c.length);q.focus(function(){b.watermark._hide(q,true)}).bind("dragenter",function(){b.watermark._hide(q)}).bind("dragend",
function(){a.setTimeout(function(){q.blur()},1)});l.blur(function(){b.watermark._show(l)}).bind("dragleave",function(){b.watermark._show(l)});q.data("watermarkPassword",l);l.data("watermarkPassword",q)}else l.focus(function(){l.data("watermarkFocus",1);b.watermark._hide(l,true)}).blur(function(){l.data("watermarkFocus",0);b.watermark._show(l)}).bind("dragenter",function(){b.watermark._hide(l)}).bind("dragleave",function(){b.watermark._show(l)}).bind("dragend",function(){a.setTimeout(function(){b.watermark._show(l)},
1)}).bind("drop",function(a){var b=l[0],a=a.originalEvent.dataTransfer.getData("Text");if((b.value||"").replace(d,"").replace(a,"")===l.data("watermarkText"))b.value=a;l.focus()});if(this.form){var r=this.form,w=b(r);if(!w.data("watermarkSubmit")){w.submit(b.watermark.hideAll);if(r.submit){w.data("watermarkSubmit",r.submit);r.submit=function(){var a=w.data("watermarkSubmit");b.watermark.hideAll();a.apply?a.apply(r,Array.prototype.slice.call(arguments)):a()}}else{w.data("watermarkSubmit",1);r.submit=
function(){b.watermark.hideAll();delete r.submit;r.submit()}}}}}b.watermark._show(l)}})};if(b.watermark.runOnce){b.watermark.runOnce=!1;b.extend(b.expr[":"],{data:function(a,c,d){return!!b.data(a,d[3])}});var l=b.fn.val;b.fn.val=function(){if(!this.length)return arguments.length?this:c;if(arguments.length)return l.apply(this,arguments),b.watermark.show(this),this;if(this.data("watermark")){var a=(this[0].value||"").replace(d,"");return a===(this.data("watermarkText")||"")?"":a}return l.apply(this,
arguments)};f.length&&b(function(){for(var c,d,e=f.length-1;0<=e;e--)c=f[e],d=a[c],"function"===typeof d&&(a[c]=function(a){return function(){b.watermark.hideAll();return a.apply(null,Array.prototype.slice.call(arguments))}}(d))});b(a).bind("beforeunload",function(){b.watermark.options.hideBeforeUnload&&b.watermark.hideAll()})}})(jQuery,window);window.Modernizr=function(b,a,c){var d={},f=a.documentElement,e=a.createElement("modernizr"),e=e.style,g=["","-webkit-","-moz-","-o-","-ms-"],l={},h=[],n=h.slice,o,m=function(b,c,d,e){var g,h,m,n=a.createElement("div"),l=a.body,j=l?l:a.createElement("body");if(parseInt(d,10))for(;d--;)m=a.createElement("div"),m.id=e?e[d]:"modernizr"+(d+1),n.appendChild(m);return g=["&#173;<style>",b,"</style>"].join(""),n.id="modernizr",j.innerHTML+=g,j.appendChild(n),l||f.appendChild(j),h=c(n,b),l?n.parentNode.removeChild(n):
j.parentNode.removeChild(j),!!h},p={}.hasOwnProperty,t;"undefined"!==typeof p&&"undefined"!==typeof p.call?t=function(a,b){return p.call(a,b)}:t=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=n.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var e=new e,f=b.apply(e,c.concat(n.call(arguments)));return Object(f)===
f?f:e}return b.apply(a,c.concat(n.call(arguments)))};return d});var q=[,"touch"],r=[,["@media (",g.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join("")].join(""),w=q.length;m(r,function(c){for(var c=c.childNodes,e={};w--;)e[c[w].id]=c[w];d.touch="ontouchstart"in b||b.DocumentTouch&&a instanceof DocumentTouch||9===(e.touch&&e.touch.offsetTop)},w,q);l.touch=function(){return d.touch};for(var D in l)t(l,D)&&(o=D.toLowerCase(),d[o]=l[D](),h.push((d[o]?"":"no-")+o));d.addTest=
function(a,b){if("object"==typeof a)for(var e in a)t(a,e)&&d.addTest(e,a[e]);else{a=a.toLowerCase();if(d[a]!==c)return d;b="function"==typeof b?b():b;f.className+=" "+(b?"":"no-")+a;d[a]=b}return d};e.cssText="";return e=null,d._version="2.5.2",d._prefixes=g,d.mq=function(a){var c=b.matchMedia||b.msMatchMedia;if(c)return c(a).matches;var d;return m("@media "+a+" { #modernizr { position: absolute; } }",function(a){d="absolute"==(b.getComputedStyle?getComputedStyle(a,null):a.currentStyle).position}),
d},d.testStyles=m,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+h.join(" ")),d}(this,this.document);
(function(b,a,c){function d(a){return"[object Function]"==t.call(a)}function f(a){return"string"==typeof a}function e(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function l(){var a=q.shift();r=1;a?a.t?m(function(){("c"==a.t?H.injectCss:H.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),l()):r=0}function h(b,c,d,e,h){r=0;c=c||"j";if(f(b)){var n="c"==c?F:C,o=this.i++,t=function(a){if(!y&&g(w.readyState)&&(G.r=y=1,!r&&l(),w.onload=w.onreadystatechange=null,a)){"img"!=n&&m(function(){x.removeChild(w)},
50);for(var c in O[b])O[b].hasOwnProperty(c)&&O[b][c].onload()}},h=h||H.errorTimeout,w={},y=0,B=0,G={t:c,s:b,e:d,a:e,x:h};1===O[b]&&(B=1,O[b]=[],w=a.createElement(n));"object"==n?w.data=b:(w.src=b,w.type=n);w.width=w.height="0";w.onerror=w.onload=w.onreadystatechange=function(){t.call(this,B)};q.splice(o,0,G);"img"!=n&&(B||2===O[b]?(x.insertBefore(w,D?null:p),m(t,h)):O[b].push(w))}else q.splice(this.i++,0,b),1==q.length&&l();return this}function n(){var a=H;return a.loader={load:h,i:0},a}var o=a.documentElement,
m=b.setTimeout,p=a.getElementsByTagName("script")[0],t={}.toString,q=[],r=0,w="MozAppearance"in o.style,D=w&&!!a.createRange().compareNode,x=D?o:p.parentNode,o=!!a.attachEvent,C=w?"object":o?"script":"img",F=o?"script":C,B=Array.isArray||function(a){return"[object Array]"==t.call(a)},G=[],O={},Q={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},y,H;H=function(a){function b(a,e,f,g,h){var j,m;m=a.split("!");var o=G.length,p=m.pop(),q=m.length,p={url:p,origUrl:p,prefixes:m},r,t,x;for(t=0;t<
q;t++)x=m[t].split("="),(r=Q[x.shift()])&&(p=r(p,x));for(t=0;t<o;t++)p=G[t](p);j=p;var w=j.autoCallback;j.url.split(".").pop().split("?").shift();j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||l),j.instead?j.instead(a,e,f,g,h):(O[j.url]?j.noexec=!0:O[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(w))&&f.load(function(){n();e&&e(j.origUrl,h,g);w&&w(j.origUrl,h,g);O[j.url]=2})))}function g(a,
c){function h(a,e){if(a)if(f(a))e||(n=function(){var a=[].slice.call(arguments);l.apply(this,a);o()}),b(a,n,c,0,j);else{if(Object(a)===a)for(q in p=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(q)&&(!e&&!--p&&(d(n)?n=function(){var a=[].slice.call(arguments);l.apply(this,a);o()}:n[q]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);o()}}(l[q])),b(a[q],n,c,q,j))}else!e&&o()}var j=!!a.test,m=a.load||a.both,n=a.callback||e,l=n,
o=a.complete||e,p,q;h(j?a.yep:a.nope,!!m);m&&h(m)}var h,m,o=this.yepnope.loader;if(f(a))b(a,0,o,0);else if(B(a))for(h=0;h<a.length;h++)m=a[h],f(m)?b(m,0,o,0):B(m)?H(m):Object(m)===m&&g(m,o);else Object(a)===a&&g(a,o)};H.addPrefix=function(a,b){Q[a]=b};H.addFilter=function(a){G.push(a)};H.errorTimeout=1E4;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",y=function(){a.removeEventListener("DOMContentLoaded",y,0);a.readyState="complete"},0));b.yepnope=
n();b.yepnope.executeStack=l;b.yepnope.injectJs=function(b,c,d,f,h,n){var o=a.createElement("script"),q,r,f=f||H.errorTimeout;o.src=b;for(r in d)o.setAttribute(r,d[r]);c=n?l:c||e;o.onreadystatechange=o.onload=function(){!q&&g(o.readyState)&&(q=1,c(),o.onload=o.onreadystatechange=null)};m(function(){q||(q=1,c(1))},f);h?o.onload():p.parentNode.insertBefore(o,p)};b.yepnope.injectCss=function(b,c,d,f,g,h){var f=a.createElement("link"),n,c=h?l:c||e;f.href=b;f.rel="stylesheet";f.type="text/css";for(n in d)f.setAttribute(n,
d[n]);g||(p.parentNode.insertBefore(f,p),m(c,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};Modernizr.addTest("ie8compat",function(){return!window.addEventListener&&document.documentMode&&7===document.documentMode});window.Modernizr=function(b,a){var c={},d=a.documentElement,f=a.createElement("modernizr"),f=f.style,e={},g=[],l=g.slice,h,n=function(b,c,e,f){var g,h,m,n=a.createElement("div"),l=a.body,o=l?l:a.createElement("body");if(parseInt(e,10))for(;e--;)m=a.createElement("div"),m.id=f?f[e]:"modernizr"+(e+1),n.appendChild(m);return g=["&#173;<style>",b,"</style>"].join(""),n.id="modernizr",(l?n:o).innerHTML+=g,o.appendChild(n),l||(o.style.background="",d.appendChild(o)),h=c(n,b),l?n.parentNode.removeChild(n):
o.parentNode.removeChild(o),!!h},o={}.hasOwnProperty,m;"undefined"!==typeof o&&"undefined"!==typeof o.call?m=function(a,b){return o.call(a,b)}:m=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=l.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var e=new e,f=b.apply(e,c.concat(l.call(arguments)));return Object(f)===
f?f:e}return b.apply(a,c.concat(l.call(arguments)))};return d});for(var p in e)m(e,p)&&(h=p.toLowerCase(),c[h]=e[p](),g.push((c[h]?"":"no-")+h));f.cssText="";return f=null,c._version="2.5.3",c.mq=function(a){var c=b.matchMedia||b.msMatchMedia;if(c)return c(a).matches;var d;return n("@media "+a+" { #modernizr { position: absolute; } }",function(a){d="absolute"==(b.getComputedStyle?getComputedStyle(a,null):a.currentStyle).position}),d},c.testStyles=n,c}(this,this.document);var getTrans=function(b){if("undefined"!==typeof VISH&&"undefined"!==typeof VISH.Editor&&"undefined"!==typeof VISH.Editor.I18n){var a=VISH.Editor.I18n.getTrans(b);if(null!=a)return a}return b},bkExtend=function(){var b=arguments;1==b.length&&(b=[this,b[0]]);for(var a in b[1])b[0][a]=b[1][a];return b[0]};function bkClass(){}bkClass.prototype.construct=function(){};
bkClass.extend=function(b){var a=function(){if(arguments[0]!==bkClass)return this.construct.apply(this,arguments)},c=new this(bkClass);bkExtend(c,b);a.prototype=c;a.extend=this.extend;return a};
var bkElement=bkClass.extend({construct:function(b,a){"string"==typeof b&&(b=(a||document).createElement(b));return b=$BK(b)},appendTo:function(b){b.appendChild(this);return this},appendBefore:function(b){b.parentNode.insertBefore(this,b);return this},addEvent:function(b,a){bkLib.addEvent(this,b,a);return this},setContent:function(b){this.innerHTML=b;return this},pos:function(){var b=curtop=0;obj=this;if(obj.offsetParent){do b+=obj.offsetLeft,curtop+=obj.offsetTop;while(obj=obj.offsetParent)}var a=
!window.opera?parseInt(this.getStyle("border-width")||this.style.border)||0:0;return[b+a,curtop+a+this.offsetHeight]},noSelect:function(){bkLib.noSelect(this);return this},parentTag:function(b){var a=this;do{if(a&&a.nodeName&&a.nodeName.toUpperCase()==b)return a;a=a.parentNode}while(a);return!1},hasClass:function(b){return this.className.match(RegExp("(\\s|^)nicEdit-"+b+"(\\s|$)"))},addClass:function(b){this.hasClass(b)||(this.className+=" nicEdit-"+b);return this},removeClass:function(b){this.hasClass(b)&&
(this.className=this.className.replace(RegExp("(\\s|^)nicEdit-"+b+"(\\s|$)")," "));return this},setStyle:function(b){var a=this.style,c;for(c in b)switch(c){case "float":a.cssFloat=a.styleFloat=b[c];break;case "opacity":a.opacity=b[c];a.filter="alpha(opacity="+Math.round(100*b[c])+")";break;case "className":this.className=b[c];break;default:a[c]=b[c]}return this},getStyle:function(b,a){var c=!a?document.defaultView:a;if(1==this.nodeType)return c&&c.getComputedStyle?c.getComputedStyle(this,null).getPropertyValue(b):
this.currentStyle[bkLib.camelize(b)]},remove:function(){this.parentNode.removeChild(this);return this},setAttributes:function(b){for(var a in b)this[a]=b[a];return this}}),bkLib={isMSIE:-1!=navigator.appVersion.indexOf("MSIE"),addEvent:function(b,a,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent("on"+a,c)},toArray:function(b){for(var a=b.length,c=Array(a);a--;)c[a]=b[a];return c},noSelect:function(b){b.setAttribute&&("input"!=b.nodeName.toLowerCase()&&"textarea"!=b.nodeName.toLowerCase())&&
b.setAttribute("unselectable","on");for(var a=0;a<b.childNodes.length;a++)bkLib.noSelect(b.childNodes[a])},camelize:function(b){return b.replace(/\-(.)/g,function(a,b){return b.toUpperCase()})},inArray:function(b,a){return null!=bkLib.search(b,a)},search:function(b,a){for(var c=0;c<b.length;c++)if(b[c]==a)return c;return null},cancelEvent:function(b){b=b||window.event;b.preventDefault&&b.stopPropagation&&(b.preventDefault(),b.stopPropagation());return!1},domLoad:[],domLoaded:function(){if(!arguments.callee.done){arguments.callee.done=
!0;for(i=0;i<bkLib.domLoad.length;i++)bkLib.domLoad[i]()}},onDomLoaded:function(b){this.domLoad.push(b);document.addEventListener?document.addEventListener("DOMContentLoaded",bkLib.domLoaded,null):bkLib.isMSIE&&(document.write("<style>.nicEdit-main p { margin: 0; }</style><script id=__ie_onload defer "+("https:"==location.protocol?"src='javascript:void(0)'":"src=//0")+"><\/script>"),$BK("__ie_onload").onreadystatechange=function(){"complete"==this.readyState&&bkLib.domLoaded()});window.onload=bkLib.domLoaded}};
function $BK(b){"string"==typeof b&&(b=document.getElementById(b));return b&&!b.appendTo?bkExtend(b,bkElement.prototype):b}var bkEvent={addEvent:function(b,a){a&&(this.eventList=this.eventList||{},this.eventList[b]=this.eventList[b]||[],this.eventList[b].push(a));return this},fireEvent:function(){var b=bkLib.toArray(arguments),a=b.shift();if(this.eventList&&this.eventList[a])for(var c=0;c<this.eventList[a].length;c++)this.eventList[a][c].apply(this,b)}};function __(b){return b}
Function.prototype.closure=function(){var b=this,a=bkLib.toArray(arguments),c=a.shift();return function(){if("undefined"!=typeof bkLib)return b.apply(c,a.concat(bkLib.toArray(arguments)))}};Function.prototype.closureListener=function(){var b=this,a=bkLib.toArray(arguments),c=a.shift();return function(d){d=d||window.event;return b.apply(c,[d,d.target?d.target:d.srcElement].concat(a))}};
var nicEditorInit=function(){nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:!0},center:{name:__("Center Align"),command:"justifycenter",
noActive:!0},right:{name:__("Right Align"),command:"justifyright",noActive:!0},justify:{name:__("Justify Align"),command:"justifyfull",noActive:!0},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),
command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:!0},indent:{name:__("Indent Text"),command:"indent",noActive:!0},outdent:{name:__("Remove Indent"),command:"outdent",noActive:!0},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:!0}},iconsPath:VISH.ImagesPath+"nicEditorIcons.gif",buttonList:"save bold italic underline left center right justify ol ul fontSize fontFamily upload link unlink forecolor bgcolor".split(" "),
iconList:{bgcolor:1,forecolor:2,bold:3,center:4,hr:5,indent:6,italic:7,justify:8,left:9,ol:10,outdent:11,removeformat:12,right:13,save:24,strikethrough:15,subscript:16,superscript:17,ul:18,underline:19,image:20,link:21,unlink:22,close:23,arrow:25}})},nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),
command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:!0},center:{name:__("Center Align"),command:"justifycenter",noActive:!0},right:{name:__("Right Align"),command:"justifyright",noActive:!0},justify:{name:__("Justify Align"),command:"justifyfull",noActive:!0},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),
command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:!0},indent:{name:__("Indent Text"),command:"indent",noActive:!0},outdent:{name:__("Remove Indent"),command:"outdent",noActive:!0},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:!0}},
buttonList:"save bold italic underline left center right justify ol ul fontSize fontFamily upload link unlink forecolor bgcolor".split(" "),iconList:{bgcolor:1,forecolor:2,bold:3,center:4,hr:5,indent:6,italic:7,justify:8,left:9,ol:10,outdent:11,removeformat:12,right:13,save:24,strikethrough:15,subscript:16,superscript:17,ul:18,underline:19,image:20,link:21,unlink:22,close:23,arrow:25}}),nicEditors={nicPlugins:[],editors:[],registerPlugin:function(b,a){this.nicPlugins.push({p:b,o:a})},allTextAreas:function(b){for(var a=
document.getElementsByTagName("textarea"),c=0;c<a.length;c++)nicEditors.editors.push((new nicEditor(b)).panelInstance(a[c]));return nicEditors.editors},findEditor:function(b){for(var a=nicEditors.editors,c=0;c<a.length;c++)if(a[c].instanceById(b))return a[c].instanceById(b)}},nicEditor=bkClass.extend({construct:function(b){this.options=new nicEditorConfig;bkExtend(this.options,b);this.nicInstances=[];this.loadedPlugins=[];for(var b=nicEditors.nicPlugins,a=0;a<b.length;a++)this.loadedPlugins.push(new b[a].p(this,
b[a].o));nicEditors.editors.push(this);bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this))},panelInstance:function(b,a){var b=this.checkReplace($BK(b)),c=(new bkElement("DIV")).setStyle({width:(parseInt(b.getStyle("width"))||b.clientWidth)+"px"}).appendBefore(b);this.setPanel(c);return this.addInstance(b,a)},checkReplace:function(b){var a=nicEditors.findEditor(b);a&&(a.removeInstance(b),a.removePanel());return b},addInstance:function(b,a){var b=this.checkReplace($BK(b)),
c=b.contentEditable||window.opera?new nicEditorInstance(b,a,this):new nicEditorIFrameInstance(b,a,this);this.nicInstances.push(c);return this},removeInstance:function(b){for(var b=$BK(b),a=this.nicInstances,c=0;c<a.length;c++)a[c].e==b&&(a[c].remove(),this.nicInstances.splice(c,1))},removePanel:function(){this.nicPanel&&(this.nicPanel.remove(),this.nicPanel=null)},instanceById:function(b){for(var b=$BK(b),a=this.nicInstances,c=0;c<a.length;c++)if(a[c].e==b)return a[c]},setPanel:function(b){this.nicPanel=
new nicEditorPanel($BK(b),this.options,this);this.fireEvent("panel",this.nicPanel);return this},nicCommand:function(b,a){this.selectedInstance&&this.selectedInstance.nicCommand(b,a)},getIcon:function(b,a){var c=this.options.iconList[b],d=a.iconFiles?a.iconFiles[b]:"";return{backgroundImage:"url('"+(c?this.options.iconsPath:d)+"')",backgroundPosition:(c?-18*(c-1):0)+"px 0px"}},selectCheck:function(b,a){do if(a.className&&-1!=a.className.indexOf("nicEdit"))return!1;while(a=a.parentNode);this.fireEvent("blur",
this.selectedInstance,a);this.lastSelectedInstance=this.selectedInstance;this.selectedInstance=null;return!1}}),nicEditor=nicEditor.extend(bkEvent),nicEditorInstance=bkClass.extend({isSelected:!1,construct:function(b,a,c){this.ne=c;this.elm=this.e=b;this.options=a||{};newX=parseInt(b.getStyle("width"))||b.clientWidth;newY=parseInt(b.getStyle("height"))||b.clientHeight;this.initialHeight=newY-8;if((c="textarea"==b.nodeName.toLowerCase())||this.options.hasPanel){var a=bkLib.isMSIE&&!("undefined"!=typeof document.body.style.maxHeight&&
"CSS1Compat"==document.compatMode),d={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};d[a?"height":"maxHeight"]=this.ne.options.maxHeight?this.ne.options.maxHeight+"px":null;this.editorContain=(new bkElement("DIV")).setStyle(d).appendBefore(b);d=(new bkElement("DIV")).setStyle({width:newX-8+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);b.setStyle({display:"none"});d.innerHTML=b.innerHTML;c&&(d.setContent(b.value),this.copyElm=
b,(b=b.parentTag("FORM"))&&bkLib.addEvent(b,"submit",this.saveContent.closure(this)));d.setStyle(a?{height:newY+"px"}:{overflow:"hidden"});this.elm=d}this.ne.addEvent("blur",this.blur.closure(this));this.init();this.blur()},init:function(){this.elm.setAttribute("contentEditable","true");""==this.getContent()&&this.setContent("<br />");this.instanceDoc=document.defaultView;this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",
this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},remove:function(){this.saveContent();if(this.copyElm||this.options.hasPanel)this.editorContain.remove(),this.e.setStyle({display:"block"}),this.ne.removePanel();this.disable();this.ne.fireEvent("remove",this)},disable:function(){this.elm.setAttribute("contentEditable","false")},getSel:function(){return window.getSelection?window.getSelection():document.selection},
getRng:function(){var b=this.getSel();return!b?null:b.rangeCount&&0<b.rangeCount?b.getRangeAt(0):b.createRange?b.createRange():null},selRng:function(b,a){window.getSelection?(a.removeAllRanges(),a.addRange(b)):b.select()},selElm:function(){var b=this.getRng();if(!b)return null;if(b.startContainer){var a=b.startContainer;if(1==b.cloneContents().childNodes.length)for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c].ownerDocument.createRange();d.selectNode(a.childNodes[c]);if(1!=b.compareBoundaryPoints(Range.START_TO_START,
d)&&-1!=b.compareBoundaryPoints(Range.END_TO_END,d))return $BK(a.childNodes[c])}return $BK(a)}return $BK("Control"==this.getSel().type?b.item(0):b.parentElement())},saveRng:function(){this.savedRange=this.getRng();this.savedSel=this.getSel()},restoreRng:function(){this.savedRange&&this.selRng(this.savedRange,this.savedSel)},keyDown:function(b){b.ctrlKey&&this.ne.fireEvent("key",this,b)},selected:function(b,a){a||(a=this.selElm());if(!b.ctrlKey){var c=this.ne.selectedInstance;c!=this&&(c&&this.ne.fireEvent("blur",
c,a),this.ne.selectedInstance=this,this.ne.fireEvent("focus",c,a));this.ne.fireEvent("selected",c,a);this.isFocused=!0;this.elm.addClass("selected")}return!1},blur:function(){this.isFocused=!1;this.elm.removeClass("selected")},saveContent:function(){if(this.copyElm||this.options.hasPanel)this.ne.fireEvent("save",this),this.copyElm?this.copyElm.value=this.getContent():this.e.innerHTML=this.getContent()},getElm:function(){return this.elm},getContent:function(){this.content=this.getElm().innerHTML;this.ne.fireEvent("get",
this);return this.content},setContent:function(b){this.content=b;this.ne.fireEvent("set",this);this.elm.innerHTML=this.content},nicCommand:function(b,a){document.execCommand(b,!1,a)}}),nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var b=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="";!b?b="<br />":b;this.initialContent=b;this.elmFrame=(new bkElement("iframe")).setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",
width:"100%"}).addClass("frame").appendTo(this.elm);this.copyElm&&this.elmFrame.setStyle({width:this.elm.offsetWidth-4+"px"});b=["font-size","font-family","font-weight","color"];for(itm in b)this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm);setTimeout(this.initFrame.closure(this),50)},disable:function(){this.elm.innerHTML=this.getContent()},initFrame:function(){var b=$BK(this.elmFrame.contentWindow.document);b.designMode="on";b.open();var a=this.ne.options.externalCSS;b.write("<html><head>"+
(a?'<link href="'+a+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>");b.close();this.frameDoc=b;this.frameWin=$BK(this.elmFrame.contentWindow);this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles);this.instanceDoc=this.frameWin.document.defaultView;this.heightUpdate();this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",
this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},getElm:function(){return this.frameContent},setContent:function(b){this.content=b;this.ne.fireEvent("set",this);this.frameContent.innerHTML=this.content;this.heightUpdate()},getSel:function(){return this.frameWin?this.frameWin.getSelection():this.frameDoc.selection},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,
this.initialHeight)+"px"},nicCommand:function(b,a){this.frameDoc.execCommand(b,!1,a);setTimeout(this.heightUpdate.closure(this),100)}}),nicEditorPanel=bkClass.extend({construct:function(b,a,c){this.elm=b;this.options=a;this.ne=c;this.panelButtons=[];this.buttonList=bkExtend([],this.ne.options.buttonList);this.panelContain=(new bkElement("DIV")).addClass("panelContain");this.panelElm=(new bkElement("DIV")).addClass("panel").appendTo(this.panelContain);this.panelContain.appendTo($("#toolbar_element")[0]);
a=this.ne.options;c=a.buttons;for(button in c)this.addButton(button,a,!0);this.reorder();"undefined"!=typeof b.noSelect&&b.noSelect()},addButton:function(b,a){var c=a.buttons[b],c=c.type?eval("(typeof("+c.type+') == "undefined") ? null : '+c.type+";"):nicEditorButton,d=bkLib.inArray(this.buttonList,b);if(c&&(d||this.ne.options.fullPanel))this.panelButtons.push(new c(this.panelElm,b,a,this.ne)),d||this.buttonList.push(b)},findButton:function(b){for(var a=0;a<this.panelButtons.length;a++)if(this.panelButtons[a].name==
b)return this.panelButtons[a]},reorder:function(){for(var b=this.buttonList,a=0;a<b.length;a++){var c=this.findButton(b[a]);c&&this.panelElm.appendChild(c.margin)}},remove:function(){this.elm.remove()}}),nicEditorButton=bkClass.extend({construct:function(b,a,c,d){this.options=c.buttons[a];this.name=a;this.ne=d;this.elm=b;this.margin=(new bkElement("DIV")).setStyle({"float":"left",marginTop:"2px"}).appendTo(b);this.contain=(new bkElement("DIV")).setStyle({width:"20px",height:"20px"}).addClass("buttonContain").appendTo(this.margin);
this.border=(new bkElement("DIV")).setStyle({backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain);this.button=(new bkElement("DIV")).setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1,cursor:"pointer"}).addClass("button").setStyle(this.ne.getIcon(a,c)).appendTo(this.border);this.button.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect();window.opera||(this.button.onmousedown=
this.button.onclick=bkLib.cancelEvent);d.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this));this.disable();this.init()},init:function(){},hide:function(){this.contain.setStyle({display:"none"})},updateState:function(){this.isDisabled?this.setBg():this.isHover?this.setBg("hover"):this.isActive?this.setBg("active"):this.setBg()},setBg:function(b){switch(b){case "hover":var a={border:"1px solid #666",backgroundColor:"#ddd"};
break;case "active":a={border:"1px solid #666",backgroundColor:"#ccc"};break;default:a={border:"1px solid #efefef",backgroundColor:"#efefef"}}this.border.setStyle(a).addClass("button-"+b)},checkNodes:function(b){if(b){var a=b;do if(this.options.tags&&bkLib.inArray(this.options.tags,a.nodeName))return this.activate(),!0;while(a=a.parentNode&&"nicEdit"!=a.className);for(a=$BK(b);3==a.nodeType;)a=$BK(a.parentNode);if(this.options.css)for(itm in this.options.css)if(a.getStyle(itm,this.ne.selectedInstance.instanceDoc)==
this.options.css[itm])return this.activate(),!0;this.deactivate();return!1}},activate:function(){this.isDisabled||(this.isActive=!0,this.updateState(),this.ne.fireEvent("buttonActivate",this))},deactivate:function(){this.isActive=!1;this.updateState();this.isDisabled||this.ne.fireEvent("buttonDeactivate",this)},enable:function(b,a){this.isDisabled=!1;this.contain.setStyle({opacity:1}).addClass("buttonEnabled");this.updateState();this.checkNodes(a)},disable:function(){this.isDisabled=!0;this.contain.setStyle({opacity:0.6}).removeClass("buttonEnabled");
this.updateState()},toggleActive:function(){this.isActive?this.deactivate():this.activate()},hoverOn:function(){this.isDisabled||(this.isHover=!0,this.updateState(),this.ne.fireEvent("buttonOver",this))},hoverOff:function(){this.isHover=!1;this.updateState();this.ne.fireEvent("buttonOut",this)},mouseClick:function(){this.options.command&&(this.ne.nicCommand(this.options.command,this.options.commandArgs),this.options.noActive||this.toggleActive());this.ne.fireEvent("buttonClick",this)},key:function(b,
a){if(this.options.key&&a.ctrlKey&&String.fromCharCode(a.keyCode||a.charCode).toLowerCase()==this.options.key)this.mouseClick(),a.preventDefault&&a.preventDefault()}}),nicPlugin=bkClass.extend({construct:function(b,a){this.options=a;this.ne=b;this.ne.addEvent("panel",this.loadPanel.closure(this));this.init()},loadPanel:function(b){var a=this.options.buttons,c;for(c in a)b.addButton(c,this.options);b.reorder()},init:function(){}}),nicPaneOptions={},nicEditorPane=bkClass.extend({construct:function(b,
a,c,d){this.ne=a;this.elm=b;this.pos=b.pos();this.contain=(new bkElement("div")).setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"});this.pane=(new bkElement("div")).setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"4px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(c).appendTo(this.contain);d&&!d.options.noClose&&(this.close=(new bkElement("div")).setStyle({"float":"right",height:"16px",width:"16px",
cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",d.removePane.closure(this)).appendTo(this.pane));this.contain.noSelect().appendTo(document.body);this.position();this.init()},init:function(){},position:function(){if(this.ne.nicPanel){var b=this.ne.nicPanel.elm,b=b.pos()[0]+parseInt(b.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);b<this.pos[0]&&this.contain.setStyle({left:b+"px"})}},toggle:function(){this.isVisible=!this.isVisible;this.contain.setStyle({display:this.isVisible?
"block":"none"})},remove:function(){this.contain&&(this.contain.remove(),this.contain=null)},append:function(b){b.appendTo(this.pane)},setContent:function(b){this.pane.setContent(b)}}),nicEditorAdvancedButton=nicEditorButton.extend({init:function(){this.ne.addEvent("selected",this.removePane.closure(this)).addEvent("blur",this.removePane.closure(this))},mouseClick:function(){this.isDisabled||(this.pane&&this.pane.pane?this.removePane():(this.pane=new nicEditorPane(this.contain,this.ne,{width:this.width||
"270px",backgroundColor:"#fff"},this),this.addPane(),this.ne.selectedInstance.saveRng()))},addForm:function(b,a){this.form=(new bkElement("form")).addEvent("submit",this.submit.closureListener(this));this.pane.append(this.form);this.inputs={};for(itm in b){var c=b[itm],d="";a&&(d=a.getAttribute(itm));d||(d=c.value||"");var f=b[itm].type;if("title"==f)(new bkElement("div")).setContent(c.txt).setStyle({fontSize:"14px",fontWeight:"bold",padding:"0px",margin:"2px 0"}).appendTo(this.form);else{var e=(new bkElement("div")).setStyle({overflow:"hidden",
clear:"both"}).appendTo(this.form);c.txt&&(new bkElement("label")).setAttributes({"for":itm}).setContent(c.txt).setStyle({margin:"2px 4px",fontSize:"13px",width:"50px",lineHeight:"20px",textAlign:"right","float":"left"}).appendTo(e);switch(f){case "text":this.inputs[itm]=(new bkElement("input")).setAttributes({id:itm,value:d,type:"text"}).setStyle({margin:"2px 0",fontSize:"13px","float":"left",height:"20px",border:"1px solid #ccc",overflow:"hidden"}).setStyle(c.style).appendTo(e);break;case "select":this.inputs[itm]=
(new bkElement("select")).setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left",margin:"2px 0"}).appendTo(e);for(opt in c.options)(new bkElement("option")).setAttributes({value:opt,selected:opt==d?"selected":""}).setContent(c.options[opt]).appendTo(this.inputs[itm]);break;case "content":this.inputs[itm]=(new bkElement("textarea")).setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left"}).setStyle(c.style).appendTo(e),this.inputs[itm].value=d}}}(new bkElement("input")).setAttributes({value:getTrans("i.add"),
type:"submit"}).setStyle({backgroundColor:"#efefef",border:"1px solid #ccc",margin:"3px 0","float":"left",clear:"both"}).appendTo(this.form);this.form.onsubmit=bkLib.cancelEvent},submit:function(){},findElm:function(b,a,c){for(var b=this.ne.selectedInstance.getElm().getElementsByTagName(b),d=0;d<b.length;d++)if(b[d].getAttribute(a)==c)return $BK(b[d])},removePane:function(){this.pane&&(this.pane.remove(),this.pane=null,this.ne.selectedInstance.restoreRng())}}),nicButtonTips=bkClass.extend({construct:function(b){this.ne=
b;b.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this))},show:function(b){this.timer=setTimeout(this.create.closure(this,b),400)},create:function(b){this.timer=null;this.pane||(this.pane=new nicEditorPane(b.button,this.ne,{fontSize:"12px",marginTop:"5px"}),this.pane.setContent(b.options.name))},hide:function(){this.timer&&clearTimeout(this.timer);this.pane&&(this.pane=this.pane.remove())}});nicEditors.registerPlugin(nicButtonTips);
var nicSelectOptions={buttons:{fontSize:{name:__("Select Font Size"),type:"nicEditorFontSizeSelect",command:"fontsize"},fontFamily:{name:__("Select Font Family"),type:"nicEditorFontFamilySelect",command:"fontname"},fontFormat:{name:__("Select Font Format"),type:"nicEditorFontFormatSelect",command:"formatBlock"}}},nicEditorSelect=bkClass.extend({construct:function(b,a,c,d){this.options=c.buttons[a];this.elm=b;this.ne=d;this.name=a;this.selOptions=[];this.margin=(new bkElement("div")).setStyle({"float":"left",
margin:"2px 1px 0 1px"}).appendTo(this.elm);this.contain=(new bkElement("div")).setStyle({width:"90px",height:"20px",cursor:"pointer",overflow:"hidden"}).addClass("selectContain").addEvent("click",this.toggle.closure(this)).appendTo(this.margin);this.items=(new bkElement("div")).setStyle({overflow:"hidden",zoom:1,border:"1px solid #ccc",paddingLeft:"3px",backgroundColor:"#fff"}).appendTo(this.contain);this.control=(new bkElement("div")).setStyle({overflow:"hidden","float":"right",height:"18px",width:"16px"}).addClass("selectControl").setStyle(this.ne.getIcon("arrow",
c)).appendTo(this.items);this.txt=(new bkElement("div")).setStyle({overflow:"hidden","float":"left",width:"66px",height:"14px",marginTop:"1px",fontFamily:"sans-serif",textAlign:"center",fontSize:"12px"}).addClass("selectTxt").appendTo(this.items);window.opera||(this.contain.onmousedown=this.control.onmousedown=this.txt.onmousedown=bkLib.cancelEvent);this.margin.noSelect();this.ne.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this));this.disable();this.init()},
disable:function(){this.isDisabled=!0;this.close();this.contain.setStyle({opacity:0.6})},enable:function(){this.isDisabled=!1;this.close();this.contain.setStyle({opacity:1})},setDisplay:function(b){this.txt.setContent(b)},toggle:function(){this.isDisabled||(this.pane?this.close():this.open())},open:function(){this.pane=new nicEditorPane(this.items,this.ne,{width:"88px",padding:"0px",borderTop:0,borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderBottom:"0px",backgroundColor:"#fff"});for(var b=
0;b<this.selOptions.length;b++){var a=this.selOptions[b],c=(new bkElement("div")).setStyle({overflow:"hidden",borderBottom:"1px solid #ccc",width:"88px",textAlign:"left",overflow:"hidden",cursor:"pointer"}),d=(new bkElement("div")).setStyle({padding:"0px 4px"}).setContent(a[1]).appendTo(c).noSelect();d.addEvent("click",this.update.closure(this,a[0])).addEvent("mouseover",this.over.closure(this,d)).addEvent("mouseout",this.out.closure(this,d)).setAttributes("id",a[0]);this.pane.append(c);window.opera||
(d.onmousedown=bkLib.cancelEvent)}},close:function(){this.pane&&(this.pane=this.pane.remove())},over:function(b){b.setStyle({backgroundColor:"#ccc"})},out:function(b){b.setStyle({backgroundColor:"#fff"})},add:function(b,a){this.selOptions.push([b,a])},update:function(b){this.ne.nicCommand(this.options.command,b);this.close()}}),nicEditorFontSizeSelect=nicEditorSelect.extend({sel:{1:"1&nbsp;(8pt)",2:"2&nbsp;(10pt)",3:"3&nbsp;(12pt)",4:"4&nbsp;(14pt)",5:"5&nbsp;(18pt)",6:"6&nbsp;(24pt)",7:"7&nbsp;(48pt)"},
init:function(){this.setDisplay("Font&nbsp;Size...");for(itm in this.sel)this.add(itm,'<font size="'+itm+'">'+this.sel[itm]+"</font>")}}),nicEditorFontFamilySelect=nicEditorSelect.extend({sel:{arial:"Arial","comic sans ms":"Comic Sans","courier new":"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact","times new roman":"Times","trebuchet ms":"Trebuchet",verdana:"Verdana"},init:function(){this.setDisplay("Font&nbsp;Family...");for(itm in this.sel)this.add(itm,'<font face="'+itm+'">'+
this.sel[itm]+"</font>")}}),nicEditorFontFormatSelect=nicEditorSelect.extend({sel:{p:"Paragraph",pre:"Pre",h6:"Heading&nbsp;6",h5:"Heading&nbsp;5",h4:"Heading&nbsp;4",h3:"Heading&nbsp;3",h2:"Heading&nbsp;2",h1:"Heading&nbsp;1"},init:function(){this.setDisplay("Font&nbsp;Format...");for(itm in this.sel){var b=itm.toUpperCase();this.add("<"+b+">","<"+itm+' style="padding: 0px; margin: 0px;">'+this.sel[itm]+"</"+b+">")}}});nicEditors.registerPlugin(nicPlugin,nicSelectOptions);
var nicLinkOptions={buttons:{link:{name:"Add Link",type:"nicLinkButton",tags:["A"]},unlink:{name:"Remove Link",command:"unlink",noActive:!0}}},nicLinkButton=nicEditorAdvancedButton.extend({addPane:function(){this.ln=this.ne.selectedInstance.selElm().parentTag("A");this.addForm({"":{type:"title",txt:getTrans("i.wysiwyg.addurl")},href:{type:"text",txt:"Url",value:"http://",style:{width:"150px"}},title:{type:"text",txt:getTrans("i.Title")}},this.ln)},submit:function(){var b=this.inputs.href.value;if("http://"==
b||""==b)return!1;var a="string"==typeof this.inputs.title.value&&""!=this.inputs.title.value;title=a?this.inputs.title.value:b;this.removePane();if(!this.ln){var c=title;this.ne.nicCommand("createlink",c);this.ln=this.findElm("A","href",c)}c="string"==typeof $(this.ln).val()&&""!=$(this.ln).val();!a&&c&&(title=$(this.ln).val());this.ln&&this.ln.setAttributes({href:b,title:title,target:"blank_"})}});nicEditors.registerPlugin(nicPlugin,nicLinkOptions);
var nicColorOptions={buttons:{forecolor:{name:__("Change Text Color"),type:"nicEditorColorButton",noClose:!0},bgcolor:{name:__("Change Background Color"),type:"nicEditorBgColorButton",noClose:!0}}},nicEditorColorButton=nicEditorAdvancedButton.extend({addPane:function(){var b={"0":"transparent",1:"#ffffff",2:"#201815",3:"#BF0310",4:"#008F44",5:"#009ADA",6:"#001C7D",7:"#BA007C",8:"#A01127",9:"#C54832",10:"#CB6120",11:"#DB9600",12:"#E5B449",13:"#F7EC45",14:"#DDDC1C",15:"#A2BD31",16:"#70A73A",17:"#4F8E3A",
18:"#326534",19:"#6EAA6E",20:"#5EA099",21:"#75AADB",22:"#4A72B1",23:"#002D81",24:"#001A5A",25:"#57157D",26:"#7B047D",27:"#840E5A",28:"#B10052",29:"#BF3276",30:"#C4BA9E",31:"#9B897A",32:"#716858",33:"#584E40",34:"#BC9D6C",35:"#A27F51",36:"#82613C",37:"#6D5128",38:"#5A3F09",39:"#3B2B16",40:"#434142",41:"#5B5B5E",42:"#717175",43:"#86858A",44:"#9A999D",45:"#ADADB2",46:"#C2C3C8",47:"#D7D8DC",48:"#ECEDEF"},a=(new bkElement("DIV")).setStyle({width:"270px"}),c;for(c in b){var d=b[c],f=(new bkElement("DIV")).setStyle({cursor:"pointer",
height:"15px","float":"left"}).appendTo(a),e=(new bkElement("DIV")).setStyle({border:"2px solid "+d}).appendTo(f),d="transparent"===d?(new bkElement("DIV")).setStyle({backgroundImage:"url('"+VISH.ImagesPath+"transparent_wysiwyg.png')",overflow:"hidden",width:"11px",height:"11px"}).addEvent("click",this.colorSelect.closure(this,d)).addEvent("mouseover",this.on.closure(this,e)).addEvent("mouseout",this.off.closure(this,e,d)).setAttributes({title:"set color to "+d}).appendTo(e):(new bkElement("DIV")).setStyle({backgroundColor:d,
overflow:"hidden",width:"11px",height:"11px"}).addEvent("click",this.colorSelect.closure(this,d)).addEvent("mouseover",this.on.closure(this,e)).addEvent("mouseout",this.off.closure(this,e,d)).setAttributes({title:"set color to "+d}).appendTo(e);window.opera||(f.onmousedown=d.onmousedown=bkLib.cancelEvent)}this.pane.append(a.noSelect())},colorSelect:function(b){this.ne.nicCommand("foreColor",b);this.removePane()},on:function(b){b.setStyle({border:"2px solid #000"})},off:function(b,a){b.setStyle({border:"2px solid "+
a})}}),nicEditorBgColorButton=nicEditorColorButton.extend({colorSelect:function(b){this.ne.nicCommand("hiliteColor",b);this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicColorOptions);
var nicImageOptions={buttons:{image:{name:"Add Image",type:"nicImageButton",tags:["IMG"]}}},nicImageButton=nicEditorAdvancedButton.extend({addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG");this.addForm({"":{type:"title",txt:"Add/Edit Image"},src:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},alt:{type:"text",txt:"Alt Text",style:{width:"100px"}},align:{type:"select",txt:"Align",options:{none:"Default",left:"Left",right:"Right"}}},this.im)},submit:function(){var b=
this.inputs.src.value;if(""==b||"http://"==b)return alert("You must enter a Image URL to insert"),!1;this.removePane();this.im||(this.ne.nicCommand("insertImage","javascript:nicImTemp();"),this.im=this.findElm("IMG","src","javascript:nicImTemp();"));this.im&&this.im.setAttributes({src:this.inputs.src.value,alt:this.inputs.alt.value,align:this.inputs.align.value})}});nicEditors.registerPlugin(nicPlugin,nicImageOptions);
var nicSaveOptions={buttons:{save:{name:__("Save this content"),type:"nicEditorSaveButton"}}},nicEditorSaveButton=nicEditorButton.extend({init:function(){this.ne.options.onSave||this.margin.setStyle({display:"none"})},mouseClick:function(){var b=this.ne.options.onSave,a=this.ne.selectedInstance;b(a.getContent(),a.elm.id,a)}});nicEditors.registerPlugin(nicPlugin,nicSaveOptions);(function(b){b.widget("ui.tagit",{options:{tagSource:[],triggerKeys:["enter","space","comma","tab"],initialTags:[],minLength:1,select:!1,allowNewTags:!0,caseSensitive:!1,sortable:!1,highlightOnExistColor:"#0F0",emptySearch:!0,watermarkAllowMessage:"Add tags",watermarkDenyMessage:"Tags limit reached",tagsChanged:function(){}},_splitAt:/\ |,/g,_existingAtIndex:0,_pasteMetaKeyPressed:!1,_keys:{backspace:[8],enter:[13],space:[32],comma:[44,188],tab:[9]},_sortable:{sorting:-1},_create:function(){var a=
this;this.tagsArray=[];this.timer=null;this.element.addClass("tagit");this.element.children("li").each(function(){var c=b(this),f=c.attr("tagValue");a.options.initialTags.push({label:c.text(),value:f?f:c.text()})});a._splitAt=null;0<b.inArray("space",a.options.triggerKeys)&&0<b.inArray("comma",a.options.triggerKeys)?a._splitAt=/\ |,/g:0<b.inArray("space",a.options.triggerKeys)?a._splitAt=/\ /g:0<b.inArray("comma",a.options.triggerKeys)&&(a._splitAt=/,/g);this.element.html('<li class="tagit-new"><input class="tagit-input" type="text" /></li>');
this.input=this.element.find(".tagit-input");"function"==typeof b().watermark&&this.input.watermark(this.options.watermarkAllowMessage);b(this.element).click(function(c){if(b(c.target).hasClass("tagit-close")){c=b(c.target).parent();c=a.tagsArray[c.index()];c.element.remove();a._popTag(c)}else{a.input.focus();a.options.emptySearch&&(b(c.target).hasClass("tagit-input")&&a.input.val()==""&&a.input.autocomplete!=void 0)&&a.input.autocomplete("search")}});var c=this.options.select;this.options.appendTo=
this.element;this.options.source=this.options.tagSource;this.options.select=function(b,c){a.input.data("autoCompleteTag",true);clearTimeout(a.timer);c.item.label===void 0?a._addTag(c.item.value):a._addTag(c.item.label,c.item.value);b.stopPropagation();return false};this.options.focus=function(b,c){if(c.item.label!==void 0&&/^key/.test(b.originalEvent.originalEvent.type)){a.input.val(c.item.label);a.input.attr("tagValue",c.item.value);return false}};this.options.autoFocus=!this.options.allowNewTags;
this.input.autocomplete(this.options);this.options.select=c;this.input.keydown(function(c){var f=a.element.children(".tagit-choice:last");if(c.which==a._keys.backspace)return a._backspace(f);if(a._isInitKey(c.which)&&(!a._isTabKey(c.which)||this.value!=""||a.input.data("autoCompleteTag"))){c.preventDefault();a.input.data("autoCompleteTag",false);a.options.allowNewTags&&b(this).val().length>=a.options.minLength&&a._addTag(b(this).val())}a.options.maxLength!==void 0&&a.input.val().length==a.options.maxLength&&
c.preventDefault();f.hasClass("selected")&&f.removeClass("selected");_pasteMetaKeyPressed=c.metaKey;a.lastKey=c.which});this.input.keyup(function(a){_pasteMetaKeyPressed&&(a.which==91||a.which==86)&&b(this).blur();window.setTimeout(function(){_pasteMetaKeyPressed=a.metaKey},250)});this.input.blur(function(){a.currentLabel=b(this).val();a.currentValue=b(this).attr("tagValue");if(a.options.allowNewTags&&a.currentLabel)a.timer=setTimeout(function(){a._addTag(a.currentLabel,a.currentValue);a.currentValue=
"";a.currentLabel=""},400);b(this).val("").removeAttr("tagValue");return true});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});this.options.select&&(this.select=b('<select class="tagit-hiddenSelect" name="'+this.element.attr("name")+'" multiple="multiple"></select>'),this.element.after(this.select));this._initialTags();!1!==a.options.sortable&&(c={items:".tagit-choice",containment:"parent",opacity:0.6,tolerance:"pointer",start:function(c,f){a._sortable.tag=
b(f.item);a._sortable.origIndex=a._sortable.tag.index()},update:function(){a._sortable.newIndex=a._sortable.tag.index();a._moveTag(a._sortable.origIndex,a._sortable.newIndex);if(a.options.tagsChanged){var b=a.tagsArray[a._sortable.newIndex];a.options.tagsChanged(b.value,"moved",b.element)}}},"handle"==a.options.sortable&&(c.handle="a.ui-icon",c.cursor="move"),a.element.sortable(c))},_popSelect:function(a){b("option:eq("+a.index+")",this.select).remove();this.select.change()},_addSelect:function(a){this.select.append('<option selected="selected" value="'+
a.value+'">'+a.label+"</option>");this.select.change()},_popTag:function(a){void 0===a?a=this.tagsArray.pop():this.tagsArray.splice(a.index,1);"function"==typeof b().watermark&&this.input.watermark(this.options.watermarkAllowMessage);for(var c in this.tagsArray)this.tagsArray[c].index=c;this.options.select&&this._popSelect(a);this.options.tagsChanged&&this.options.tagsChanged(a.value||a.label,"popped",null)},_addTag:function(a,c){if(this.tagsArray.length>this.options.maxTags-1)return b(this.input).blur(),
!1;this.input.autocomplete("close").val("");if(this._splitAt&&0<a.search(this._splitAt))for(var d=a.split(this._splitAt),f=0;f<d.length;f++)this._addTag(d[f],c);else{a=a.replace(/,+$/,"").trim();if(""==a)return!1;d=this._exists(a,c);if(!1!==d)return this._highlightExisting(d),!1;this.tagsArray.length==this.options.maxTags-1&&("function"==typeof b().watermark&&this.input.watermark(this.options.watermarkDenyMessage),b(this.input).blur());d=this.tag(a,c);d.element=b('<li class="tagit-choice"'+(void 0!==
c?' tagValue="'+c+'"':"")+">"+("handle"==this.options.sortable?'<a class="ui-icon ui-icon-grip-dotted-vertical" style="float:left"></a>':"")+a+'<a class="tagit-close">x</a></li>');d.element.insertBefore(this.input.parent());this.tagsArray.push(d);this.input.val("");this.options.select&&this._addSelect(d);this.options.tagsChanged&&this.options.tagsChanged(d.label,"added",d.element);return!0}},_removeTagWithValue:function(a,b){var d=this._exists(a,b);!1!=d&&(d=this.tagsArray[d],d.element.remove(),this._popTag(d))},
_exists:function(a,b){if(0==this.tagsArray.length)return!1;var a=this._lowerIfCaseInsensitive(a),b=this._lowerIfCaseInsensitive(b),d;for(d in this.tagsArray)if(this._lowerIfCaseInsensitive(this.tagsArray[d].label)==a)if(void 0!==b){if(this._lowerIfCaseInsensitive(this.tagsArray[d].value)==b)return d}else return d;return!1},_highlightExisting:function(a){if(void 0!==this.options.highlightOnExistColor){a=this.tagsArray[a];a.element.stop();var b=a.element.css("color");a.element.animate({color:this.options.highlightOnExistColor},
100).animate({color:b},800)}},_isInitKey:function(a){var c="",d;for(d in this._keys)-1!=b.inArray(a,this._keys[d])&&(c=d);return-1!=b.inArray(c,this.options.triggerKeys)?!0:!1},_isTabKey:function(a){return-1<b.inArray(a,this._keys.tab)},_removeTag:function(){this._popTag();this.element.children(".tagit-choice:last").remove()},_backspace:function(a){""==this.input.val()&&(this.lastKey==this._keys.backspace?(this._popTag(),a.remove(),this.lastKey=null):(a.addClass("selected"),this.lastKey=this._keys.backspace));
return!0},_initialTags:function(){var a=this,c;this.options.tagsChanged&&(c=this.options.tagsChanged);this.options.tagsChanged=null;0!=this.options.initialTags.length&&b(this.options.initialTags).each(function(b,c){typeof c=="object"?a._addTag(c.label,c.value):a._addTag(c)});this.options.tagsChanged=c},_lowerIfCaseInsensitive:function(a){return void 0===a||"string"!=typeof a||this.options.caseSensitive?a:a.toLowerCase()},_moveTag:function(a,c){this.tagsArray.splice(c,0,this.tagsArray.splice(a,1)[0]);
for(var d in this.tagsArray)this.tagsArray[d].index=d;this.options.select&&b("option:eq("+a+")",this.select).insertBefore(b("option:eq("+c+")",this.select))},tags:function(){return this.tagsArray},destroy:function(){b.Widget.prototype.destroy.apply(this,arguments);this.tagsArray=[]},reset:function(){this.element.find(".tagit-choice").remove();this.tagsArray=[];this.options.select&&(this.select.children().remove(),this.select.change());this._initialTags();this.options.tagsChanged&&this.options.tagsChanged(null,
"reset",null);"function"==typeof b().watermark&&this.input.watermark(this.options.watermarkAllowMessage)},fill:function(a){void 0!==a&&(this.options.initialTags=a);this.reset()},add:function(a,b){return"object"==typeof a?this._addTag({label:a,value:b}):this._addTag(a,b)},remove:function(a){this._removeTagWithValue(a,a)},tag:function(a,b,d){return{label:a,value:void 0===b?a:b,element:d,index:this.tagsArray.length}}})})(jQuery);if(!window.YT)var YT={};YT.Player||function(){var b=document.createElement("script");b.src="http://s.ytimg.com/yts/jsbin/www-widgetapi-vfl3iLqI8.js";b.async=!0;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);YT.embed_template='<iframe width="425" height="344" src="" frameborder="0" allowfullscreen></iframe>'}();VISH.Renderer=function(b,a,c){var d=null,f=function(c,d,f){var n="",o="";for(el in c.elements)if(VISH.Renderer.Filter.allowElement(c.elements[el]))if("text"===c.elements[el].type)n+="<div id='"+c.elements[el].id+"' class='"+c.template+"_"+c.elements[el].areaid+" "+c.template+"_text'>"+c.elements[el].body+"</div>";else if("image"===c.elements[el].type){var m,p=c.elements[el],t=c.template;m=a("<div id='"+p.id+"' class='"+t+"_"+p.areaid+"'></div>");t=a("<img class='"+t+"_image' src='"+p.body+"' style='"+
p.style+"' />");p.hyperlink?(p=a("<a href='"+p.hyperlink+"' target='blank_'></a>"),a(p).append(t),a(m).append(p)):a(m).append(t);m=VISH.Utils.getOuterHTML(m);n+=m}else if("video"===c.elements[el].type)n+=e(c.elements[el],c.template);else if("object"===c.elements[el].type){a:switch(m=c.elements[el],t=c.template,p=VISH.Object.getObjectInfo(m.body),p.type){case "youtube":var p=p.source,q=VISH.Utils.getId();m="<div id='"+m.id+"' class='objectelement youtubeelement "+t+"_"+m.areaid+"' objectStyle='"+(m.style?
m.style:"")+"' zoomInStyle='"+(m.zoomInStyle?m.zoomInStyle:"")+"' source='"+p+"' ytContainerId='"+q+"'></div>";break a;default:m="<div id='"+m.id+"' class='objectelement "+t+"_"+m.areaid+"' objectStyle='"+(m.style?m.style:"")+"' zoomInStyle='"+(m.zoomInStyle?m.zoomInStyle:"")+"' objectWrapper='"+m.body+"'></div>"}n+=m;o+="object "}else"snapshot"===c.elements[el].type?(m=c.elements[el],p=c.template,t=m.scrollTop?m.scrollTop:0,q=m.scrollLeft?m.scrollLeft:0,n+="<div id='"+m.id+"' class='snapshotelement "+
p+"_"+m.areaid+"' template='"+p+"' objectStyle='"+(m.style?m.style:"")+"' scrollTop='"+t+"' scrollTopOrigin='"+t+"' scrollLeft='"+q+"' scrollLeftOrigin='"+q+"' objectWrapper='"+m.body+"'></div>",o+="snapshot "):"applet"===c.elements[el].type?(n+="<div id='"+c.elements[el].id+"' class='appletelement "+c.template+"_"+c.elements[el].areaid+"' code='"+c.elements[el].code+"' width='"+c.elements[el].width+"' height='"+c.elements[el].height+"' archive='"+c.elements[el].archive+"' params='"+c.elements[el].params+
"' ></div>",o+="applet "):c.elements[el].type===VISH.Constant.QUIZ?(n+=b.Quiz.Renderer.renderQuiz(c.elements[el].quiztype,c.elements[el],c.template+"_"+c.elements[el].areaid,c.id,c.elements[el].id),o+=VISH.Constant.QUIZ):n+="<div id='"+c.elements[el].id+"' class='"+c.template+"_"+c.elements[el].areaid+" "+c.template+"_text'></div>";else n+=VISH.Renderer.Filter.renderContentFiltered(c.elements[el],c.template);c.type==VISH.Constant.QUIZ&&(n+=b.Quiz.Renderer.renderQuiz(c.quiztype,c,c.template+"_"+c.areaid,
null,c.id),o+=VISH.Constant.QUIZ);return"<article class='"+d+" "+o+"' id='"+c.id+"'>"+f+n+"</article>"},e=function(b,c){var d="<div id='"+b.id+"' class='"+c+"_"+b.areaid+"'>",e=b.style?"style='"+b.style+"'":"",f=b.controls?"controls='"+b.controls+"' ":"controls='controls' ",m=b.autoplay?"autoplayonslideenter='"+b.autoplay+"' ":"",p=b.poster?"poster='"+b.poster+"' ":"",t=b.loop?"loop='loop' ":"",q=b.sources,r=VISH.Utils.getId();"string"==typeof q&&(q=JSON.parse(q));d=d+"<video id='"+r+"' class='"+
c+"_video' preload='metadata' "+e+f+m+p+t+">";a.each(q,function(a,b){d=d+"<source src='"+b.src+"' "+(b.type?"type='"+b.type+"' ":"")+">"});0<q.length&&(d+="<p>Your browser does not support HTML5 video.</p>");return d+="</video>"};return{init:function(){d=a(".slides");VISH.Renderer.Filter.init()},renderVideo:e,renderSlide:function(e,l,h){l||(l="");h||(h="");switch(e.type){case c:case VISH.Constant.STANDARD:l=f(e,l,h);break;case VISH.Constant.FLASHCARD:var n="";for(index in e.slides)var o=e.slides[index],
n=n+f(o,"subslide","<div class='close_subslide' id='close"+o.id+"'></div>");l=a("<article class='"+l+" flashcard_slide' type='flashcard' avatar='"+e.background+"' id='"+e.id+"'>"+h+("<div class='subslides' >"+n+"</div>")+"</article>");break;case VISH.Constant.VTOUR:n="";for(index in e.slides)o=e.slides[index],n+=f(o,"subslide","<div class='close_subslide' id='close"+o.id+"'></div>");l=a("<article class='"+l+" virtualTour_slide' type='virtualTour' id='"+e.id+"'>"+h+("<div class='subslides' >"+n+"</div>")+
"</article>");break;default:l=null}if(l)switch(d.append(a(l)),e.type){case VISH.Constant.FLASHCARD:a("#"+e.id).css("background-image",e.background);for(index in e.pois)b.Flashcard.addArrow(e.id,e.pois[index],!0);break;case VISH.Constant.VTOUR:VISH.VirtualTour.drawMap(e)}}}}(VISH,jQuery);VISH.Status=function(b,a){var c,d,f,e,g;return{init:function(){c={browser:{},features:{}};var b;b=-1;navigator.appName===VISH.Constant.UA_IE&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));-1!=b?(c.browser.name=VISH.Constant.IE,c.browser.version=b):(b=-1,navigator.appName===VISH.Constant.UA_NETSCAPE&&null!=/.* Firefox\/([0-9.]+)/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1)),-1!=b?(c.browser.name=VISH.Constant.FIREFOX,c.browser.version=b):(b=-1,navigator.appName===
VISH.Constant.UA_NETSCAPE&&null!=/.* Chrome\/([0-9.]+)/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1)),-1!=b?(c.browser.name=VISH.Constant.CHROME,c.browser.version=b):(c.browser.name=VISH.Constant.UNKNOWN,c.browser.name=-1)));c.pixelRatio=window.devicePixelRatio||1;c.viewport={width:window.innerWidth,height:window.innerHeight};c.screen={width:window.screen.availWidth*c.pixelRatio,height:window.screen.availHeight*c.pixelRatio};c.iPhone=/iPhone/i.test(navigator.userAgent);c.iPhone4=c.iPhone&&
2==c.pixelRatio;c.iPad=/iPad/i.test(navigator.userAgent);c.iOS=c.iPhone||c.iPad;c.applePhone=c.iPhone||c.iPhone4;c.appleTablet=c.iPad;c.android=/android/i.test(navigator.userAgent);c.android?(c.androidPhone=!1,c.androidTablet=!1,/tablet/i.test(navigator.userAgent)?c.androidTablet=!0:window.screen.availWidth>window.screen.availHeight?1536<=window.screen.availWidth&&1080<=window.screen.availHeight?c.androidTablet=!0:c.androidPhone=!0:1536<=window.screen.availHeight&&1080<=window.screen.availWidth?c.androidTablet=
!0:c.androidPhone=!0):(c.androidPhone=!1,c.androidTablet=!1);c.mobile=c.applePhone||c.androidPhone;c.tablet=c.appleTablet||c.androidTablet;c.desktop=!c.mobile&&!c.tablet?!0:!1;d=window.location!=window.parent.location?!0:!1;if((b=document.getElementById("page-fullscreen"))&&(b.requestFullScreen||b.mozRequestFullScreen||b.webkitRequestFullScreen))if(d)try{if(window.parent.location.host===window.location.host&&(!window.parent.VISH||!window.parent.VISH.Editor||"function"!==typeof window.parent.VISH.Editor.Preview.getPreview))c.features.fullscreen=
!0}catch(e){c.features.fullscreen=!1}else c.features.fullscreen=!0;c.features.touchScreen=!!("ontouchstart"in window);a.ajax({async:!0,cache:!1,error:function(a,b,c){VISH.Debugging.log("Error: "+c);f=false},success:function(){f=true},timeout:5E3,type:"GET",url:VISH.ImagesPath+"blank.gif"})},getIsInIframe:function(){return d},getIframe:function(){return d?window.frameElement:null},getDevice:function(){return c},getOnline:function(){return f},setSlaveMode:function(a){a!==e&&(!0===a?(VISH.Events.unbindViewerEventListeners(),
VISH.VideoPlayer.HTML5.showControls(!1),e=!0):(VISH.Events.bindViewerEventListeners(),VISH.VideoPlayer.HTML5.showControls(!0),e=!1))},isSlaveMode:function(){return"undefined"!==typeof e?e:!1},setPreventDefaultMode:function(a){a!==g&&(g=!0===a?!0:!1)},isPreventDefaultMode:function(){return"undefined"!==typeof g?g:!1}}}(VISH,jQuery);VISH.Utils=function(b){var a,c=function(b,d,g){d?(d=b,b=b.replace(b[b.length-1],"")):("string"!==typeof b&&(b="unicID"),"string"!==typeof g&&(g=""),"undefined"===typeof a[b]&&(a[b]=0),a[b]+=1,d=b+g+a[b]);return 0===$("#"+d).length?d:c(b,!1,g)},d=function(a){$("head").append('<link rel="stylesheet" href="'+VISH.StylesheetsPath+a+'" type="text/css" />')};return{init:function(){a||(a=[])},getId:c,getOuterHTML:function(a){return"undefined"==typeof $(a)[0].outerHTML?$(a).clone().wrap("<div></div>").parent().html():
$(a)[0].outerHTML},generateTable:function(a,b,c){a||(a="");b||(b="");c||(c="");return'<table class="metadata"><tr class="even"><td class="title header_left">'+VISH.Editor.I18n.getTrans("i.Author")+'</td><td class="title header_right"><div class="height_wrapper">'+a+'</div></td></tr><tr class="odd"><td class="title">'+VISH.Editor.I18n.getTrans("i.Title")+'</td><td class="info"><div class="height_wrapper">'+b+'</div></td></tr><tr class="even"><td colspan="2" class="title_description">'+VISH.Editor.I18n.getTrans("i.Description")+
'</td></tr><tr class="odd"><td colspan="2" class="info_description"><div class="height_wrapper_description">'+c+"</div></td></tr></table>"},getSrcFromCSS:function(a){return 0===a.indexOf("url")?a.substring(4,a.length-1):a},loadDeviceCSS:function(){VISH.Status.getDevice().desktop?d("device/desktop.css"):VISH.Status.getDevice().mobile?d("device/mobile.css"):VISH.Status.getDevice().tablet&&d("device/tablet.css");switch(VISH.Status.getDevice().browser.name){case VISH.Constant.FIREFOX:d("browser/firefox.css");
break;case VISH.Constant.IE:d("browser/ie.css");break;case VISH.Constant.CHROME:d("browser/chrome.css")}},loadCSS:d,checkMiniumRequirements:function(){var a=!0,b=VISH.Status.getDevice();switch(b.browser.name){case VISH.Constant.IE:VISH.Editing?9>b.browser.version&&(a=!1):8>b.browser.version&&(a=!1)}return!a?($.fancybox($("#requirements_form_wrapper").html(),{autoDimensions:!1,width:650,height:400,showCloseButton:!1,padding:0,onClosed:function(){}}),!1):!0},convertToTagsArray:function(a){var b=[];
if(!a||0==a.length)return b;$.each(a,function(a,c){b.push(c.value)});return b},getURLParameter:function(a){return decodeURIComponent((location.search.match(RegExp("[?|&]"+a+"=(.+?)(&|$)"))||[,null])[1])},getZoomFromStyle:function(a){var b=1;if(!a)return b;var c=/-moz-transform: ?scale\(([0-9]+.[0-9]+)\)/g,d=/-webkit-transform: ?scale\(([0-9]+.[0-9]+)\)/g,h=/-o-transform: ?scale\(([0-9]+.[0-9]+)\)/g,n=/-ms-transform: ?scale\(([0-9]+.[0-9]+)\)/g;$.each(a.split(";"),function(a,f){if(null!=f.match(c)){var p=
c.exec(f);if(p[1])return b=parseFloat(p[1]),!1}else if(null!=f.match(d)){if(p=d.exec(f),p[1])return b=parseFloat(p[1]),!1}else if(null!=f.match(h)){if(p=h.exec(f),p[1])return b=parseFloat(p[1]),!1}else if(null!=f.match(n)&&(p=n.exec(f),p[1]))return b=parseFloat(p[1]),!1});return b},getZoomInStyle:function(a){return"-ms-transform: scale("+a+"); -ms-transform-origin: 0 0; -moz-transform: scale("+a+"); -moz-transform-origin: 0 0; -o-transform: scale("+a+"); -o-transform-origin: 0 0; -webkit-transform: scale("+
a+"); -webkit-transform-origin: 0 0; "},autocompleteUrls:function(a){var b=/(^http(s)?:\/\/)/g;return null==VISH.Object.getObjectInfo().wrapper&&null==a.match(b)?"http://"+a:a},filterFilePath:function(a){return a.replace("C:\\fakepath\\","")},loadTab:function(a){$(".joyride-close-tip").click();$(".fancy_tab_content").hide();$("#"+a+"_content").show();$(".fancy_tab").removeClass("fancy_selected");$("#"+a).addClass("fancy_selected");$(".help_in_fancybox").hide();$("#"+a+"_help").show();switch(a){case "tab_flashcards_repo":b.Editor.Flashcard.Repository.onLoadTab();
break;case "tab_pic_from_url":b.Editor.Image.onLoadTab("url");break;case "tab_pic_upload":b.Editor.Image.onLoadTab("upload");break;case "tab_pic_repo":b.Editor.Image.Repository.onLoadTab();break;case "tab_pic_flikr":b.Editor.Image.Flikr.onLoadTab();break;case "tab_video_from_url":VISH.Editor.Video.onLoadTab();break;case "tab_video_repo":VISH.Editor.Video.Repository.onLoadTab();break;case "tab_video_youtube":VISH.Editor.Video.Youtube.onLoadTab();break;case "tab_video_vimeo":VISH.Editor.Video.Vimeo.onLoadTab();
break;case "tab_object_from_url":VISH.Editor.Object.onLoadTab("url");break;case "tab_object_from_web":VISH.Editor.Object.Web.onLoadTab();break;case "tab_object_snapshot":VISH.Editor.Object.Snapshot.onLoadTab();break;case "tab_object_upload":VISH.Editor.Object.onLoadTab("upload");break;case "tab_object_repo":VISH.Editor.Object.Repository.onLoadTab();break;case "tab_live_webcam":VISH.Editor.Object.Live.onLoadTab("webcam");break;case "tab_live_micro":VISH.Editor.Object.Live.onLoadTab("micro");break;
case "tab_quiz_session":VISH.Quiz.activatePolling(!1);break;case "tab_quiz_stats_bars":VISH.Quiz.activatePolling(!0);break;case "tab_quiz_stats_pie":VISH.Quiz.activatePolling(!0)}}}}(VISH);VISH.Editor=function(b,a,c){var d=!1,f,e,g=!1,l,h=null,n=null,o=function(c){setTimeout(function(){a(c.target).find(".object_wrapper").show()},500);a(c.target).hasClass("flashcard_slide")&&b.Flashcard.startAnimation(c.target.id);a(c.target).hasClass("subslide")&&(setTimeout(function(){a(c.target).hasClass("object")?b.ObjectPlayer.loadObject(a(c.target)):a(c.target).hasClass("applet")?b.AppletPlayer.loadApplet(a(c.target)):a(c.target).hasClass("snapshot")&&b.SnapshotPlayer.loadSnapshot(a(c.target))},
500),b.VideoPlayer.HTML5.playVideos(c.target),(a(c.target).hasClass("flashcard_slide")||a(c.target).hasClass("virtualTour_slide"))&&a("#forward_arrow").css("top","15%"),a(c.target).hasClass("flashcard_slide")&&b.Flashcard.startAnimation(c.target.id))},m=function(c){a(".object_wrapper").hide();a(c.target).hasClass("flashcard_slide")&&b.Flashcard.stopAnimation(c.target.id);a(c.target).hasClass("subslide")&&(b.VideoPlayer.HTML5.stopVideos(c.target),b.ObjectPlayer.unloadObject(c.target),b.AppletPlayer.unloadApplet(),
(a(c.target).hasClass("flashcard_slide")||a(c.target).hasClass("virtualTour_slide"))&&a("#forward_arrow").css("top","0%"),a(c.target).hasClass("flashcard_slide")&&b.Flashcard.stopAnimation(c.target.id))},p=function(){var c=VISH.Editor.Dummies.getDummy(a(this).attr("template"),VISH.Slides.getSlidesQuantity()+1);VISH.Slides.addSlide(c);a.fancybox.close();b.Slides.setCurrentSlideNumber(b.Slides.getCurrentSlideNumber()+1);VISH.Editor.Utils.redrawSlides();VISH.Editor.Thumbnails.redrawThumbnails();setTimeout("VISH.Slides.lastSlide()",
300)},t=function(){a(this).removeClass("editable");e=a(this);var c=a("#menuselect").clone().attr("id","current_menu");a(c).find("a").css("display","none");a(c).find("a.all").css("display","inline");switch(a(this).attr("size")){case VISH.Constant.EXTRA_SMALL:a(c).find("a.small").css("display","inline");a(c).find("a > div").addClass("thumb_extra_small");break;case VISH.Constant.SMALL:a(c).find("a.small").css("display","inline");a(c).find("a > div").addClass("thumb_small");break;case VISH.Constant.MEDIUM:a(c).find("a.medium").css("display",
"inline");a(c).find("a > div").addClass("thumb_medium");break;case VISH.Constant.LARGE:a(c).find("a.large").css("display","inline"),a(c).find("a > div").addClass("thumb_large")}a(this).html(c);a("a.addpicture").fancybox({autoDimensions:!1,width:800,scrolling:"no",height:600,padding:0,onStart:function(c){c=a(c).attr("zone");e=a("#"+c);b.Editor.Image.setAddContentMode(VISH.Constant.NONE);VISH.Utils.loadTab("tab_pic_from_url")}});a("a.addobject").fancybox({autoDimensions:!1,width:800,height:600,scrolling:"no",
padding:0,onStart:function(b){b=a(b).attr("zone");e=a("#"+b);VISH.Utils.loadTab("tab_object_from_url")}});a("a.addvideo").fancybox({autoDimensions:!1,width:800,scrolling:"no",height:600,padding:0,onStart:function(b){b=a(b).attr("zone");e=a("#"+b);VISH.Utils.loadTab("tab_video_from_url")}});a("a.addLive").fancybox({autoDimensions:!1,width:800,scrolling:"no",height:600,padding:0,onStart:function(b){b=a(b).attr("zone");e=a("#"+b);VISH.Utils.loadTab("tab_live_webcam")}});a("a.addQuiz").click(function(){a("a#addQuizFancybox").trigger("click")})},
q=function(){e=a(this).parent();a("#image_template_prompt").attr("src",VISH.ImagesPath+G().attr("type")+".png");a.fancybox(a("#prompt_form").html(),{autoDimensions:!1,scrolling:"no",width:350,height:150,showCloseButton:!1,padding:0,onClosed:function(){"true"===a("#prompt_answer").val()&&(a("#prompt_answer").val("false"),G().html(""),G().removeAttr("type"),G().addClass("editable"))}})},r=function(){var b=a(this).parent();a("#image_template_prompt").attr("src",VISH.ImagesPath+"templatesthumbs/"+b.attr("template")+
".png");a.fancybox(a("#prompt_form").html(),{autoDimensions:!1,width:350,scrolling:"no",height:150,showCloseButton:!1,padding:0,onClosed:function(){"true"===a("#prompt_answer").val()&&(a("#prompt_answer").val("false"),VISH.Slides.removeSlide(VISH.Slides.getCurrentSlideNumber()))}})},w=function(b){D(a(this));b.stopPropagation();b.preventDefault()},D=function(b){e=b;C(b);a(b).css("cursor","auto");a(b).css("border-color","rgb(255, 2, 94)");a(b).css("-webkit-box-shadow","inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 100, 100, 0.6)");
a(b).css("-moz-box-shadow","inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 100, 100, 0.6)");a(b).css("box-shadow","inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 100, 100, 0.6)");a(b).css("outline","0");a(b).css("outline","thin dotted 9");VISH.Editor.Tools.loadToolsForZone(b)},x=function(b){if(a(b.target).hasClass("noSelectableElement")||!(a("#fancybox-content").is(":visible")||a(b.target).parent().hasClass("selectable")||jQuery.contains(a("#toolbar_wrapper")[0],b.target)||"toolbar_wrapper"===
b.target.id||"FONT"===b.target.tagName))e=null,VISH.Editor.Tools.cleanZoneTools()},C=function(){a(".selectable").css("border-color","none");a(".selectable").css("-webkit-box-shadow","none");a(".selectable").css("-moz-box-shadow","none");a(".selectable").css("box-shadow","none");a(".selectable").css("outline","0");a(".selectable").css("cursor","pointer")},F=function(){VISH.Slides.backwardOneSlide()},B=function(){VISH.Slides.forwardOneSlide()},G=function(){return e?e:null},O=function(){return!h||!h.type?
"presentation":h.type},Q=function(){if(VISH.Configuration.getConfiguration().mode===VISH.Constant.VISH&&l)return VISH.Editor.I18n.getTrans("i.exitConfirmation")};return{init:function(c,n){VISH.Debugging.init(c);VISH.Editing=!0;c?(f=c,c.configuration&&VISH.Configuration&&(VISH.Configuration.init(c.configuration),VISH.Configuration.applyConfiguration())):f={};VISH.Utils.init();VISH.Status.init();VISH.Utils.checkMiniumRequirements()&&(VISH.Utils.loadDeviceCSS(),VISH.Editor.Dummies.init(),VISH.Flashcard.init(),
VISH.Editor.Flashcard.init(),VISH.Renderer.init(),VISH.Slides.init(),VISH.User.init(c),VISH.Debugging.isDevelopping()&&"noserver"==c.configuration.mode&&("loadSamples"==VISH.Debugging.getActionInit()&&!n)&&(n=VISH.Debugging.getPresentationSamples()),a("#slider-range").slider({range:!0,min:0,max:30,values:[4,20],slide:function(b,c){a("#age_range").val(c.values[0]+" - "+c.values[1])}}),a("#age_range").val(VISH.Constant.AGE_RANGE),n&&("undefined"===typeof n.VEVersion&&(n.VEVersion="0.1"),d=!0,h=n,VISH.Editor.Renderer.init(n),
C()),a("a#addSlideFancybox").fancybox({autoDimensions:!1,scrolling:"no",width:640,height:350,padding:0,onStart:function(b){b=a(b).attr("zone");e=a("#"+b);VISH.Utils.loadTab("tab_templates")}}),a("a#addQuizFancybox").fancybox({autoDimensions:!1,scrolling:"no",width:385,height:340,padding:0,onStart:function(){VISH.Utils.loadTab("tab_quizes")}}),g||(g=!0,a(document).on("click","#edit_presentation_details",VISH.Editor.Tools.Menu.onSettings),a(document).on("click","#save",VISH.Editor.Tools.Menu.onSaveButtonClicked),
a(document).on("click","#pedagogical_clasification_button",VISH.Editor.Tools.Menu.onPedagogicalButtonClicked),a(document).on("click","#save_presentation_details",VISH.Editor.Tools.Menu.onSavePresentationDetailsButtonClicked),a(document).on("click","#done_in_pedagogical",VISH.Editor.Tools.Menu.onDonePedagogicalButtonClicked),a(document).on("click",".templatethumb",p),a(document).on("click",".editable",t),a(document).on("click",".selectable",w),a(document).on("click",':not(".selectable")',x),a(document).on("click",
".delete_content",q),a(document).on("click",".delete_slide",r),a(document).on("click","#arrow_left_div",F),a(document).on("click","#arrow_right_div",B),a(document).on("click","#fc_change_bg_big",b.Editor.Tools.changeFlashcardBackground),a("article").live("slideenter",o),a("article").live("slideleave",m),VISH.Editor.Utils.redrawSlides(),VISH.Editor.Thumbnails.redrawThumbnails(),a(document).on("click","#start_tutorial",function(){VISH.Editor.Tour.startTourWithId("initial_screen_help","top")}),a(document).on("click",
"#help_right",function(){VISH.Editor.Tour.startTourWithId("menubar_help","top")}),a(document).on("click","#help_flashcard",function(){VISH.Editor.Tour.startTourWithId("fc_help","top")}),a(document).on("click",".help_in_template",function(){VISH.Editor.Tour.startTourWithId("template_help","bottom")}),a(document).on("click","#tab_quizes_help",function(){VISH.Editor.Tour.startTourWithId("quiz_help","bottom")}),a(document).on("click","#help_themes_selection",function(){VISH.Editor.Tour.startTourWithId("themes_help",
"bottom")}),a(document).on("click","#help_template_selection",function(){VISH.Editor.Tour.startTourWithId("help_template_selection_help","bottom")}),a(document).on("click","#tab_pic_from_url_help",function(){VISH.Editor.Tour.startTourWithId("images_fancy_tabs_id_help","top")}),a(document).on("click","#tab_pic_upload_help",function(){VISH.Editor.Tour.startTourWithId("upload_picture_form_help","top")}),a(document).on("click","#tab_pic_repo_help",function(){VISH.Editor.Tour.startTourWithId("search_picture_help",
"bottom")}),a(document).on("click","#tab_pic_flikr_help",function(){VISH.Editor.Tour.startTourWithId("search_flickr_fancy_help","bottom")}),a(document).on("click","#tab_object_from_url_help",function(){VISH.Editor.Tour.startTourWithId("object_fancy_tabs_id_help","top")}),a(document).on("click","#tab_object_from_web_help",function(){VISH.Editor.Tour.startTourWithId("object_fancy_tabs_web_help","top")}),a(document).on("click","#tab_object_upload_help",function(){VISH.Editor.Tour.startTourWithId("upload_object_form_help",
"top")}),a(document).on("click","#tab_object_repo_help",function(){VISH.Editor.Tour.startTourWithId("search_object_help","bottom")}),a(document).on("click","#tab_object_snapshot_help",function(){VISH.Editor.Tour.startTourWithId("object_fancy_tabs_websnapshot_help","bottom")}),a(document).on("click","#tab_video_from_url_help",function(){VISH.Editor.Tour.startTourWithId("video_fancy_tabs_id_help","top")}),a(document).on("click","#tab_video_repo_help",function(){VISH.Editor.Tour.startTourWithId("search_video_help",
"top")}),a(document).on("click","#tab_video_youtube_help",function(){VISH.Editor.Tour.startTourWithId("search_youtube_fancy_help","bottom")}),a(document).on("click","#tab_video_vimeo_help",function(){VISH.Editor.Tour.startTourWithId("search_vimeo_fancy_help","bottom")}),a(document).on("click","#tab_live_webcam_help",function(){VISH.Editor.Tour.startTourWithId("tab_live_webcam_id","bottom")}),window.onbeforeunload=Q,l=!0),n&&a(".object_wrapper").hide(),VISH.Editor.I18n.init(c.lang),VISH.Editor.Text.init(),
VISH.Editor.Image.init(),VISH.Editor.Video.init(),VISH.Editor.Object.init(),VISH.Editor.Thumbnails.init(),VISH.Editor.AvatarPicker.init(),VISH.Editor.Quiz.init(),VISH.Editor.Tools.init(),VISH.Editor.Filter.init(),VISH.Editor.Clipboard.init(),VISH.Editor.Events.init(),VISH.EventsNotifier.init(),c.addons&&VISH.Addons.init(c.addons))},addDeleteButton:function(a){a.append("<div class='delete_content'></div>")},getTemplate:function(a){return a?a.parent().attr("template"):G()?G().parent().attr("template"):
null},getCurrentArea:G,getPresentationType:O,getOptions:function(){return f},loadFancyBox:function(b){var c={1:"templates",2:"flashcards"};for(tab in c)a("#tab_"+c[tab]+"_content").hide(),a("#tab_"+c[tab]).attr("class",""),a("#tab_"+c[tab]).attr("class","fancy_tab");a("#tab_"+b+"_content").show();a("#tab_"+b).attr("class","fancy_tab fancy_selected")},getPresentation:function(){return h},setPresentation:function(a){h=a},isPresentationStandard:function(b){if(b){if("presentation"!==b.type)b=!1;else{var c=
!0;a.each(b.slides,function(a,b){if(b.type&&"standard"!==b.type)return c=!1});b=c}return b}return 0===a("article[template]").length?!0:VISH.Editor.Flashcard.hasFlascards()?!1:!0},isPresentationDraft:function(){return d?f.draft&&"boolean"===typeof f.draft?f.draft:!1:!0},getSavedPresentation:function(){return n?n:null},hasInitialPresentation:function(){return d},savePresentation:function(d){a(".object_wrapper").show();var e={};e.VEVersion=VISH.VERSION;e.id=h?h.id:"";e.type=d?"presentation":O();h&&(e.title=
h.title,e.description=h.description,e.avatar=h.avatar,e.tags=h.tags,e.theme=h.theme,e.age_range=h.age_range,e.subject=h.subject,e.language=h.language,e.educational_objectives=h.educational_objectives,e.adquired_competencies=h.adquired_competencies);e.author="";e.slides=[];var f={};"flashcard"===e.type&&(f.id=a("#flashcard-background").attr("flashcard_id"),f.type="flashcard",f.background=a("#flashcard-background").css("background-image"),f.pois=VISH.Editor.Flashcard.savePois(),f.slides=[],e.slides.push(f));
f={};a(".slides > article").each(function(d,g){f.id=a(g).attr("id");f.type=a(g).attr("type");if(f.type===b.Constant.FLASHCARD){var h=VISH.Editor.Flashcard.getFlashcard(f.id);e.slides.push(h);f={};return true}f.template=a(g).attr("template");f.elements=[];var n={};a(g).addClass("temp_shown");a(g).find("div").each(function(b,d){if(a(d).attr("areaid")!==c){n.id=a(d).attr("id");n.type=a(d).attr("type");n.areaid=a(d).attr("areaid");if(n.type==VISH.Constant.TEXT)n.body=VISH.Editor.Text.changeFontPropertiesToSpan(a(d).find(".wysiwygInstance"));
else if(n.type==VISH.Constant.IMAGE){n.body=a(d).find("img").attr("src");n.style=VISH.Editor.Utils.getStylesInPercentages(a(d),a(d).find("img"));if(a(d).attr("hyperlink"))n.hyperlink=a(d).attr("hyperlink")}else if(n.type==VISH.Constant.VIDEO){var g=a(d).find("video");n.poster=a(g).attr("poster");n.style=VISH.Editor.Utils.getStylesInPercentages(a(d),a(g));var h="";a(g).find("source").each(function(b,c){b!=0&&(h=h+",");var d=typeof a(c).attr("type")!="undefined"?' "type": "'+a(c).attr("type")+'", ':
"";h=h+"{"+d+'"src": "'+a(c).attr("src")+'"}'});h="["+h+"]";n.sources=h}else if(n.type===VISH.Constant.OBJECT){var g=a(d).find(".object_wrapper").children()[0],m=a(g).clone();a(m).removeAttr("style");n.body=VISH.Utils.getOuterHTML(m);n.style=VISH.Editor.Utils.getStylesInPercentages(a(d),a(g).parent());g=VISH.Utils.getZoomFromStyle(a(g).attr("style"));if(g!=1)n.zoomInStyle=VISH.Utils.getZoomInStyle(g)}else if(n.type===VISH.Constant.QUIZ){g=a(d).find(".value_multiplechoice_question_in_zone");n.question=
VISH.Editor.Text.changeFontPropertiesToSpan(a(g));if(a(d).find(".multiplechoice_option_in_zone")){n.quiz_id="";if(a(d).find("input[name=quiz_id]").val()!="")n.quiz_id=a(d).find("input[name=quiz_id]").val();n.quiztype="multiplechoice";n.options={};n.options.choices=[];a(d).find(".multiplechoice_option_in_zone").each(function(b,c){if(VISH.Editor.Text.changeFontPropertiesToSpan(c)&&a(c).text()!="Write options here"&&a(c).text()!=""){result=VISH.Editor.Text.changeFontPropertiesToSpan(c);var d={};d.value=
a(c).text();d.container=VISH.Editor.Text.changeFontPropertiesToSpan(a(c));n.options.choices.push(d)}})}}else if(n.type===VISH.Constant.SNAPSHOT){g=a(d).find(".snapshot_wrapper");m=a(g).children()[0];a(m).removeAttr("style");n.body=VISH.Utils.getOuterHTML(m);n.style=VISH.Editor.Utils.getStylesInPercentages(a(d),g);n.scrollTop=a(g).scrollTop();n.scrollLeft=a(g).scrollLeft()}f.elements.push(n);if(n.type==VISH.Constant.QUIZ){g=a.extend(true,{},n);m={};m.title=e.title;m.description=e.description;m.author=
"";m.slides=[g];m.type=VISH.Constant.QUIZ_SIMPLE;n.quiz_simple_json=m}n={}}});if(e.type===VISH.Constant.FLASHCARD){f=VISH.Editor.Flashcard.prepareToNestInFlashcard(f);e.slides[0].slides.push(f)}else e.slides.push(f);f={};a(g).removeClass("temp_shown")});n=e;VISH.Debugging.log("\n\nVish Editor save the following presentation:\n");VISH.Debugging.log(JSON.stringify(e));return n},afterSavePresentation:function(b,c){switch(VISH.Configuration.getConfiguration().mode){case VISH.Constant.NOSERVER:VISH.Debugging&&
VISH.Debugging.isDevelopping()&&("view"==VISH.Debugging.getActionSave()?VISH.Debugging.initVishViewer():"edit"==VISH.Debugging.getActionSave()&&VISH.Debugging.initVishEditor());break;case VISH.Constant.VISH:var e;e=d?"PUT":"POST";var g="draft"===c,g={"excursion[json]":JSON.stringify(b),authenticity_token:f.token,draft:g};a.ajax({type:e,url:VISH.UploadPresentationPath,data:g,success:function(a){l=!1;window.top.location.href=a.url}});break;case VISH.Constant.STANDALONE:g=VISH.UploadPresentationPath;
h?(e="PUT",g+=h.id):e="POST";var n={"presentation[json]":JSON.stringify(b)};a.ajax({type:e,url:g,data:n,success:function(a){l=false;window.top.location.href=a.url}})}},setPresentationType:function(a){h||(h={});h.type=a?a:VISH.Constant.PRESENTATION},allowExitWithoutConfirmation:function(){l=!1},setCurrentArea:function(a){e=a},selectArea:D}}(VISH,jQuery);VISH.Editor.Video=function(b,a){return{init:function(){VISH.Editor.Video.HTML5.init();VISH.Editor.Video.Repository.init();VISH.Editor.Video.Youtube.init();VISH.Editor.Video.Vimeo.init();var b=a("#video_url");a(b).watermark("Paste video URL");a("#tab_video_from_url_content .previewButton").click(function(){VISH.Police.validateObject(a(b).val())[0]?(contentToAdd=VISH.Utils.autocompleteUrls(a("#video_url").val()),VISH.Editor.Object.drawPreview("tab_video_from_url_content",contentToAdd)):contentToAdd=
null})},onLoadTab:function(){a("#tab_video_from_url_content").find("input").val("");VISH.Editor.Object.resetPreview("tab_video_from_url_content")},drawPreviewElement:function(){VISH.Editor.Object.drawPreviewObject(contentToAdd)}}}(VISH,jQuery);VISH.Editor.Image=function(b,a){var c=null,d=VISH.Constant.NONE,f=function(){var b=a("#tab_pic_upload_content .upload_progress_bar"),c=a("#tab_pic_upload_content .upload_progress_bar_percent");b.width("0%");c.html("0%");VISH.Editor.Object.resetPreview("tab_pic_upload_content");b=a("#tab_pic_upload_content .tagList");0!==a(b)[0].children.length&&a(b).tagit("reset")},e=function(b){var c=a("#tab_pic_upload_content .tagList");0==a(c).children().length&&a(c).tagit({tagSource:b,sortable:!0,maxLength:15,
maxTags:8,watermarkAllowMessage:VISH.Editor.I18n.getTrans("i.AddTags"),watermarkDenyMessage:VISH.Editor.I18n.getTrans("i.limitReached")})},g=function(a){try{var b=JSON.parse(a);b.src&&VISH.Police.validateObject(b.src)[0]&&(VISH.Editor.Object.drawPreview("tab_pic_upload_content",b.src),c=b.src)}catch(d){}};return{init:function(){VISH.Editor.Image.Flikr.init();VISH.Editor.Image.Repository.init();a("#tab_pic_from_url_content .previewButton").click(function(){VISH.Police.validateObject(a("#picture_url").val())[0]&&
(c=VISH.Utils.autocompleteUrls(a("#picture_url").val()),VISH.Editor.Object.drawPreview("tab_pic_from_url_content",c))});var b=VISH.Editor.getOptions(),d=a("#tab_pic_upload_content .tagList"),e=a("#tab_pic_upload_content .upload_progress_bar"),o=a("#tab_pic_upload_content .upload_progress_bar_percent");a("#tab_pic_upload_content input[name='document[file]']").change(function(){var b=VISH.Utils.filterFilePath(a("#tab_pic_upload_content input:file").val());a("#tab_pic_upload_content input[name='document[title]']").val(b);
f();a(d).parent().show();a("#tab_pic_upload_content form .button").show();a("#tab_pic_upload_content .upload_progress_bar_wrapper").hide()});a("#tab_pic_upload_content #upload_document_submit").click(function(c){if(VISH.Police.validateFileUpload(a("#tab_pic_upload_content input[name='document[file]']").val())[0]){if(b){c="Uploaded by "+VISH.User.getName()+" via Vish Editor";a("#tab_pic_upload_content input[name='document[description]']").val(c);a("#tab_pic_upload_content input[name='document[owner_id]']").val(VISH.User.getId());
a("#tab_pic_upload_content input[name='authenticity_token']").val(VISH.User.getToken());a("#tab_pic_upload_content .documentsForm").attr("action",VISH.UploadImagePath);a("#tab_pic_upload_content input[name='tags']").val(VISH.Utils.convertToTagsArray(a(d).tagit("tags")));var d=a("#tab_pic_upload_content .tagList");a(d).parent().hide();a("#tab_pic_upload_content .upload_progress_bar_wrapper").show()}}else c.preventDefault()});a("#tab_pic_upload_content form").ajaxForm({beforeSend:function(){e.width("0%");
o.html("0%")},uploadProgress:function(a,b,c,d){a=d+"%";e.width(a);o.html(a)},complete:function(a){switch(VISH.Configuration.getConfiguration().mode){case VISH.Constant.NOSERVER:g('{"src":"/vishEditor/images/excursion_thumbnails/excursion-01.png"}');break;case VISH.Constant.VISH:g(a.responseText);break;case VISH.Constant.STANDALONE:g(a.responseText)}e.width("100%");o.html("100%")},error:function(a){VISH.Debugging.log("Upload error");VISH.Debugging.log(a)}})},onLoadTab:function(b){if("upload"==b){c=
null;var d=a("#tab_pic_upload_content .tagList");a(d).parent().hide();a("#tab_pic_upload_content form .button").hide();a("#tab_pic_upload_content .upload_progress_bar_wrapper").hide();a("#tab_pic_upload_content input[name='document[file]']").val("");f();VISH.Editor.API.requestTags(e)}"url"==b&&(c=null,VISH.Editor.Object.resetPreview("tab_pic_from_url_content"),a("#picture_url").val(""))},drawImage:function(c,d,e,f){d=d?d:VISH.Editor.getCurrentArea();e&&(e=b.Editor.Utils.setStyleInPixels(e,d),b.Editor.Utils.getWidthFromStyle(e,
d));var g=VISH.Editor.getTemplate(),p="draggable"+VISH.Utils.getId();d.attr("type","image");f&&d.attr("hyperlink",f);d.html("<img class='"+g+"_image' id='"+p+"' draggable='true' title='Click to drag' src='"+c+"' style='"+e+"'/>");b.Editor.addDeleteButton(d);a("#"+p).draggable({cursor:"move",stop:function(){a(this).parent().click()}})},addContent:function(a){a&&(c=a);switch(d){case VISH.Constant.FLASHCARD:VISH.Editor.Flashcard.onBackgroundSelected(c);break;case VISH.Constant.THUMBNAIL:VISH.Editor.AvatarPicker.onCustomThumbnailSelected(c);
break;default:VISH.Editor.Object.drawPreviewObject(c)}d=VISH.Constant.NONE},setAddContentMode:function(a){d=a}}}(VISH,jQuery);VISH.Editor.Object=function(b,a){var c=null,d=function(){var b=a("#tab_object_upload_content .upload_progress_bar"),c=a("#tab_object_upload_content .upload_progress_bar_percent");b.width("0%");c.html("0%");h("tab_object_upload_content");b=a("#tab_object_upload_content .tagList");0!==a(b)[0].children.length&&a(b).tagit("reset")},f=function(b){var c=a("#tab_object_upload_content .tagList");0==a(c).children().length&&a(c).tagit({tagSource:b,sortable:!0,maxLength:15,maxTags:8,watermarkAllowMessage:VISH.Editor.I18n.getTrans("i.AddTags"),
watermarkDenyMessage:VISH.Editor.I18n.getTrans("i.limitReached")})},e=function(a){try{var b=JSON.parse(a);b.src&&VISH.Police.validateObject(b.src)[0]&&(l("tab_object_upload_content",b.src),c=b.src)}catch(d){}},g,l=function(b,c){g=a("#"+b+" .previewimgbox").css("background-image");a("#"+b+" .previewimgbox").css("background-image","none");a("#"+b+" .previewimgbox img.imagePreview").remove();var d=o(c);0<a("#"+b+" .previewimgbox .objectPreview").length&&a("#"+b+" .previewimgbox .objectPreview").remove();
a("#"+b+" .previewimgbox").append(d);a("#"+b+" .previewimgbox button").show();a("#"+b+" .documentblank").addClass("documentblank_extraMargin")},h=function(b){a("#"+b+" .previewimgbox button").hide();a("#"+b+" .previewimgbox img.imagePreview").remove();a("#"+b+" .previewimgbox .objectPreview").remove();g&&a("#"+b+" .previewimgbox").css("background-image",g);a("#"+b+" .documentblank").removeClass("documentblank_extraMargin")},n=function(b){b&&(p(b),a.fancybox.close())},o=function(a){var b=VISH.Object.getObjectInfo(a);
switch(b.wrapper){case null:switch(b.type){case "image":return"<img class='imagePreview' src='"+a+"'></img>";case "swf":return"<embed class='objectPreview' src='"+a+"' wmode='opaque' ></embed>";case "pdf":return VISH.Editor.Object.PDF.generatePreviewWrapperForPdf(a);case "youtube":return VISH.Editor.Video.Youtube.generatePreviewWrapperForYoutubeVideoUrl(a);case "HTML5":return VISH.Editor.Video.HTML5.renderVideoFromSources([a]);case "web":return VISH.Editor.Object.Web.generatePreviewWrapperForWeb(a);
default:VISH.Debugging.log("Unrecognized object source type")}break;case "EMBED":return m(a);case "OBJECT":return m(a);case "IFRAME":return m(a);default:VISH.Debugging.log("Unrecognized object wrapper: "+b.wrapper)}},m=function(b){b=a(b);a(b).addClass("objectPreview");a(b).attr("wmode","opaque");a(b).removeAttr("width");a(b).removeAttr("height");return b},p=function(a,c,d,e){if(VISH.Police.validateObject(a)[0]){var f="",c=c?c:VISH.Editor.getCurrentArea();d&&(f=d);d=VISH.Object.getObjectInfo(a);switch(d.wrapper){case null:switch(d.type){case "image":b.Editor.Image.drawImage(a);
break;case "swf":b.Editor.Object.Flash.drawFlashObjectWithSource(a,f);break;case "pdf":b.Editor.Object.drawObject(b.Editor.Object.PDF.generateWrapperForPdf(a));break;case "youtube":b.Editor.Object.drawObject(b.Editor.Video.Youtube.generateWrapperForYoutubeVideoUrl(a));break;case "HTML5":b.Editor.Video.HTML5.drawVideoWithUrl(a);break;case "web":b.Editor.Object.drawObject(b.Editor.Object.Web.generateWrapperForWeb(a));break;default:b.Debugging.log("Unrecognized object source type: "+d.type)}break;case "EMBED":t(a,
c,f);break;case "OBJECT":t(a,c,f);break;case "IFRAME":t(a,c,f,e);break;default:VISH.Debugging.log("Unrecognized object wrapper: "+d.wrapper)}VISH.Editor.Tools.loadToolsForZone(c)}},t=function(c,d,e,f){var g=b.Editor.getTemplate(d),h=b.Utils.getId(),n="draggable"+h,h="resizable"+h;d.attr("type","object");var m=document.createElement("div");m.setAttribute("id",n);m.setAttribute("draggable",!0);e&&m.setAttribute("style",e);a(m).addClass("object_wrapper");e=a(c);a(e).attr("id",h);a(e).css("pointer-events",
"none");a(e).attr("class",g+"_object");a(e).attr("wmode","opaque");a(d).html("");a(d).append(m);VISH.Editor.addDeleteButton(a(d));a(m).append(e);a("#"+n).draggable({cursor:"move"});var g=a("#"+h).height()/a("#"+h).width(),n=d.width(),d=d.height(),m=a("#"+h).width(),l=a("#"+h).height();m>n&&(a("#"+h).width(n),a("#"+h).height(m*g),l=a("#"+h).height());l>d&&(a("#"+h).height(d),a("#"+h).width(l/g),a("#"+h).width());d=a("#"+h).parent();a(d).hasClass("object_wrapper")&&(a(d).height(a("#"+h).height()),a(d).width(a("#"+
h).width()));VISH.Editor.Tools.loadToolbarForObject(c);f&&(a(e).attr("style",f),VISH.ObjectPlayer.adjustDimensionsAfterZoom(a(e)))};return{init:function(){VISH.Editor.Object.Repository.init();VISH.Editor.Object.Live.init();VISH.Editor.Object.Web.init();VISH.Editor.Object.PDF.init();VISH.Editor.Object.Snapshot.init();var b=a("tab_object_from_url_content").find("input");a(b).watermark("Paste SWF file URL");a("#tab_object_from_url_content .previewButton").click(function(){VISH.Police.validateObject(a("#object_embed_code").val())[0]&&
(c=VISH.Utils.autocompleteUrls(a("#object_embed_code").val()),l("tab_object_from_url_content",c))});var f=VISH.Editor.getOptions(),g=a("#tab_object_upload_content .tagList"),h=a("#tab_object_upload_content .upload_progress_bar"),n=a("#tab_object_upload_content .upload_progress_bar_percent");a("#tab_object_upload_content input[name='document[file]']").change(function(){var b=VISH.Utils.filterFilePath(a("#tab_object_upload_content input:file").val());a("#tab_object_upload_content input[name='document[title]']").val(b);
d();a(g).parent().show();a("#tab_object_upload_content form .button").show();a("#tab_object_upload_content .upload_progress_bar_wrapper").hide()});a("#tab_object_upload_content #upload_document_submit").click(function(b){if(VISH.Police.validateFileUpload(a("#tab_object_upload_content input[name='document[file]']").val())[0]){if(f){b="Uploaded by "+VISH.User.getName()+" via Vish Editor";a("#tab_object_upload_content input[name='document[description]']").val(b);a("#tab_object_upload_content input[name='document[owner_id]']").val(VISH.User.getId());
a("#tab_object_upload_content input[name='authenticity_token']").val(VISH.User.getToken());a("#tab_object_upload_content .documentsForm").attr("action",VISH.UploadObjectPath);a("#tab_object_upload_content input[name='tags']").val(VISH.Utils.convertToTagsArray(a(c).tagit("tags")));var c=a("#tab_object_upload_content .tagList");a(c).parent().hide();a("#tab_object_upload_content .upload_progress_bar_wrapper").show()}}else b.preventDefault()});a("#tab_object_upload_content form").ajaxForm({beforeSend:function(){h.width("0%");
n.html("0%")},uploadProgress:function(a,b,c,d){a=d+"%";h.width(a);n.html(a)},complete:function(a){switch(VISH.Configuration.getConfiguration().mode){case VISH.Constant.NOSERVER:e('{"src":"/vishEditor/images/excursion_thumbnails/excursion-01.png"}');break;case VISH.Constant.VISH:e(a.responseText);break;case VISH.Constant.STANDALONE:e(a.responseText)}h.width("100%");n.html("100%")},error:function(a){VISH.Debugging.log("Upload error");VISH.Debugging.log(a)}})},onLoadTab:function(b){if("upload"==b){c=
null;var e=a("#tab_object_upload_content .tagList");a(e).parent().hide();a("#tab_object_upload_content form .button").hide();a("#tab_object_upload_content .upload_progress_bar_wrapper").hide();a("#tab_object_upload_content input[name='document[file]']").val("");d();VISH.Editor.API.requestTags(f)}"url"==b&&(c=null,h("tab_object_from_url_content"),a("#object_embed_code").val(""))},drawObject:p,renderObjectPreview:o,resizeObject:function(c,d){var e=a("#"+c).parent(),f=a("#"+c).width()/a("#"+c).height(),
g=Math.round(d/f),h=Math.round(d);a(e).width(h);a(e).height(g);e=b.Utils.getZoomFromStyle(a("#"+c).attr("style"));1!=e?(d/=e,f=Math.round(d/f),d=Math.round(d)):(f=g,d=h);a("#"+c).width(d);a("#"+c).height(f)},autofixWrapperedObjectAfterZoom:function(b,c){var d=a(b).parent();a(b).height(a(d).height()/c);a(b).width(a(d).width()/c)},drawPreview:l,resetPreview:h,drawPreviewElement:function(){n(c)},drawPreviewObject:n}}(VISH,jQuery);VISH.Editor.Flashcard=function(b,a){var c,d,f=function(d){b.Editor.setPresentationType(VISH.Constant.FLASHCARD);b.Editor.Utils.hideSlides();a("#flashcard-background").show();d?(a("#flashcard-background").css("background-image",d.slides[0].background),a("#fc_change_bg_big").hide(),a("#flashcard-background").attr("flashcard_id",d.slides[0].id)):(c||(c=VISH.Utils.getId("article")),a("#flashcard-background").attr("flashcard_id",c));a("#flashcard-background").droppable()};return{init:function(){VISH.Editor.Flashcard.Repository.init();
c=null;d=[]},addFlashcard:function(a){"undefined"!==typeof d&&(d[a.id]=a)},getFlashcard:function(a){if("undefined"!==typeof d)return d[a]},getCurrentFlashcardId:function(){return c},prepareToNestInFlashcard:function(a){return VISH.Editor.Utils.prepareSlideToNest(c,a)},hasChangedBackground:function(){return-1!=a("#flashcard-background").css("background-image").indexOf("flashcard_initial_background.jpg")?!1:!0},hasPoiInBackground:function(){return 0<a(".draggable_arrow_div[moved='true']").length},loadFlashcard:f,
redrawPois:function(){a(".draggable_arrow_div").show();var c=b.Editor.getPresentation();c&&(c.slides&&c.slides[0]&&c.slides[0].pois)&&a.each(c.slides[0].pois,function(b,c){a("#"+c.id).css("position","fixed");a("#"+c.id).offset({top:600*parseInt(c.y)/100+75,left:800*parseInt(c.x)/100+55});a("#"+c.id).attr("moved","true")});a(".draggable_arrow_div").draggable({revert:"invalid",stop:function(b){if(50<a(b.target).offset().top&&600>a(b.target).offset().top&&55<a(b.target).offset().left&&805>a(b.target).offset().left){a(b.target).attr("moved",
"true");var c=a(b.target).offset();a(b.target).css("position","fixed");a(b.target).css("top",c.top+30+"px");a(b.target).css("left",c.left-16+"px")}else a(b.target).attr("moved","false"),a(b.target).offset(),a(b.target).css("position","relative"),a(b.target).css("top","auto"),a(b.target).css("left","auto")}});a(".carrousel_element_single_row_slides").droppable();a(".image_carousel").css("overflow","visible");a("#menubar").css("z-index","1075");a(".draggable_arrow_div").css("z-index","1075")},removePois:function(){a(".draggable_arrow_div").hide()},
savePois:function(){var b=[];a(".draggable_arrow_div[moved='true']").each(function(d,f){b[d]={};b[d].id=VISH.Utils.getId(c+"_"+f.id,!0);b[d].x=100*(a(f).offset().left-55)/800;b[d].y=100*(a(f).offset().top-75)/600;b[d].slide_id=VISH.Utils.getId(c+"_"+a(f).attr("slide_id"),!0)});return b},switchToFlashcard:function(){f();b.Editor.Thumbnails.redrawThumbnails();VISH.Editor.Tools.init()},onBackgroundSelected:function(b){a("#flashcard-background").css("background-image","url("+b+")");a("#fc_change_bg_big").hide();
a.fancybox.close()},hasFlascards:function(){return 0<a("section.slides > .flashcard_slide[type='flashcard']").length}}}(VISH,jQuery);VISH.Editor.Flashcard.Repository=function(b,a){var c=[],d=function(d){VISH.Editor.Carrousel.cleanCarrousel("tab_flashcards_repo_content_carrousel");a("#tab_flashcards_repo_content_carrousel").hide();c=[];var e=[];!d.flashcards||0==d.flashcards.length?(a("#tab_flashcards_repo_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>"),a("#tab_flashcards_repo_content_carrousel").show()):(a.each(d.flashcards,function(d,f){var g=a("<img flashcardid ='"+f.id+"'' src="+b.Utils.getSrcFromCSS(f.slides[0].background)+
" >");e.push(g);c[f.id]=f}),VISH.Utils.loader.loadImagesOnCarrousel(e,f,"tab_flashcards_repo_content_carrousel"))},f=function(){a("#tab_flashcards_repo_content_carrousel").show();var b=[];b.rows=1;b.callback=g;b.rowItems=4;b.scrollItems=4;VISH.Editor.Carrousel.createCarrousel("tab_flashcards_repo_content_carrousel",b)},e=function(){VISH.Debugging.log("API error")},g=function(d){if(d=a(d.target).attr("flashcardid")){var d=c[d].slides[0],e={},f;d.id=b.Utils.getId("article");for(var g in d.slides)f=
d.slides[g].id,d.slides[g].id=b.Utils.getId(d.id+"_article"),e[f]=d.slides[g].id;for(var m in d.pois)d.pois[m].id=b.Utils.getId(d.id+"_poi"),d.pois[m].slide_id=e[d.pois[m].slide_id];VISH.Editor.Flashcard.addFlashcard(d);b.Renderer.renderSlide(d,"","<div class='delete_slide'></div>");b.Slides.setCurrentSlideNumber(b.Slides.getCurrentSlideNumber()+1);b.Editor.Utils.redrawSlides();VISH.Editor.Thumbnails.redrawThumbnails();b.Editor.Events.bindEventsForFlashcard(d);b.Slides.lastSlide();VISH.Editor.Tools.Menu.updateMenuAfterAddSlide(VISH.Constant.FLASHCARD);
a.fancybox.close()}};return{init:function(){var b=a("#tab_flashcards_repo_content").find("input[type='search']");a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(c){13==c.keyCode&&(c=a(b).val(),VISH.Editor.API.requestFlashcards(c,d,e),a(b).blur())})},onLoadTab:function(){""==a("#tab_flashcards_repo_content").find("input[type='search']").val()&&VISH.Editor.API.requestRecomendedFlashcards(d,e)}}}(VISH,jQuery);VISH.Samples=function(){return{samples:{id:"2",type:"presentation",title:"Chess: The Art of Learning2",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"http://static.betazeta.com/www.veoverde.com/wp-content/uploads/2011/07/fotos-gatos.jpg",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:["Art","Astronomy"],language:"en",educational_objectives:"bla bla bla 3",
adquired_competencies:"pupils will be smarter",slides:[{id:"article1",template:"t1",elements:[{id:"article1_zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},{id:"article1_zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},
{id:"article1_zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},{id:"article2",template:"t3",elements:[{id:"article2_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"article2_zone2",
type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"article3",template:"t6",elements:[{id:"article3_zone1",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"article3_zone2",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",hyperlink:"http://www.google.es",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"article3_zone3",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"article3_zone4",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]},
{id:"article4",type:"standard",template:"t2",elements:[{id:"article4_zone1",type:"object",areaid:"left",body:'<iframe src="http://www.youtube.com/embed/VAEp2gT-2a8?wmode=opaque" frameborder="0" id="resizableunicID_7" class="t2_object" wmode="opaque"></iframe>',style:"position: relative; width:99.9390243902439%; height:99.6774193548387%; top:2.225806451612903%; left:2.3536585365853657%;"}]}]},samplesv01:{id:"2",type:"presentation",title:"Chess: The Art of Learning2",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",
avatar:"http://static.betazeta.com/www.veoverde.com/wp-content/uploads/2011/07/fotos-gatos.jpg",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:["Art","Astronomy"],language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"article1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"article2",template:"t3",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"articlearticle4",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",hyperlink:"http://www.google.es",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]},
{id:"article_5",type:"standard",template:"t2",elements:[{id:"zone11",type:"object",areaid:"left",body:'<iframe src="http://www.youtube.com/embed/VAEp2gT-2a8?wmode=opaque" frameborder="0" id="resizableunicID_7" class="t2_object" wmode="opaque"></iframe>',style:"position: relative; width:99.9390243902439%; height:99.6774193548387%; top:2.225806451612903%; left:2.3536585365853657%;"}]}]},samples_fc:{id:"",title:"Chess: The Art of Learning",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",
avatar:"/vishEditor/images/excursion_thumbnails/excursion-10.png",author:"",type:"presentation",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"article1",template:"t3",elements:[{id:"article1_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"article1_zone2",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},
{id:"article31",template:"t3",elements:[{id:"article31_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"article31_zone2",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"article331",template:"t3",elements:[{id:"article331_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"article331_zone2",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},
{id:"article4331",template:"t3",elements:[{id:"article4331_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"article4331_zone2",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"article2",type:"flashcard",background:"url(http://html.rincondelvago.com/000563580.png)",pois:[{id:"article2_poi1",x:"11",y:"4.5",slide_id:"article2_article1"},{id:"article2_poi2",x:"47",y:"34",
slide_id:"article2_article2"},{id:"article2_poi3",x:"84",y:"81",slide_id:"article2_article3"}],slides:[{id:"article2_article1",template:"t1",elements:[{id:"article2_article1_zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},{id:"article2_article1_zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},
{id:"article2_article1_zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},{id:"article2_article2",template:"t2",elements:[{id:"article2_article2_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},
{id:"article2_article2_zone2",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"article2_article3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"article2_article3_zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"article2_article3_zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"article2_article3_zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]},
{id:"article3",type:"flashcard",background:"url(http://html.rincondelvago.com/000563580.png)",pois:[{id:"article3_poi1",x:"11",y:"4.5",slide_id:"article3_article1"},{id:"article3_poi2",x:"47",y:"34",slide_id:"article3_article2"},{id:"article3_poi3",x:"84",y:"81",slide_id:"article3_article3"}],slides:[{id:"article3_article1",template:"t1",elements:[{id:"article3_article1_zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"article3_article1_zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"article3_article1_zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"article3_article2",template:"t2",elements:[{id:"article3_article2_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"article3_article2_zone1",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"article3_article3",template:"t6",elements:[{id:"article3_article3_zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"article3_article3_zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"article3_article3_zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"article3_article3_zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]},
{id:"article4",template:"t5",elements:[{id:"article4_zone1",type:"text",areaid:"header",body:"Sensores"},{id:"article4_zone2",type:"text",areaid:"left",body:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas orci nisl, euismod a posuere ac, commodo quis ipsum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec sollicitudin risus laoreet velit dapibus bibendum. Nullam cursus sollicitudin hendrerit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nunc ullamcorper tempor bibendum. Morbi gravida pretium leo, vitae scelerisque quam mattis eu. Sed hendrerit molestie magna, sit amet porttitor nulla facilisis in. Donec vel massa mauris, sit amet condimentum lacus.</p>"},
{id:"article4_zone3",type:"image",areaid:"right",body:"http://www.satec.es/es-ES/NuestraActividad/CasosdeExito/PublishingImages/IMG%20Do%C3%B1ana/do%C3%B1ana_fig2.png"}]},{id:"article5",template:"t3",elements:[{id:"article5_zone1",type:"text",areaid:"header",body:"Puesta de sol..."},{id:"article5_zone2",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg"}]}]},samples_flashcard:{id:"",title:"Chess: The Art of Learning",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",
avatar:"/vishEditor/images/excursion_thumbnails/excursion-10.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"27",type:"flashcard",background:"url(http://html.rincondelvago.com/000563580.png)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",
slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},
{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",
body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]},
samples_full_tour:{id:"1987",title:"Toledo Virtual Tour",description:"Virtual Tour example with Vish Editor",author:"Aldo",avatar:"/assets/logos/original/excursion-10.png",tags:["Samples","Test","Development","Virtual Tour"],age_range:"4 - 14",subject:"Media Education",educational_objectives:"Amazing educational Virtual Tour",adquired_competencies:"Pupils will be smarter",type:"virtualTour",theme:"theme1",language:"en",slides:[{id:"article1",type:"standard",template:"t1",elements:[{id:"article1_zone5",
type:"image",areaid:"left",body:"http://hoteles4you.com/guias-viaje/wp-content/uploads/2011/04/Toledo.jpg",style:"position: relative; width:137.13080168776372%; height:81.05263157894737%; top:21.315791481419613%; left:0%;"},{id:"article1_zone6",type:"text",areaid:"header",body:'<div class="initTextDiv vish-parent-font7 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font7 vish-fonttrebuchet"><b><span class="vish-fontundefined vish-fontHelvetica" style="color:#4a72b1;undefined;">TOLEDO</span></b></span></div>'},
{id:"article1_zone7",type:"text",areaid:"subheader",body:'<div class="initTextDiv vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><i><span class="vish-fontundefined vish-fontHelvetica"><span class="vish-fontundefined vish-fonttrebuchet" style="color:#86858a;undefined;">smart city guide</span></span></i></div>'}]},{id:"article2",type:"standard",template:"t11",elements:[{id:"article2_zone8",type:"image",areaid:"center1",body:"http://www.habitsofmind.org/sites/default/files/helpful-tips-image-web-design-sydney.jpg",
style:"position: relative; width:24.785100286532952%; height:104.8780487804878%; top:2.642273321384337%; left:-1.7191977077363896%;"},{id:"article2_zone9",type:"text",areaid:"center2",body:'<div class="initTextDiv vish-parent-fontundefined" style="font-weight: normal;"><span class="vish-fontundefined vish-fonttrebuchet"><span style="color: rgb(62, 61, 61); line-height: 18px;"><b>Clothing/Shoes/Weather Gear:</b></span></span></div><div class="initTextDiv vish-parent-fontundefined"><span class="vish-fontundefined vish-fonttrebuchet"><span style="color: rgb(62, 61, 61); line-height: 18px;"><b><br></b></span></span></div><div class="initTextDiv vish-parent-fontundefined" style="font-weight: normal;"><span class="vish-fontundefined vish-fonttrebuchet" style="color:undefined;undefined;"><span style="color: rgb(62, 61, 61); line-height: 110%;">Forget about wearing high heels in Toledo - the small cobblestone streets are very charming but slightly uneven, and as the entire portion of the city within the walls is built up on hill, you\'ll spend the entire day either going down or climbing up some more or less steep hills. And as there is no denying that this city is best seen on foot, if you want to make the most of your time there, I\'d highly recommend bringing a pair of comfortable walking shoes.</span></span><br></div>'},
{id:"article2_zone10",type:"text",areaid:"center3",body:'<div class="initTextDiv vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fonttrebuchet"><span style="color: rgb(62, 61, 61); line-height: 18px;"><b>Miscellaneous:&nbsp;</b></span></span></div><div class="initTextDiv vish-parent-font4"><span class="vish-font4 vish-fonttrebuchet" style="color:undefined;undefined;"><span style="color: rgb(62, 61, 61); line-height: 18px;"><br></span></span></div><div class="initTextDiv vish-parent-fontundefined"><span class="vish-fontundefined vish-fonttrebuchet" style="color:undefined;undefined;"><span style="color: rgb(62, 61, 61); line-height: 18px;">Toledo must have been designed originally to confuse its enemies from successfully invading the City. There are a confusing series of streets with names of streets changing frequently.</span></span><br></div>'}]},
{id:"article3",type:"virtualTour",map_service:"Google Maps",center:{lat:"39.858684807927226",lng:"-4.024515151977539"},zoom:15,mapType:"roadmap",width:"100%",height:"100%",pois:[{id:"article3_poi1",lat:"39.858808",lng:"-4.020706",slide_id:"article3_article1"},{id:"article3_poi2",lat:"39.85710791823466",lng:"-4.02348518371582",slide_id:"article3_article2"},{id:"article3_poi3",lat:"39.86267518700749",lng:"-4.02498722076416",slide_id:"article3_article3"},{id:"article3_poi4",lat:"39.85586400561856",lng:"-4.029305577278137",
slide_id:"article3_article4"}],tours:[{id:"article3_tour1",path:["poi1","poi2","poi3"]}],slides:[{id:"article3_article1",type:"standard",template:"t7",elements:[{id:"article3_article1_zone1",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-9.433962264150944%; left:-1.2893982808022924%;"},{id:"article3_article1_zone2",type:"image",areaid:"left",body:"http://farm1.staticflickr.com/122/284114887_5e4eca03fd_z.jpg",
style:"position: relative; width:260.8695652173913%; height:96.98275862068965%; top:1.0775862068965518%; left:-53.91304347826087%;"},{id:"article3_article1_zone3",type:"text",areaid:"center",body:'<div class="initTextDiv" style="font-weight: normal;"><div class="initTextDiv vish-parent-font4 vish-parent-font5 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica"><b><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Alcazar:&nbsp;</span></span></b></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">This outstanding castle is one of Toledo\'s most emblematic monuments and was used as a fortress by Romans, Visigods, Arabs and Christians. King Alfonso VI built his residence here and some of Spain\'s most prestigious artists and architects intervened in the construction of the royal palace.&nbsp;</span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">It was destroyed in the 18th century during the War of Succession, reconstructed only to be badly damaged a few years later in a fire and rebuilt yet again.&nbsp;</span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">The last time the palace was destroyed was during the outbreak of the Spanish Civil War and it was repaired when the War ended.</span></span><br></div></div>'},
{id:"article3_article1_zone4",areaid:"subheader"}]},{id:"article3_article2",type:"standard",template:"t7",elements:[{id:"article3_article2_zone5",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-9.433962264150944%; left:-0.4297994269340974%;"},{id:"article3_article2_zone6",type:"text",areaid:"left",body:'<div class="vish-parent-font5 vish-parent-fontundefined" style="font-weight: normal;"><span style="line-height: 110%;"><b><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Cathedral of Toledo:</span></span></b></span></div><div class="vish-parent-font5 vish-parent-fontundefined" style="font-weight: normal;"><br></div><div style="font-weight: normal;" class="vish-parent-fontundefined vish-parent-font4"><span style="line-height: 110%;"><span class="vish-fontundefined vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Founded in the 1st Century by San Eugenio, the first Bishop of Toledo. It was changed into a mosque by the Arabs during Moorish occupation of Spain, and then converted back into a cathedral by Alfonso VI.&nbsp;</span></span></span></div><div style="font-weight: normal;" class="vish-parent-fontundefined vish-parent-font4"><span style="line-height: 110%;"><span class="vish-fontundefined vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">In the 13th Century it was destroyed and the impressive Gothic building which can be seen today was built on the old cathedral\'s foundations.</span></span></span><br></div>'},
{id:"article3_article2_zone3",type:"object",areaid:"center",body:'<iframe src="http://www.youtube.com/embed/TxbJY9SPC-A?wmode=opaque" frameborder="0" id="resizableunicID_1" class="t7_object" wmode="opaque"></iframe>',style:"position: relative; width:100%; height:85.45454545454545%; top:0%; left:0%;"},{id:"article3_article2_zone8",areaid:"subheader"}]},{id:"article3_article3",type:"standard",template:"t13",elements:[{id:"article3_article3_zone9",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",
style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-7.547169811320755%; left:-0.5730659025787965%;"},{id:"article3_article3_zone10",type:"image",areaid:"circle",body:"http://farm7.staticflickr.com/6151/6182498256_8b0585790e_o.jpg",style:"position: relative; width:152.53731343283582%; height:128.2608695652174%; top:-11.102486841426874%; left:-26.26865671641791%;"},{id:"article3_article3_zone11",type:"text",areaid:"left",body:'<div class="vish-parent-font4 vish-parent-font5 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><b><span class="vish-font4 vish-fontHelvetica"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Puerta Bisagra:&nbsp;</span></span></span></b></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><b><u><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></u></b></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">The main entrance to the old City of Toledo.&nbsp;</span></span></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">What appears to be one amazing stone gateway is infact two: the old gate which was built during the Moorish occupation of Toledo in the 6th and 7th centuries, and the new gate which extended the original and was built in the 16th century.&nbsp;</span></span></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">This is the best way to start a visit to Toledo since there is ample car parking space on both sides of the Puerta and a very good Tourist Info just opposite on the other side of the main road.</span></span><br></div>'},
{id:"article3_article3_zone12",areaid:"right"}]},{id:"article3_article4",type:"standard",template:"t5",elements:[{id:"article3_article4_zone13",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-5.660377358490566%; left:0%;"},{id:"article3_article4_zone14",type:"text",areaid:"left",body:'<div class="initTextDiv" style="font-weight: normal;"><div class="initTextDiv vish-parent-font6 vish-parent-fontundefined"><span class="vish-font6 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">The Museo del Greco</span></span></div><div class="initTextDiv vish-parent-font6 vish-parent-fontundefined"><span class="vish-font6 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined"><span class="vish-font4 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Currently the only one in Spain dedicated to the painter and its fundamental purpose is to convey and help gain an understanding of the figure of El Greco as well as the influence his work and personality had on early 17th century Toledo.</span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined"><span class="vish-font4 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined"><span class="vish-font4 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">It also includes an evocation of the museum\'s past through the figure of the marquis of Vega-Incl\u00e1n, the genuine promoter of the institution and indisputable leader of the recovery and promotion of El Greco\'s painting.</span></span></div></div>'},
{id:"article3_article4_zone15",type:"image",areaid:"right",body:"http://en.museodelgreco.mcu.es/web/img/logo-museo-greco.jpg",style:"position: relative; width:50.74626865671642%; height:42.731277533039645%; top:16.483111948693903%; left:23.582089552238806%;"}]}]},{id:"article__2",type:"standard",template:"t14",elements:[{id:"zone11",type:"image",areaid:"circle1",body:"http://media-cdn.tripadvisor.com/media/photo-s/02/8b/b9/15/getlstd-property-photo.jpg",style:"position: relative; width:164.59627329192546%; height:133.78378378378378%; top:-1.5540509610562712%; left:-39.75155279503105%;"},
{id:"zone12",type:"text",areaid:"right1",body:'<div class="initTextDiv" style="font-weight: normal;"><div id="headingWrapper" class="headerWrapPadding" style="margin: 0px; padding: 0px; position: relative; z-index: 2; font-family: Arial, Tahoma, \'Bitstream Vera Sans\', sans-serif; background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(44, 44, 44);"><h1 property="v:name" style="margin: 0px; padding: 0px; font-size: 2.5835em; line-height: 34px; color: rgb(0, 0, 0); display: inline; width: auto; word-wrap: break-word;" id="HEADING">Alqahira Rincon de Oriente</h1><div class="savesWrap" style="margin: 0px; padding: 0px;"><div id="default_3170073" class="savesContainer headerListing" style="margin: 0px; padding: 0px; position: absolute; right: -8px; top: 0px;"><div class="savesHover savesHover-3170073" style="margin: 0px 4px 0px 28px; padding: 0px; position: relative; float: right;"><div class="saveOptions" style="margin: 21px 0px 0px; padding: 10px; visibility: hidden; position: absolute; background-color: rgb(242, 246, 235); height: auto; border-style: solid; border-color: rgb(98, 157, 42); border-width: 1px 2px 2px 1px; width: 175px; z-index: 301; line-height: 16px;"><div class="contentDelete" style="margin: 0px; padding: 0px; color: rgb(0, 102, 153); outline: none medium; cursor: pointer;"></div><div class="allContent" style="margin: 0px; padding: 0px;"><a href="http://www.tripadvisor.es/Saves" style="color: rgb(0, 102, 153); text-decoration: initial; outline: none;"></a></div></div></div></div><div id="SAVES_ALERT" class="saveAlert" style="margin: 0px; padding: 0px 0px 0px 14px; visibility: hidden; float: right; background-color: rgb(242, 246, 235); height: 69px; border-style: solid; border-color: rgb(98, 157, 42); border-width: 1px 2px 2px 1px; width: 315px; position: absolute; z-index: 300;"><div id="SAVES_ALERT_CONTENT" style="margin: 0px; padding: 0px;"><span class="saveAlertClose sprite-greenX" style="background-image: url(http://c1.tacdn.com/sprites/global_pack-v2764cf6911e3185e8882a4b1c0921e8d.png); width: 11px; height: 11px; display: inline-block; float: right; margin: 3px; cursor: pointer; background-position: 0% -4758px;"></span><div class="allContent" style="margin: 0px 17px 0px 0px; padding: 0px; position: absolute; bottom: 8px;"><a href="http://www.tripadvisor.es/Saves" style="color: rgb(0, 102, 153); text-decoration: initial; outline: none;"></a></div><div class="contentAdded" style="margin: 10px 17px 0px 0px; padding: 0px; position: relative;"></div></div></div></div></div><div class="wrap infoBox" style="margin: 0px; padding: 0px; height: 40px; overflow: hidden; clear: left; color: rgb(44, 44, 44); font-family: Arial, Tahoma, \'Bitstream Vera Sans\', sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><address style="font-style: normal; display: inline; margin-right: 8px;"><span rel="v:address"><span class="format_address" dir="ltr"><span class="street-address" property="v:street-address">C/La Ciudad, N0 7 - Toledo</span>,&nbsp;<span class="locality"><span property="v:postal-code">45002</span>&nbsp;<span property="v:locality">Toledo</span></span>,&nbsp;<span class="country-name" property="v:country-name">Espa\u00f1a</span></span></span></address><div class="odcHotel blDetails" style="margin: 2px 0px 7px; padding: 0px; overflow: hidden; clear: both; float: none; height: 16px; line-height: 16px;"><div class="fl notLast" style="margin: 0px 15px 0px 0px; padding: 0px; float: left;"><div class="sprite-greenPhone fl icnLink" style="margin: 0px 5px 0px 0px; padding: 0px; background-image: url(http://c1.tacdn.com/sprites/global_pack-v2764cf6911e3185e8882a4b1c0921e8d.png); width: 9px; height: 15px; float: left; overflow: hidden; background-position: 0% -4474px;"></div><div class="fl" style="margin: 0px; padding: 0px; float: left;">925 673 260</div></div></div></div></div>'},
{id:"zone13",type:"image",areaid:"circle2",body:"http://media-cdn.tripadvisor.com/media/photo-s/02/86/d0/12/filename-img-6037-jpg.jpg",style:"position: relative; width:137.26708074534162%; height:100%; top:-0.33783783783783783%; left:-2.484472049689441%;"},{id:"zone14",type:"text",areaid:"right2",body:'<div class="initTextDiv" style="font-weight: normal;"><div id="headingWrapper" class="headerWrapPadding" style="margin: 0px; padding: 0px; position: relative; z-index: 2; color: rgb(44, 44, 44); font-family: Arial, Tahoma, \'Bitstream Vera Sans\', sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><h1 id="HEADING" property="v:name" style="margin: 0px; padding: 0px; font-size: 2.5835em; line-height: 34px; color: rgb(0, 0, 0); display: inline; width: auto; word-wrap: break-word;">El Embrujo</h1><div class="savesWrap" style="margin: 0px; padding: 0px;"><div id="default_2384802" class="savesContainer headerListing" style="margin: 0px; padding: 0px; position: absolute; right: -8px; top: 0px;"><div class="savesHover savesHover-2384802" style="margin: 0px 4px 0px 28px; padding: 0px; position: relative; float: right;"><div class="saveOptions" style="margin: 21px 0px 0px; padding: 10px; visibility: hidden; position: absolute; background-color: rgb(242, 246, 235); height: auto; border-style: solid; border-color: rgb(98, 157, 42); border-width: 1px 2px 2px 1px; width: 175px; z-index: 301; line-height: 16px;"><div class="contentDelete" style="margin: 0px; padding: 0px; color: rgb(0, 102, 153); outline: none medium; cursor: pointer;"></div><div class="allContent" style="margin: 0px; padding: 0px;"><a href="http://www.tripadvisor.es/Saves" style="color: rgb(0, 102, 153); text-decoration: initial; outline: none;"></a></div></div></div></div><div id="SAVES_ALERT" class="saveAlert" style="margin: 0px; padding: 0px 0px 0px 14px; visibility: hidden; float: right; background-color: rgb(242, 246, 235); height: 69px; border-style: solid; border-color: rgb(98, 157, 42); border-width: 1px 2px 2px 1px; width: 315px; position: absolute; z-index: 300;"><div id="SAVES_ALERT_CONTENT" style="margin: 0px; padding: 0px;"><span class="saveAlertClose sprite-greenX" style="background-image: url(http://c1.tacdn.com/sprites/global_pack-v2764cf6911e3185e8882a4b1c0921e8d.png); width: 11px; height: 11px; display: inline-block; float: right; margin: 3px; cursor: pointer; background-position: 0% -4758px;"></span><div class="allContent" style="margin: 0px 17px 0px 0px; padding: 0px; position: absolute; bottom: 8px;"><a href="http://www.tripadvisor.es/Saves" style="color: rgb(0, 102, 153); text-decoration: initial; outline: none;"></a></div><div class="contentAdded" style="margin: 10px 17px 0px 0px; padding: 0px; position: relative;"></div></div></div></div></div><div class="wrap infoBox" style="margin: 0px; padding: 0px; height: 40px; overflow: hidden; clear: left; color: rgb(44, 44, 44); font-family: Arial, Tahoma, \'Bitstream Vera Sans\', sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><address style="font-style: normal; display: inline; margin-right: 8px;"><span rel="v:address"><span class="format_address" dir="ltr"><span class="street-address" property="v:street-address">Santa Leocadia, 6</span>,&nbsp;<span class="locality"><span property="v:postal-code">45002&nbsp;</span><span property="v:locality">Toledo</span></span>,&nbsp;<span class="country-name" property="v:country-name">Espa\u00f1a</span></span></span></address><div class="odcHotel blDetails" style="margin: 2px 0px 7px; padding: 0px; overflow: hidden; clear: both; float: none; height: 16px; line-height: 16px;"><div class="fl notLast" style="margin: 0px 15px 0px 0px; padding: 0px; float: left;"><div class="sprite-greenPhone fl icnLink" style="margin: 0px 5px 0px 0px; padding: 0px; background-image: url(http://c1.tacdn.com/sprites/global_pack-v2764cf6911e3185e8882a4b1c0921e8d.png); width: 9px; height: 15px; float: left; overflow: hidden; background-position: 0% -4474px;"></div><div class="fl" style="margin: 0px; padding: 0px; float: left;">925 210 706</div></div></div></div></div>'},
{id:"zone15",type:"image",areaid:"circle3",body:"http://media-cdn.tripadvisor.com/media/photo-s/01/e8/73/e6/meson-de-la-orza.jpg",style:"position: relative; width:137.26708074534162%; height:110.8108108108108%; top:-7.0045058791701855%; left:-19.875776397515526%;"},{id:"zone16",type:"text",areaid:"right3",body:'<div class="initTextDiv" style="font-weight: normal;"><div id="headingWrapper" class="headerWrapPadding" style="margin: 0px; padding: 0px; position: relative; z-index: 2; color: rgb(44, 44, 44); font-family: Arial, Tahoma, \'Bitstream Vera Sans\', sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><h1 id="HEADING" property="v:name" style="margin: 0px; padding: 0px; font-size: 2.5835em; line-height: 34px; color: rgb(0, 0, 0); display: inline; width: auto; word-wrap: break-word;">Meson de la Orza</h1><div class="savesWrap" style="margin: 0px; padding: 0px;"><div id="default_1117085" class="savesContainer headerListing" style="margin: 0px; padding: 0px; position: absolute; right: -8px; top: 0px;"><div class="savesHover savesHover-1117085" style="margin: 0px 4px 0px 28px; padding: 0px; position: relative; float: right;"><div class="saveOptions" style="margin: 21px 0px 0px; padding: 10px; visibility: hidden; position: absolute; background-color: rgb(242, 246, 235); height: auto; border-style: solid; border-color: rgb(98, 157, 42); border-width: 1px 2px 2px 1px; width: 175px; z-index: 301; line-height: 16px;"><div class="contentDelete" style="margin: 0px; padding: 0px; color: rgb(0, 102, 153); outline: none medium; cursor: pointer;"></div><div class="allContent" style="margin: 0px; padding: 0px;"><a href="http://www.tripadvisor.es/Saves" style="color: rgb(0, 102, 153); text-decoration: initial; outline: none;"></a></div></div></div></div><div id="SAVES_ALERT" class="saveAlert" style="margin: 0px; padding: 0px 0px 0px 14px; visibility: hidden; float: right; background-color: rgb(242, 246, 235); height: 69px; border-style: solid; border-color: rgb(98, 157, 42); border-width: 1px 2px 2px 1px; width: 315px; position: absolute; z-index: 300;"><div id="SAVES_ALERT_CONTENT" style="margin: 0px; padding: 0px;"><span class="saveAlertClose sprite-greenX" style="background-image: url(http://c1.tacdn.com/sprites/global_pack-v2764cf6911e3185e8882a4b1c0921e8d.png); width: 11px; height: 11px; display: inline-block; float: right; margin: 3px; cursor: pointer; background-position: 0% -4758px;"></span><div class="allContent" style="margin: 0px 17px 0px 0px; padding: 0px; position: absolute; bottom: 8px;"><a href="http://www.tripadvisor.es/Saves" style="color: rgb(0, 102, 153); text-decoration: initial; outline: none;"></a></div><div class="contentAdded" style="margin: 10px 17px 0px 0px; padding: 0px; position: relative;"></div></div></div></div></div><div class="wrap infoBox" style="margin: 0px; padding: 0px; height: 40px; overflow: hidden; clear: left; color: rgb(44, 44, 44); font-family: Arial, Tahoma, \'Bitstream Vera Sans\', sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><address style="font-style: normal; display: inline; margin-right: 8px;"><span rel="v:address"><span class="format_address" dir="ltr"><span class="street-address" property="v:street-address">C/ Descalzos 5</span>,&nbsp;<span class="locality"><span property="v:postal-code">45002</span>&nbsp;<span property="v:locality">Toledo</span></span>,&nbsp;<span class="country-name" property="v:country-name">Espa\u00f1a</span></span></span></address><div class="odcHotel blDetails" style="margin: 2px 0px 7px; padding: 0px; overflow: hidden; clear: both; float: none; height: 16px; line-height: 16px;"><div class="fl notLast" style="margin: 0px 15px 0px 0px; padding: 0px; float: left;"><div class="sprite-greenPhone fl icnLink" style="margin: 0px 5px 0px 0px; padding: 0px; background-image: url(http://c1.tacdn.com/sprites/global_pack-v2764cf6911e3185e8882a4b1c0921e8d.png); width: 9px; height: 15px; float: left; overflow: hidden; background-position: 0% -4474px;"></div><div class="fl" style="margin: 0px; padding: 0px; float: left;">+34 925 223 011</div></div></div></div></div>'}]}]},
samples_game:{id:"",title:"Chess: The Art of Learning",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-10.png",author:"",type:"game",game:{src:"games/sokoban/sokoban.html",actions:{devil:{slide_id:"1",when:"after"},diamond:{slide_id:"2",when:"before"}}},slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",
body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},
{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},{id:"2",template:"t3",elements:[{id:"zone4",type:"text",areaid:"header",body:"Puesta de sol..."},{id:"zone5",type:"image",areaid:"left",
body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:44.31314623338257%; height:50.90909090909091%; top:0%; left:0%;"}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]},
samples_vtour:{id:"1987",title:"Toledo Virtual Tour",description:"Virtual Tour example with Vish Editor",author:"Aldo",avatar:"/assets/logos/original/excursion-10.png",tags:["Samples","Test","Development","Virtual Tour"],age_range:"4 - 14",subject:"Media Education",educational_objectives:"Amazing educational Virtual Tour",adquired_competencies:"Pupils will be smarter",type:"virtualTour",theme:"theme1",language:"en",slides:[{id:"article1",type:"virtualTour",map_service:"Google Maps",center:{lat:"41.23315032959268",
lng:"-366.3451357421875"},zoom:5,mapType:"roadmap",width:"100%",height:"100%",pois:[{id:"article1_poi1",lat:"40.245991504199026",lng:"-3.6474609375",slide_id:"article1_article1"},{id:"article1_poi2",lat:"41.27780646738183",lng:"2.1533203125",slide_id:"article1_article2"},{id:"article1_poi3",lat:"37.26530995561875",lng:"-5.9765625",slide_id:"article1_article3"},{id:"article1_poi4",lat:"43.26120612479979",lng:"-5.9765625",slide_id:"article1_article4"}],tours:[{id:"article1_tour1",path:["article1_poi1",
"article1_poi2","article1_poi3"]}],slides:[{id:"article1_article1",template:"t1",elements:[{id:"article1_article1_zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},{id:"article1_article1_zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},
{id:"article1_article1_zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},{id:"article1_article2",template:"t2",elements:[{id:"article1_article2_zone1",type:"text",areaid:"header",body:"Experimento virtual1"},
{id:"article1_article2_zone2",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"article1_article3",template:"t6",elements:[{id:"article1_article3_zone1",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"article1_article3_zone2",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",hyperlink:"http://www.google.es",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"article1_article3_zone3",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"article1_article3_zone4",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]},
{id:"article1_article4",type:"standard",template:"t2",elements:[{id:"article1_article4_zone1",type:"object",areaid:"left",body:'<iframe src="http://www.youtube.com/embed/VAEp2gT-2a8?wmode=opaque" frameborder="0" id="resizableunicID_7" class="t2_object" wmode="opaque"></iframe>',style:"position: relative; width:99.9390243902439%; height:99.6774193548387%; top:2.225806451612903%; left:2.3536585365853657%;"}]}]}]},samples_vtour_toledo:{id:"1987",title:"Toledo Virtual Tour",description:"Virtual Tour example with Vish Editor",
author:"Aldo",avatar:"/assets/logos/original/excursion-10.png",tags:["Samples","Test","Development","Virtual Tour"],age_range:"4 - 14",subject:"Media Education",educational_objectives:"Amazing educational Virtual Tour",adquired_competencies:"Pupils will be smarter",type:"virtualTour",theme:"theme1",language:"en",slides:[{id:"article1",type:"virtualTour",map_service:"Google Maps",center:{lat:"39.858684807927226",lng:"-4.024515151977539"},zoom:15,mapType:"roadmap",width:"100%",height:"100%",pois:[{id:"article1_poi1",
lat:"39.858808",lng:"-4.020706",slide_id:"article1_article1"},{id:"article1_poi2",lat:"39.85710791823466",lng:"-4.02348518371582",slide_id:"article1_article2"},{id:"article1_poi3",lat:"39.86267518700749",lng:"-4.02498722076416",slide_id:"article1_article3"},{id:"poi4",lat:"39.85586400561856",lng:"-4.029305577278137",slide_id:"article1_article4"}],tours:[{id:"article1_tour1",path:["article1_poi1","article1_poi2","article1_poi3"]}],slides:[{id:"article1_article1",type:"standard",template:"t7",elements:[{id:"article1_article1_zone1",
type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-9.433962264150944%; left:-1.2893982808022924%;"},{id:"article1_article1_zone2",type:"image",areaid:"left",body:"http://farm1.staticflickr.com/122/284114887_5e4eca03fd_z.jpg",style:"position: relative; width:260.8695652173913%; height:96.98275862068965%; top:1.0775862068965518%; left:-53.91304347826087%;"},{id:"article1_article1_zone3",
type:"text",areaid:"center",body:'<div class="initTextDiv" style="font-weight: normal;"><div class="initTextDiv vish-parent-font4 vish-parent-font5 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica"><b><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Alcazar:&nbsp;</span></span></b></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">This outstanding castle is one of Toledo\'s most emblematic monuments and was used as a fortress by Romans, Visigods, Arabs and Christians. King Alfonso VI built his residence here and some of Spain\'s most prestigious artists and architects intervened in the construction of the royal palace.&nbsp;</span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">It was destroyed in the 18th century during the War of Succession, reconstructed only to be badly damaged a few years later in a fire and rebuilt yet again.&nbsp;</span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">The last time the palace was destroyed was during the outbreak of the Spanish Civil War and it was repaired when the War ended.</span></span><br></div></div>'},
{id:"article1_article1_zone4",areaid:"subheader"}]},{id:"article1_article2",type:"standard",template:"t7",elements:[{id:"article1_article2_zone5",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-9.433962264150944%; left:-0.4297994269340974%;"},{id:"article1_article2_zone6",type:"text",areaid:"left",body:'<div class="vish-parent-font5 vish-parent-fontundefined" style="font-weight: normal;"><span style="line-height: 110%;"><b><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Cathedral of Toledo:</span></span></b></span></div><div class="vish-parent-font5 vish-parent-fontundefined" style="font-weight: normal;"><br></div><div style="font-weight: normal;" class="vish-parent-fontundefined vish-parent-font4"><span style="line-height: 110%;"><span class="vish-fontundefined vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Founded in the 1st Century by San Eugenio, the first Bishop of Toledo. It was changed into a mosque by the Arabs during Moorish occupation of Spain, and then converted back into a cathedral by Alfonso VI.&nbsp;</span></span></span></div><div style="font-weight: normal;" class="vish-parent-fontundefined vish-parent-font4"><span style="line-height: 110%;"><span class="vish-fontundefined vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">In the 13th Century it was destroyed and the impressive Gothic building which can be seen today was built on the old cathedral\'s foundations.</span></span></span><br></div>'},
{id:"article1_article2_zone3",type:"object",areaid:"center",body:'<iframe src="http://www.youtube.com/embed/TxbJY9SPC-A?wmode=opaque" frameborder="0" id="resizableunicID_1" class="t7_object" wmode="opaque"></iframe>',style:"position: relative; width:100%; height:85.45454545454545%; top:0%; left:0%;"},{id:"article1_article2_zone8",areaid:"subheader"}]},{id:"article1_article3",type:"standard",template:"t13",elements:[{id:"article1_article3_zone9",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",
style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-7.547169811320755%; left:-0.5730659025787965%;"},{id:"article1_article3_zone10",type:"image",areaid:"circle",body:"http://farm7.staticflickr.com/6151/6182498256_8b0585790e_o.jpg",style:"position: relative; width:152.53731343283582%; height:128.2608695652174%; top:-11.102486841426874%; left:-26.26865671641791%;"},{id:"article1_article3_zone11",type:"text",areaid:"left",body:'<div class="vish-parent-font4 vish-parent-font5 vish-parent-fontundefined" style="text-align: right; font-weight: normal;"><b><span class="vish-font4 vish-fontHelvetica"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Puerta Bisagra:&nbsp;</span></span></span></b></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><b><u><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></u></b></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">The main entrance to the old City of Toledo.&nbsp;</span></span></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">What appears to be one amazing stone gateway is infact two: the old gate which was built during the Moorish occupation of Toledo in the 6th and 7th centuries, and the new gate which extended the original and was built in the 16th century.&nbsp;</span></span></div><div class="vish-parent-font4 vish-parent-fontundefined" style="text-align: right;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">This is the best way to start a visit to Toledo since there is ample car parking space on both sides of the Puerta and a very good Tourist Info just opposite on the other side of the main road.</span></span><br></div>'},
{id:"article1_article3_zone12",areaid:"right"}]},{id:"article1_article4",type:"standard",template:"t5",elements:[{id:"article1_article4_zone13",type:"image",areaid:"header",body:"http://www.toledo-turismo.com/turismo/img/logo_toledo_turismo_es.gif",style:"position: relative; width:59.45558739255014%; height:115.09433962264151%; top:-5.660377358490566%; left:0%;"},{id:"article1_article4_zone14",type:"text",areaid:"left",body:'<div class="initTextDiv" style="font-weight: normal;"><div class="initTextDiv vish-parent-font6 vish-parent-fontundefined"><span class="vish-font6 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">The Museo del Greco</span></span></div><div class="initTextDiv vish-parent-font6 vish-parent-fontundefined"><span class="vish-font6 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined"><span class="vish-font4 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">Currently the only one in Spain dedicated to the painter and its fundamental purpose is to convey and help gain an understanding of the figure of El Greco as well as the influence his work and personality had on early 17th century Toledo.</span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined"><span class="vish-font4 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;"><br></span></span></div><div class="initTextDiv vish-parent-font4 vish-parent-fontundefined"><span class="vish-font4 vish-fontHelvetica"><span class="vish-fontundefined vish-fontarial" style="color:undefined;undefined;">It also includes an evocation of the museum\'s past through the figure of the marquis of Vega-Incl\u00e1n, the genuine promoter of the institution and indisputable leader of the recovery and promotion of El Greco\'s painting.</span></span></div></div>'},
{id:"article1_article4_zone15",type:"image",areaid:"right",body:"http://en.museodelgreco.mcu.es/web/img/logo-museo-greco.jpg",style:"position: relative; width:50.74626865671642%; height:42.731277533039645%; top:16.483111948693903%; left:23.582089552238806%;"}]}]}]},quizes_samples:{id:12314,type:"presentation",author:"V. Hugo",slides:[{id:"article12312",type:"standard",template:"t8",elements:[{id:"zone1",type:"text",areaid:"header",body:'<div class="initTextDiv vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font6 vish-fontHelvetica" style="color:undefined;undefined;"><u><i><b>Testing Quiz Inside Template</b></i></u></span></div>'},
{id:"zone2",type:"image",areaid:"left",body:"http://farm9.staticflickr.com/8309/8039451611_e4bb74e963_m.jpg",style:"position: relative; width:135.13513513513513%; height:97.0873786407767%; top:0%; left:0%;"},{id:"zone3",type:"quiz",quiz_id:12,areaid:"center",question:"What are <b> you  <u>talking</u> <i> <font size='7'> about </font> bla bla bla bla ... large textttttt </i></b> ?",quiztype:"multiplechoice",options:{choices:[{value:"Something",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... <b>Something</b></span></div>'},
{value:"Nothing",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... <b>Nothing</b></span></div>'},{value:"Everything",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... <b>Everything</b></span></div>'},{value:"Option D",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... <b>Option D</b></span></div>'}]}},
{id:"zone4",areaid:"right"}]},{id:"article_12314_1",type:"standard",template:"t7",elements:[{id:"zone5",type:"text",areaid:"header",body:'<div style="text-align: center; font-weight: normal; " class="vish-parent-font6"><i><b><span class="vish-font6 vish-fontgeorgia" style="color:undefined;undefined;">Titling ... one two three</span></b></i></div><div class="vish-parent-font4"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},{id:"zone6",type:"text",areaid:"left",
body:'<div class="initTextDiv vish-parent-font5" style="font-weight: normal; "><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div><div class="initTextDiv vish-parent-font5"><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;">The code that has</span><span class="vish-font5 vish-fontHelvetica" style="color:undefined;undefined;"><br></span></div>'},
{id:"zone7",type:"quiz",quiz_id:13,areaid:"center",question:'<i><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Second </span><span class="vish-font6 vish-fontHelvetica" style="color:undefined;undefined;">question</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"> quiz quiz<b> quiz</b> ... ?</span></i>',quiztype:"multiplechoice",options:{choices:[{value:"aaaaa... mucha a ",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><i><u>aaaaa</u></i></span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... mucha a</span></div>'},
{value:"bbb ... mucha b ",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><i><u>bbb ...</u></i></span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... mucha b</span></div>'},{value:"ccc ... mucha c",container:'<div class="vish-parent-font4" unselectable="on" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"><i><u>ccc ...</u></i></span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">... <b>mucha c</b></span></div>'}]}},
{id:"zone8",type:"image",areaid:"subheader",body:"http://farm3.staticflickr.com/2653/3950938406_8a2429bf14_m.jpg",style:"position: relative; width:68.18181818181819%; height:333.3333333333333%; top:-126.3157894736842%; left:14.242428866299717%;"}]}]},quizzes__samples2:{VEVersion:"0.2",id:12314,type:"presentation",author:"",slides:[{id:"article_12314_0",type:"standard",template:"t3",elements:[{id:"zone9",type:"text",areaid:"header",body:'<div class="vish-parent-font6 vish-parent-fontundefined" style="text-align: center; font-weight: normal;"><span class="vish-font6 vish-fontHelvetica" style="color:undefined;undefined;"><b><u>Multiple Choice Quiz Example</u></b></span><span class="vish-fontundefined vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},
{id:"zone10",type:"quiz",areaid:"left",question:'Has aprendido a <span class="vish-fontundefined vish-fontHelvetica" style="color: rgb(112, 167, 58); font-weight: normal;"><b>programar </b></span>en <b><span class="vish-font6 vish-fontHelvetica" style="color:#840e5a;undefined;">Ruby</span></b>?<div class="vish-parent-font4"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>',quiz_id:"12",quiztype:"multiplechoice",options:{choices:[{value:"S\u00ed",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">S\u00ed</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},
{value:"No",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">No</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},{value:"Un poco",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Un poco</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},
{value:"Nada",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Nada</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'}]},quiz_simple_json:{author:"",slides:[{id:"zone10",type:"quiz",areaid:"left",question:'Has aprendido a <span class="vish-fontundefined vish-fontHelvetica" style="color: rgb(112, 167, 58); font-weight: normal;"><b>programar </b></span>en <b><span class="vish-font6 vish-fontHelvetica" style="color:#840e5a;undefined;">Ruby</span></b>?<div class="vish-parent-font4"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>',
quiz_id:"",quiztype:"multiplechoice",options:{choices:[{value:"S\u00ed",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">S\u00ed</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},{value:"No",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">No</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},
{value:"Un poco",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Un poco</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'},{value:"Nada",container:'<div class="vish-parent-font4" style="font-weight: normal;"><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;">Nada</span><span class="vish-font4 vish-fontHelvetica" style="color:undefined;undefined;"></span></div>'}]}}],
type:"quiz_simple"}}]}]}}}(VISH);VISH.Samples.API=function(){return{flashcardList:{flashcards:[{id:"111",title:"Chess: The Art of Learning",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-10.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",
adquired_competencies:"pupils will be smarter",slides:[{id:"27",type:"flashcard",background:"url(http://html.rincondelvago.com/000563580.png)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]},
{id:"222",title:"Curiosity",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-12.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"28",
type:"flashcard",background:"url(http://images.freshnessmag.com/wp-content/uploads//2012/08/nasa-NASA-curiosity-mars-rover-00.jpg)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]},
{id:"333",title:"fly",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-10.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"27",type:"flashcard",
background:"url(http://1.bp.blogspot.com/_Y_4eV9-N0NY/SeToztTkalI/AAAAAAAAAe0/zpSf85grpW8/s400/small+fly.jpg)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]},
{id:"444",title:"dogs",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-12.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"28",type:"flashcard",
background:"url(http://images5.fanpop.com/image/photos/31900000/Doggie-3-all-small-dogs-31936880-500-348.jpg)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]},
{id:"555",title:"cats",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-10.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"27",type:"flashcard",
background:"url(http://25.media.tumblr.com/tumblr_m6utxcoA7y1qdortwo1_1280.jpg)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},{id:"zone2",type:"text",
areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]},
{id:"666",title:"nature",description:"The Art of Learning, a journey in the pursuit of excellence.\nAmazing presentation with images, videos and 3d objects, generated by Vish Editor.",avatar:"/vishEditor/images/excursion_thumbnails/excursion-12.png",author:"",type:"flashcard",tags:["Samples","Test","Development"],author:"",theme:"theme1",age_range:"4 - 14",subject:"Media Education",language:"en",educational_objectives:"bla bla bla 3",adquired_competencies:"pupils will be smarter",slides:[{id:"28",
type:"flashcard",background:"url(http://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Bachalpseeflowers.jpg/300px-Bachalpseeflowers.jpg)",pois:[{id:"poi1",x:"11",y:"4.5",slide_id:"1"},{id:"poi2",x:"47",y:"34",slide_id:"2"},{id:"poi3",x:"84",y:"81",slide_id:"3"}],slides:[{id:"1",template:"t1",elements:[{id:"zone1",type:"image",areaid:"left",body:"http://blogs.20minutos.es/cronicaverde/files/parque_nacional_donana_lince_iberico.jpg",style:"position: relative; width:97.82608695652173%; height:80.10752688172043%; top:0%; left:0%;"},
{id:"zone2",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6" style="text-align: center; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="font-family: helvetica;"><span style="font-weight: bold;">Chess</span>: The Art of Learning</span></span><br></span></div>'},{id:"zone3",type:"text",areaid:"subheader",body:'<div class="vish-parent-font3 vish-parent-font4" style="text-align: right; font-weight: normal; "><span class="vish-font3 vish-fontarial"><span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="font-style: italic; font-family: helvetica;">by Aldo Gordillo&nbsp; </span></span><br></span></div>'}]},
{id:"2",template:"t2",elements:[{id:"325",type:"text",areaid:"header",body:"Experimento virtual1"},{id:"7335",type:"object",areaid:"left",body:'<embed width="99%" height="99%" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash"></embed>'}]},{id:"3",template:"t6",elements:[{id:"zone6",type:"text",areaid:"header",body:'<div class="vish-parent-font3 vish-parent-font6 vish-parent-font4" style="font-weight: normal; "><span class="vish-font3 vish-fontHelvetica" style=""><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(219, 150, 0);">Iberian</span></span><span class="vish-font6 vish-fontHelvetica" style="undefined;"> </span><span class="vish-font6 vish-fontHelvetica" style="undefined;"><span style="color: rgb(32, 24, 21);">Lynx</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="vish-font4 vish-fontHelvetica" style="undefined;"><span style="color: rgb(113, 113, 117);">Reproduction</span></span><br></span></div>'},
{id:"zone7",type:"image",areaid:"left",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:380.95238095238096%; height:218.69565217391303%; top:-36.231884541718856%; left:-58.201090494791664%;"},{id:"zone8",type:"image",areaid:"center",body:"http://i13.photobucket.com/albums/a288/inkslinger0611/drawings/Iberian.jpg",style:"position: relative; width:357.14285714285717%; height:205.2173913043478%; top:-45.41062894074813%; left:-193.12174479166666%;"},
{id:"zone9",type:"text",areaid:"right",body:'<div class="vish-parent-font2" style="text-align: center; font-weight: normal; "><span class="vish-font2 vish-fontHelvetica" style="">During the mating season the female leaves her territory in search of a male. The typical gestation period is about two months; the cubs are born between March and September, with a peak of births in March and April. A litter consists of two or three (rarely one, four or five) kittens weighing between 200 and 250 grams (7.1 and 8.8 oz).The kittens become independent at seven to 10 months old, but remain with the mother until around 20 months old. Survival of the young depends heavily on the availability of prey species. In the wild, both males and females reach sexual maturity at one year old, though in practice they rarely breed until a territory becomes vacant; one female was known not to breed until five years old when its mother died.</span></div>'}]}]}]}]},
imageList:{pictures:[{id:54,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.dan-dare.org/dan%20simpsons/TheSimpsonsEveryoneEver800.jpg"},{id:55,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://3.bp.blogspot.com/--H0o8mc28bA/TxrsnMAFMDI/AAAAAAAAARs/eOCVIXKlm9I/s1600/sala-cine.jpg"},{id:56,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.deviantart.com/download/46036660/The_Simpsonzu_by_spacecoyote.jpg"},{id:57,title:"ClintEastwood.jpg",
description:null,author:"Demo",src:"http://www.granadablogs.com/pateandoelmundo/wp-content/uploads/2009/10/_061.jpg"},{id:58,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.revistaintime.com/wp-content/uploads/2012/03/el-padrino-2.jpg"},{id:59,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://cinealdesnudo.files.wordpress.com/2011/12/el-indomable-will-hunting.jpg"},{id:60,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://politicamenteconservador.blogia.com/upload/20060818041914-el-senor-de-los-anillos2.jpg"},
{id:61,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://despertando.me/wp-content/uploads/2012/04/el-se%C3%B1or-de-los-anillos.jpg"},{id:62,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://4.bp.blogspot.com/-Fh_v8PYbVg0/TyGdKEiYmKI/AAAAAAAAAPI/MKdfZ224aEQ/s1600/el_senor_de_los_anillos_la_batalla_por_la_tierra_media_2_the_rise_of_the_witchking-181035.jpg"},{id:63,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://1.bp.blogspot.com/_9PpLM82o3g0/S8uPONu3kaI/AAAAAAAAC9A/thHNALuFxdE/s1600/Gandalf-vs-El-Balrog-gandalf-7018563-1280-960.jpg"},
{id:64,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"NOVAACARGAR"},{id:65,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.deviantart.com/download/46036660/The_Simpsonzu_by_spacecoyote.jpg"},{id:66,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.deviantart.com/download/46036660/The_Simpsonzu_by_spacecoyote.jpg"},{id:67,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.deviantart.com/download/46036660/The_Simpsonzu_by_spacecoyote.jpg"},
{id:68,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.deviantart.com/download/46036660/The_Simpsonzu_by_spacecoyote.jpg"},{id:69,title:"ClintEastwoooood.jpg",description:"this is clint",author:"Demo",src:"http://upload.wikimedia.org/wikipedia/en/4/47/Simpsons_on_Tracey_Ullman.png"}]},imageListLittle:{pictures:[{id:54,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.dan-dare.org/dan%20simpsons/TheSimpsonsEveryoneEver800.jpg"},{id:55,title:"ClintEastwood.jpg",
description:null,author:"Demo",src:"http://3.bp.blogspot.com/--H0o8mc28bA/TxrsnMAFMDI/AAAAAAAAARs/eOCVIXKlm9I/s1600/sala-cine.jpg"},{id:56,title:"ClintEastwood.jpg",description:null,author:"Demo",src:"http://www.deviantart.com/download/46036660/The_Simpsonzu_by_spacecoyote.jpg"}]},imageListDummy:{pictures:[]},videoList:{videos:[{id:"1534",title:"HTML5 Demo",description:"HTML5 (HyperText Markup Language, version 5) es la quinta revision importante del lenguaje basico de la World Wide Web, HTML. HTML5 especifica dos variantes de sintaxis para HTML: un clasico HTML (text/html), la variante conocida como HTML5 y una variante XHTML conocida como sintaxis XHTML5 que debera ser servida como XML (XHTML) (application/xhtml+xml).1 2 Esta es la primera vez que HTML y XHTML se han desarrollado en paralelo.",
author:"Awesome Videos",poster:"http://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Sasso_lungo_da_passo_pordoi.jpg/250px-Sasso_lungo_da_passo_pordoi.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1535",title:"Paisaje bonito",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://d1p69vb2iuddhr.cloudfront.net/assets/www/demo/midnight_sun_800-e460322294501e1d5db9ab3859dd859a.jpg",
sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1536",title:"Otro paisaje bonito",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://1.bp.blogspot.com/-DFj9INluj80/TfiNl7q3DbI/AAAAAAAAAws/hVJu13VbKEY/s1600/paisaje.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},
{id:"1537",title:"Verde",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://www.forodefotos.com/attachments/naturaleza/12983d1281113830-fotos-de-paisaje-fotos-de-paisaje.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1538",title:"Noche",description:"Awesome HTML5 video example",author:"Aldo Gordillo",
poster:"http://ro18.blogspot.es/img/paisaje.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1539",title:"Puesta de sol",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://walpaper.es/images/wallpapers/Paisaje-fotografia-HDR-656343.jpeg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},
{id:"1540",title:"Cayuco",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://3.bp.blogspot.com/-a-WrZZf0WJo/TsEBPXjUQXI/AAAAAAAAFBg/kh0aS9Kemag/s1600/PAISAJE+JUANMA.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1541",title:"Aves",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://images.artelista.com/artelista/obras/fichas/8/3/3/8619208014133041.JPG",
sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1542",title:"Delfines",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://4.bp.blogspot.com/-CfZKEdXcXtg/TijG57sIFWI/AAAAAAAAARQ/O8FP1OQ0a0w/s1600/delfines-saltando.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},
{id:"1543",title:"Gato",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://www.10puntos.com/wp-content/uploads/2010/09/gato-lindo.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1544",title:"Otro gato",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://neko.koiora.net/files/2011/06/Gato17.jpg",
sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1545",title:"Gato ninja",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://www.sarda.es/fotos/gato_volador/gato_volador.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'}]},
videoListLittle:{videos:[{id:"1534",title:"HTML5 Demo",description:"HTML5 (HyperText Markup Language, version 5) es la quinta revision importante del lenguaje basico de la World Wide Web, HTML. HTML5 especifica dos variantes de sintaxis para HTML: un clasico HTML (text/html), la variante conocida como HTML5 y una variante XHTML conocida como sintaxis XHTML5 que debera ser servida como XML (XHTML) (application/xhtml+xml).1 2 Esta es la primera vez que HTML y XHTML se han desarrollado en paralelo.",
author:"Awesome Videos",poster:"http://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Sasso_lungo_da_passo_pordoi.jpg/250px-Sasso_lungo_da_passo_pordoi.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1535",title:"Paisaje bonito",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://d1p69vb2iuddhr.cloudfront.net/assets/www/demo/midnight_sun_800-e460322294501e1d5db9ab3859dd859a.jpg",
sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'},{id:"1536",title:"Otro paisaje bonito",description:"Awesome HTML5 video example",author:"Aldo Gordillo",poster:"http://1.bp.blogspot.com/-DFj9INluj80/TfiNl7q3DbI/AAAAAAAAAws/hVJu13VbKEY/s1600/paisaje.jpg",sources:'[{ "type": "video/webm", "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_720p.webm"},{ "type": "video/mp4",  "src": "http://media.jilion.com/videos/demo/midnight_sun_sv1_360p.mp4" }]'}]},
videoListDummy:{videos:[]},flashList:{flashes:[{id:"1534",title:"Profe",description:"Flash Object Test",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1535",title:"Youtube video about HTML5",description:"HTML5 (HyperText Markup Language, version 5) es la quinta revision importante del lenguaje basico de la World Wide Web, HTML.",author:"W3C",content:'<iframe width="560" height="315" src="http://www.youtube.com/embed/1hR7EtD6Bns?wmode=opaque" frameborder="0" allowfullscreen></iframe>'},
{id:"1536",title:"Global excursion",description:"Iframe example",author:"Vish",content:'<iframe width="100%" height="100%" src="http://www.globalexcursion-project.eu"></iframe>'},{id:"1537",title:"Image",description:"Image Embed",author:"Globedia",content:'<embed width="100%" src="http://globedia.com/imagenes/noticias/2011/2/10/encuentran-octava-maravilla-mundo-destruida-125-anos_2_585286.jpg"></embed>'},{id:"1538",title:"Profe Demo",description:"Flash Object Test 2",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},
{id:"1539",title:"Profe Demo",description:"Flash Object Test 2",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1540",title:"Profe Demo",description:"Flash Object Test 2",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1541",
title:"Profe Demo",description:"Flash Object Test 2",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1542",title:"Profe Demo",description:"Flash Object Test 2",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1543",title:"Youtube video",
description:"Flash Object Test 2",author:"FlashMan",content:'<iframe width="560" height="315" src="http://www.youtube.com/embed/1hR7EtD6Bns" frameborder="0" allowfullscreen></iframe>'}]},flashListLittle:{flashes:[{id:"1534",title:"Profe",description:"Flash Object Test",author:"FlashMan",content:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1535",title:"Youtube video about HTML5",description:"HTML5 (HyperText Markup Language, version 5) es la quinta revision importante del lenguaje basico de la World Wide Web, HTML.",
author:"W3C",content:'<iframe width="560" height="315" src="http://www.youtube.com/embed/1hR7EtD6Bns?wmode=opaque" frameborder="0" allowfullscreen></iframe>'},{id:"1536",title:"Global excursion",description:"Iframe example",author:"Vish",content:'<iframe width="100%" height="100%" src="http://www.globalexcursion-project.eu"></iframe>'}]},flashListDummy:{flashes:[]},liveList:[{id:"1534",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},
{id:"1535",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1536",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1537",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1538",title:"Do\u00f1ana Test",
description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1539",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1540",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1541",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",
author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1542",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1543",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1544",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},
{id:"1545",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1546",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1547",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1548",title:"Do\u00f1ana Test",
description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"}],liveListLittle:[{id:"1534",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1535",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"},{id:"1548",title:"Do\u00f1ana Test",description:"Parque Nacional de Do\u00f1ana (Spain) ",
author:"Demo",fulltext:"http://www.youtube.com/watch?v=5TVrUFxzOk8"}],liveListDummy:[],objectList:[{id:"1534",title:"Game Strauss",description:"Fichero PDF",author:"Conspirazzi",object:"http://www.conspirazzi.com/e-books/game-strauss.pdf"},{id:"1536",title:"Profe",description:"Flash Object Test",author:"FlashMan",object:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1537",title:"Youtube video about HTML5",
description:"HTML5 (HyperText Markup Language, version 5) es la quinta revision importante del lenguaje basico de la World Wide Web, HTML.",author:"W3C",object:'<iframe width="560" height="315" src="http://www.youtube.com/embed/1hR7EtD6Bns?wmode=opaque" frameborder="0" allowfullscreen></iframe>'},{id:"1538",title:"Global excursion",description:"Iframe example",author:"Vish",object:'<iframe width="100%" height="100%" src="http://www.globalexcursion-project.eu"></iframe>'},{id:"1539",title:"Image",
description:"Image Embed",author:"Globedia",object:'<embed width="100%" src="http://globedia.com/imagenes/noticias/2011/2/10/encuentran-octava-maravilla-mundo-destruida-125-anos_2_585286.jpg"></embed>'},{id:"1540",title:"Profe Demo",description:"Flash Object Test 2",author:"FlashMan",object:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'}],objectListLittle:[{id:"1534",title:"Game Strauss",description:"Fichero PDF",
author:"Conspirazzi",object:"http://www.conspirazzi.com/e-books/game-strauss.pdf"},{id:"1536",title:"Profe",description:"Flash Object Test",author:"FlashMan",object:'<embed width="100%" height="100%" id="player_api" src="contents/swf/virtualexperiment_1.swf" type="application/x-shockwave-flash" wmode="opaque"></embed>'},{id:"1537",title:"Youtube video about HTML5",description:"HTML5 (HyperText Markup Language, version 5) es la quinta revision importante del lenguaje basico de la World Wide Web, HTML.",
author:"W3C",object:'<iframe width="560" height="315" src="http://www.youtube.com/embed/1hR7EtD6Bns?wmode=opaque" frameborder="0" allowfullscreen></iframe>'}],objectListDummy:[],tagsList:{tags:"ActionScript AppleScript Asp BASIC C C++ Clojure COBOL ColdFusion Erlang Fortran Groovy Haskell Java JavaScript Lisp Perl PHP Python Ruby Scala Scheme".split(" ")},thumbnailsList:{pictures:[{title:"Thumbnail 1",description:"Sample excursion thumbnail 1",src:"/vishEditor/images/excursion_thumbnails/excursion-01.png"},
{title:"Thumbnail 2",description:"Sample excursion thumbnail 2",src:"/vishEditor/images/excursion_thumbnails/excursion-02.png"},{title:"Thumbnail 3",description:"Sample excursion thumbnail 3",src:"/vishEditor/images/excursion_thumbnails/excursion-03.png"},{title:"Thumbnail 4",description:"Sample excursion thumbnail 4",src:"/vishEditor/images/excursion_thumbnails/excursion-04.png"},{title:"Thumbnail 5",description:"Sample excursion thumbnail 5",src:"/vishEditor/images/excursion_thumbnails/excursion-05.png"},
{title:"Thumbnail 6",description:"Sample excursion thumbnail 6",src:"/vishEditor/images/excursion_thumbnails/excursion-06.png"},{title:"Thumbnail 7",description:"Sample excursion thumbnail 7",src:"/vishEditor/images/excursion_thumbnails/excursion-07.png"},{title:"Thumbnail 8",description:"Sample excursion thumbnail 8",src:"/vishEditor/images/excursion_thumbnails/excursion-08.png"},{title:"Thumbnail 9",description:"Sample excursion thumbnail 9",src:"/vishEditor/images/excursion_thumbnails/excursion-09.png"},
{title:"Thumbnail 10",description:"Sample excursion thumbnail 10",src:"/vishEditor/images/excursion_thumbnails/excursion-10.png"},{title:"Thumbnail 11",description:"Sample excursion thumbnail 11",src:"/vishEditor/images/excursion_thumbnails/excursion-11.png"},{title:"Thumbnail 12",description:"Sample excursion thumbnail 12",src:"/vishEditor/images/excursion_thumbnails/excursion-12.png"},{title:"Thumbnail 13",description:"Sample excursion thumbnail 13",src:"/vishEditor/images/excursion_thumbnails/excursion-13.png"},
{title:"Thumbnail 14",description:"Sample excursion thumbnail 14",src:"/vishEditor/images/excursion_thumbnails/excursion-14.png"},{title:"Thumbnail 15",description:"Sample excursion thumbnail 15",src:"/vishEditor/images/excursion_thumbnails/excursion-15.png"},{title:"Thumbnail 16",description:"Sample excursion thumbnail 16",src:"/vishEditor/images/excursion_thumbnails/excursion-16.png"},{title:"Thumbnail 17",description:"Sample excursion thumbnail 17",src:"/vishEditor/images/excursion_thumbnails/excursion-17.png"},
{title:"Thumbnail 18",description:"Sample excursion thumbnail 18",src:"/vishEditor/images/excursion_thumbnails/excursion-18.png"},{title:"Thumbnail 19",description:"Sample excursion thumbnail 19",src:"/vishEditor/images/excursion_thumbnails/excursion-19.png"},{title:"Thumbnail 20",description:"Sample excursion thumbnail 20",src:"/vishEditor/images/excursion_thumbnails/excursion-20.png"},{title:"Thumbnail 21",description:"Sample excursion thumbnail 21",src:"/vishEditor/images/excursion_thumbnails/excursion-21.png"},
{title:"Thumbnail 22",description:"Sample excursion thumbnail 22",src:"/vishEditor/images/excursion_thumbnails/excursion-22.png"},{title:"Thumbnail 23",description:"Sample excursion thumbnail 23",src:"/vishEditor/images/excursion_thumbnails/excursion-23.png"},{title:"Thumbnail 24",description:"Sample excursion thumbnail 24",src:"/vishEditor/images/excursion_thumbnails/excursion-24.png"},{title:"Thumbnail 25",description:"Sample excursion thumbnail 25",src:"/vishEditor/images/excursion_thumbnails/excursion-25.png"},
{title:"Thumbnail 26",description:"Sample excursion thumbnail 26",src:"/vishEditor/images/excursion_thumbnails/excursion-26.png"},{title:"Thumbnail 27",description:"Sample excursion thumbnail 27",src:"/vishEditor/images/excursion_thumbnails/excursion-27.png"},{title:"Thumbnail 28",description:"Sample excursion thumbnail 28",src:"/vishEditor/images/excursion_thumbnails/excursion-28.png"},{title:"Thumbnail 29",description:"Sample excursion thumbnail 29",src:"/vishEditor/images/excursion_thumbnails/excursion-29.png"},
{title:"Thumbnail 30",description:"Sample excursion thumbnail 30",src:"/vishEditor/images/excursion_thumbnails/excursion-30.png"}]}}}(VISH);VISH.Slides=function(b,a,c){var d,f,e=["far-past","past","current","next","far-next"],g=function(){d=document.querySelectorAll("section.slides > article");var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|Droid+Sans+Mono";document.body.appendChild(c);b.SlideManager.getPresentationType()===b.Constant.FLASHCARD&&(f=0);p(!0);a("body").addClass("loaded")},l=function(){return d[f]},h=
function(a){f=a-1},n=function(b){if(d){var c=0;a.each(d,function(d,e){a(e).attr("id")==a(b).attr("id")&&(c=d)});return c}return 0},o=function(a){a-=1;return 0>a||a>=d.length?null:d[a]},m=function(b,c){var d=o(b+1);if(d){c&&a(d).addClass(c);for(var f in e)c!=e[f]&&a(d).removeClass(e[f])}},p=function(a){t();(a=a?o(f-1+1):o(f+1+1))&&r(a.id);(a=o(f+1))&&q(a.id);location.replace("#"+(f+1))},t=function(){for(var a=0;a<d.length;a++)switch(a){case f-2:m(a,"far-past");break;case f-1:m(a,"past");break;case f:m(a,
"current");break;case f+1:m(a,"next");break;case f+2:m(a,"far-next");break;default:m(a)}},q=function(b){var b=a("#"+b)[0],c=b.getAttribute("onslideenter");c&&(new Function(c)).call(b);c=document.createEvent("Event");c.initEvent("slideenter",!0,!0);b.dispatchEvent(c)},r=function(b){var b=a("#"+b)[0],c=b.getAttribute("onslideleave");c&&(new Function(c)).call(b);c=document.createEvent("Event");c.initEvent("slideleave",!0,!0);b.dispatchEvent(c)},w=function(c,e){if(c!==f+1)if((e=!1!==e)&&VISH.Status.isPreventDefaultMode()&&
VISH.Messenger){var g={};g.slideNumber=c;VISH.Messenger.notifyEventByMessage(VISH.Constant.Event.onGoToSlide,g)}else if(!(c>d.length||0>=c)){if(c>f+1)for(;f+1<c;)f<d.length-1&&(f++,p(!0));else if(c<f+1)for(;f+1>c;)0<f&&(f--,p(!1));VISH.Editing?(a(".selectable").css("border-style","none"),VISH.Editor.Tools.cleanZoneTools(),b.Editor.Thumbnails.selectThumbnail(c)):b.SlideManager.updateSlideCounter();g={};g.slideNumber=c;VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onGoToSlide,g,e)}},D=function(){return d.length};
return{init:function(){var b=parseInt(location.hash.substr(1));f=b?b-1:VISH.Editing?-1:0;a(document).bind("OURDOMContentLoaded",g)},getCurrentSlide:l,getCurrentSlideNumber:function(){return f+1},setCurrentSlideNumber:h,isCurrentFirstSlide:function(){return 0===f},isCurrentLastSlide:function(){return f===d.length-1},isSlideSelected:function(){if(-1<f)return!0},getNumberOfSlide:n,getSlides:function(){return d},getSlideWithNumber:o,backwardOneSlide:function(){w(f)},closeFlashcardSlide:function(b,c){if((c=
!1!==c)&&VISH.Status.isPreventDefaultMode()&&VISH.Messenger){var d={};d.slideNumber=b;VISH.Messenger.notifyEventByMessage(VISH.Constant.Event.onFlashcardSlideClosed,d)}else a("#"+b).hide(),r(b),d={},d.slideNumber=b,VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onFlashcardSlideClosed,d,c)},closeAllSlides:function(){a(".slides > article").hide()},forwardOneSlide:function(){w(f+2)},goToSlide:w,lastSlide:function(){w(d.length)},isSlideFocused:function(){return a(".wysiwygInstance").is(":focus")||
a("#fancybox-content").is(":visible")||a("input").is(":focus")||VISH.Editor&&null!==VISH.Editor.getCurrentArea()?!1:!0},moveSlideTo:function(b,e,g){if(!("undefined"===typeof b||"undefined"===typeof e)){if(typeof b.length!==c&&(b=a(b)[0],"undefined"===typeof b)||typeof e.length!==c&&(e=a(e)[0],"undefined"===typeof e))return;if(!("ARTICLE"!=b.tagName||"ARTICLE"!=e.tagName||b==e)){var h=!1;l()===b&&(h=!0);a(b).remove();if("after"==g)a(e).after(b);else if("before"==g)a(e).before(b);else{VISH.Debugging.log("VISH.Slides: Error. Movement not defined... !");
return}VISH.Editor.Utils.refreshDraggables(b);d=document.querySelectorAll("section.slides > article");h&&(f=n(b));t()}}},copySlide:function(b){var c=l();c?a(c).after(b):a("section#slides_panel").append(b);VISH.Editor.Utils.refreshDraggables(b);d=document.querySelectorAll("section.slides > article");t();VISH.Editor.Thumbnails.redrawThumbnails();c?w(f+1+1):w(1)},addSlide:function(b){a(".slides").append(b)},removeSlide:function(b){b=o(b);if(null!==b){var c=b.type===VISH.Constant.STANDARD,d=!1;l()===
b&&(d=!0);a(b).remove();d&&(1===f+1&&1<D()?h(1):h(f+1-1));VISH.Editor.Utils.redrawSlides();VISH.Editor.Thumbnails.redrawThumbnails();c||VISH.Editor.Tools.Menu.init()}},showFlashcardSlide:function(b,c){if((c=!1!==c)&&VISH.Status.isPreventDefaultMode()&&VISH.Messenger){var d={};d.slideNumber=b;VISH.Messenger.notifyEventByMessage(VISH.Constant.Event.onFlashcardPointClicked,d)}else a("#"+b).show(),q(b),d={},d.slideNumber=b,VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onFlashcardPointClicked,d,
c)},getSlidesQuantity:D}}(VISH,jQuery);VISH.Events=function(b,a){var c=!1,d=[],f=function(a){-1==d.indexOf(a)&&d.push(a)},e=function(a){-1!=d.indexOf(a)&&d.splice(d.indexOf(a),1)},g=function(a){switch(a.keyCode){case 39:case 40:b.Slides.isSlideFocused()&&(b.Slides.forwardOneSlide(),a.preventDefault());break;case 37:case 38:b.Slides.isSlideFocused()&&(b.Slides.backwardOneSlide(),a.preventDefault())}},l=function(b){var c=b.touches?b.touches:b.originalEvent.touches?b.originalEvent.touches:null;if(1===c.length){touchDY=touchDX=0;touchStartX=
c[0].pageX;touchStartY=c[0].pageY;document.body.addEventListener("touchmove",h,!0);document.body.addEventListener("touchend",n,!0);var c=document.documentElement.clientWidth/window.innerWidth,e=-1==d.indexOf(b.target.id)&&-1==d.indexOf(a(b.target).attr("class"));1.2>c&&e&&b.preventDefault()}},h=function(a){var b=a.touches?a.touches:a.originalEvent.touches?a.originalEvent.touches:null;1<b.length?o():(touchDX=b[0].pageX-touchStartX,touchDY=b[0].pageY-touchStartY,1.2>document.documentElement.clientWidth/
window.innerWidth&&a.preventDefault())},n=function(){var a=Math.abs(touchDX),c=Math.abs(touchDY);200<a&&c<2*a/3&&(0<touchDX?b.Slides.backwardOneSlide():b.Slides.forwardOneSlide());o()},o=function(){document.body.removeEventListener("touchmove",h,!0);document.body.removeEventListener("touchend",n,!0)},m=function(a){b.Slides.showFlashcardSlide(a.data.slide_id,!0)},p=function(a){a=a.target.id.substring(5);b.Slides.closeFlashcardSlide(a,!0)},t=function(){if(!c){a(document).bind("keydown",g);a(document).on("click",
"#page-switcher-start",b.Slides.backwardOneSlide);a(document).on("click","#page-switcher-end",b.Slides.forwardOneSlide);a(document).on("click","#back_arrow",b.Slides.backwardOneSlide);f("back_arrow");a(document).on("click","#forward_arrow",b.Slides.forwardOneSlide);f("forward_arrow");f("closeButton");f("closeButtonImg");a(document).on("click","#closeButton",function(){window.top.location.href=b.SlideManager.getOptions().comeBackUrl});a(document).bind("touchstart",l);a(document).on("click",".close_subslide",
p);f("close_subslide");var d=b.SlideManager.getCurrentPresentation();for(index in d.slides){var e=d.slides[index];switch(e.type){case VISH.Constant.FLASHCARD:for(ind in e.pois){var h=e.pois[ind];a(document).on("click","#"+h.id,{slide_id:h.slide_id},m);f(h.id)}}}applicationCache&&(applicationCache.addEventListener("cached",function(){VISH.LocalStorage.addPresentation(d)},!1),applicationCache.addEventListener("updateready",function(){VISH.LocalStorage.addPresentation(d)},!1));b.Status.getDevice().desktop||
(window.addEventListener("load",function(){}),window.addEventListener("orientationchange",function(){}),a(window).on("orientationchange",function(){b.ViewerAdapter.setupSize()}))}c=!0};return{init:function(){b.Editing||t()},bindViewerEventListeners:t,unbindViewerEventListeners:function(){if(c){a(document).unbind("keydown",g);a(document).off("click","#page-switcher-start",b.Slides.backwardOneSlide);a(document).off("click","#page-switcher-end",b.Slides.forwardOneSlide);e("back_arrow");a(document).off("click",
"#back_arrow",b.Slides.backwardOneSlide);e("forward_arrow");a(document).off("click","#forward_arrow",b.Slides.forwardOneSlide);e("closeButton");e("closeButtonImg");a(document).off("click","#closeButton");a(document).unbind("touchstart",l);var d=b.SlideManager.getCurrentPresentation();for(index in d.slides)if("flashcard"===d.slides[index].type){for(ind in d.slides[index].pois){var f=d.slides[index].pois[ind];a(document).off("click","#"+f.id,{slide_id:f.slide_id},m)}a(document).off("click",".close_subslide",
p)}c=!1}}}}(VISH,jQuery);VISH.Flashcard=function(b,a){var c,d=function(b){b&&"undefined"!==typeof c[b]&&a(c[b].arrows).each(function(d,g){var l=(g.position+50)%1E3,h=a("#"+g.id);a(h).css("background-position",l+"px 0px");c[b].arrows[d].position=l})};return{init:function(){c||(c=[])},addArrow:function(b,d,g){a("#"+b).append("<div class='fc_poi' id='"+d.id+"' style='position:absolute;left:"+d.x+"%;top:"+d.y+"%'></div>");"undefined"===typeof c[b]&&(c[b]={},c[b].arrows=[]);var l={};l.id=d.id;g?l.position=0:(d=50*Math.floor(20*
Math.random()+1),l.position=d);c[b].arrows.push(l)},startAnimation:function(a){"undefined"!==typeof c&&"undefined"!==typeof c[a]&&(c[a].timer=setInterval(function(){d(a)},40))},stopAnimation:function(a){"undefined"!==typeof c&&("undefined"!==typeof c[a]&&"undefined"!==typeof c[a].timer)&&clearTimeout(c[a].timer)},animateArrows:d}}(VISH,jQuery);VISH.Quiz=function(b,a){var c,d=!1,f=[];f.a=0;f.b=1;f.c=2;f.d=3;f.e=4;f.f=5;var e,g=!1,l=!1,h=function(){a("a#addQuizSessionFancybox").trigger("click")},n=function(){if(b.User.isLogged()){var c=a(VISH.Slides.getCurrentSlide()).find(".quizId").val();a("a#addQuizSessionFancybox").trigger("click");b.Quiz.API.postStartQuizSession(c,m,p);a("#quiz_stats_bars_content_id").find(".quiz_question_container").contents()&&a("#quiz_stats_bars_content_id").find(".quiz_question_container").children().remove();a("#quiz_stats_bars_content_id").find(".quiz_options_container").contents()&&
a("#quiz_stats_bars_content_id").find(".quiz_options_container").children().remove();a("#quiz_stats_pie_content_id").find(".quiz_question_container").children()&&a("#quiz_stats_pie_content_id").find(".quiz_question_container").children().remove();c=a(VISH.Slides.getCurrentSlide()).find("div.mcquestion_body").clone().find(".value_multiplechoice_question_in_zone");c.addClass("question_in_stats");a("#quiz_stats_bars_content_id").find(".quiz_question_container").append(c.clone());a("#quiz_stats_pie_content_id").find(".quiz_question_container").append(c.clone());
c=a(VISH.Slides.getCurrentSlide()).find("div.mcquestion_body").clone().find(".mcquestion_form");c.find(".multiplechoice_option_in_viewer").addClass("option_in_stats");a("#quiz_stats_bars_content_id").find(".quiz_options_container").append(c);a("#quiz_stats_bars_content_id").find(".mch_inputs_wrapper").remove();a("#tab_quiz_stats_bars_content").addClass("resized_fancybox_for_stats");a("#tab_quiz_stats_pie_content").addClass("resized_fancybox_for_stats");a("#tab_quiz_session_content").addClass("resized_fancybox_for_stats")}else b.Debugging.log("User not logged")},
o=function(c){c=c?c:a("#tab_quiz_session_content").find("input.quiz_session_id").val();b.Quiz.API.getQuizSessionResults(c,O,G)},m=function(c){var e="http://"+window.location.host.toString()+"/quiz_sessions/"+c,f=b.Slides.getCurrentSlide(),g=a("#tab_quiz_session_content").find(".quiz_session_header");a(g).find(".url_share_link").attr("href",e);a(g).find(".url_share_link").text("");a(g).find(".url_share_link").append(e.toString());a(".hidden_for_qr_quiz > canvas").remove();a(".hidden_for_qr_quiz").qrcode({width:512,
height:512,text:e.toString()});e=a(".hidden_for_qr_quiz > canvas")[0].toDataURL();a("#tab_quiz_session_content").find(".qr_quiz_image").attr("src",e);a(f).find("input.quiz_session_start_button").hide();a(f).find("input.quiz_session_options_button").show();d=!0;a("#tab_quiz_session_content").find("input.quiz_session_id").attr("value",c);H();if(!1===l){l=!0;var c=b.Status.getIsInIframe()?parent.document:document,h=document.getElementById("qr_quiz_fullscreen");h.requestFullscreen?c.addEventListener("fullscreenchange",
function(){document.fullScreen?a(document.getElementById("qr_quiz_image_id")).addClass("full-screen"):a(document.getElementById("qr_quiz_image_id")).removeClass("full-screen");"none"===a(h).css("display")?a(h).show():a(h).hide()},!1):h.webkitRequestFullScreen?c.addEventListener("webkitfullscreenchange",function(){document.webkitIsFullScreen?a(document.getElementById("qr_quiz_image_id")).addClass("full-screen"):a(document.getElementById("qr_quiz_image_id")).removeClass("full-screen");"none"===a(h).css("display")?
a(h).show():a(h).hide()},!1):h.mozRequestFullScreen?c.addEventListener("mozfullscreenchange",function(){document.mozFullScreen?a(document.getElementById("qr_quiz_image_id")).addClass("full-screen"):a(document.getElementById("qr_quiz_image_id")).removeClass("full-screen");"none"===a(h).css("display")?a(h).show():a(h).hide()},!1):b.Debugging.log("Other Browser does not support FUll Screen Mode")}},p=function(a){b.Debugging.log("_OnQuizSessionReceivedError:  "+JSON.stringify(a))},t=function(){var b=
a("a[name=modal_fancybox]").attr("href"),c=a(document).height(),d=a(window).width();a("#mask_stop_quiz").css({width:d,height:c});a("#mask_stop_quiz").fadeTo("slow",0.6);a(b).css("top",c/2-a(b).height()/2);a(b).css("left",d/2-a(b).width()/2);a(b).show();a(b).children().show();c=new Date;c=c.getFullYear().toString()+(c.getMonth()+1).toString()+c.getDate().toString()+"_"+c.getHours().toString()+c.getMinutes().toString();a(b).find(".quiz_saved_session_name").val(c);a(b).fadeIn(2E3)},q=function(){var c=
VISH.Slides.getCurrentSlide();quizName=a("#stop_quiz_fancybox").find(".quiz_saved_session_name").val();a("#tab_quiz_session_content").find(".quiz_session_header");var f=a("#tab_quiz_session_content").find("input.quiz_session_id").attr("value");quizName||(quizName="Unknown");Q();a.fancybox.close();a(c).find("input.quiz_session_options_button").hide();a(c).find("input.quiz_session_start_button").show();b.Quiz.API.deleteQuizSession(f,r,w,quizName);g=!1;clearInterval(e);d=!1},r=function(){b.Debugging.log("_onQuizSessionCloseReceived");
a("#tab_quiz_session_content").find("input.quiz_session_id").attr("value")},w=function(a){b.Debugging.log("_onQuizSessionCloseReceivedError, and value received is:  "+JSON.stringify(a))},D=function(){var c=VISH.Slides.getCurrentSlide(),f=a("#tab_quiz_session_content").find("input.quiz_session_id").attr("value");Q();a.fancybox.close();quizName=!1;a(c).find("input.quiz_session_options_button").hide();a(c).find("input.quiz_session_start_button").show();b.Quiz.API.deleteQuizSession(f,r,w,quizName);clearInterval(e);
d=!1},x=function(){var c=a(VISH.Slides.getCurrentSlide()).find("input:radio[name='mc_radio']:checked'").val();if("undefined"!==typeof c){var d=VISH.SlideManager.getOptions().quiz_active_session_id;b.Quiz.API.putQuizSession(c,d,C,B);a(".quiz_session_start_button").hide()}},C=function(){var a=VISH.SlideManager.getOptions().quiz_active_session_id;b.Debugging.log("_onQuizVotingSuccessReceived, and quizSessionActiveId is:  "+a);b.Quiz.API.getQuizSessionResults(a,F,G)},F=function(){a(VISH.Slides.getCurrentSlide()).find(".li_mch_options_in_zone > input").remove();
a(".thanks_div").show();var b=a("a[name=modal_window]").attr("href"),c=a(document).height(),d=a(window).width();a("#thanks_div").css({width:d,height:c});a("#thanks_div").fadeTo("slow",0.6);a(b).css("top",c/2-a(b).height()/2);a(b).css("left",d/2-a(b).width()/2);a(b).show();a(VISH.Slides.getCurrentSlide()).find(".quiz_send_vote_button").hide()},B=function(a){b.Debugging.log("_OnQuizVotingReceivedError, and value received is:  "+JSON.stringify(a))},G=function(a){b.Debugging.log("_onQuizSessionResultsReceivedError, and value received is:  "+
JSON.stringify(a))},O=function(b){var c=0;for(option in b.results)if(option in f)var d=b.results[option],c=c+d;if(0<c)for(option in b.results)if(option in f){var e=f[option],d=b.results[option],g=100*(d/c),d=g.toString()+"%",g=Math.round(g*Math.pow(10,2))/Math.pow(10,2);"undefined"!=typeof a("#quiz_stats_bars_content_id").find(".mc_meter")[e]&&(a("#quiz_stats_bars_content_id").find(".mc_meter > span")[e].style.width=d,a(a("#quiz_stats_bars_content_id").find(".mcoption_label")[e]).text(g+"%"),a(a("#quiz_stats_bars_content_id").find(".mc_meter > span")[e]).addClass("mcoption_"+
option))}google.load("visualization","1.0",{packages:["corechart"]},{callback:VISH.Quiz.drawPieChart(b.results)})},Q=function(){a("#mask_stop_quiz").fadeTo("slow",0);a("#mask_stop_quiz").hide();a("#stop_quiz_fancybox").hide()},y=function(){a("#tab_quiz_session_content").find(".quiz_session_qrcode_container > .qr_quiz_image")&&(a("#tab_quiz_session_content").find(".qr_quiz_image").hide(),a("#tab_quiz_session_content").find(".qr_background").show(),a("#tab_quiz_session_content").find(".hide_qrcode").hide(),
a("#tab_quiz_session_content").find(".show_qrcode").show())},H=function(){a("#tab_quiz_session_content").find(".quiz_session_qrcode_container > .qr_background")&&(a("#tab_quiz_session_content").find(".qr_background").hide(),a("#tab_quiz_session_content").find(".qr_quiz_image").show(),a("#tab_quiz_session_content").find(".show_qrcode").hide(),a("#tab_quiz_session_content").find(".hide_qrcode").show())},j=function(){var a=b.Status.getIsInIframe()?parent.document:document,c=document.getElementById("qr_quiz_image_id");
a.fullScreenElement&&null!==a.fullScreenElement||!a.mozFullScreen&&!a.webkitIsFullScreen?a.documentElement.requestFullScreen?c.requestFullScreen():a.documentElement.mozRequestFullScreen?c.mozRequestFullScreen():a.documentElement.webkitRequestFullScreen&&c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.cancelFullScreen?a.cancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()};return{init:function(d){"quiz_simple"==d.type?(c="answer",
a(document).on("click",".quiz_send_vote_button",x)):(c="question",a(document).on("click",".quiz_session_start_button",n),a(document).on("click",".quiz_session_stop_button",t),a(document).on("click",".quiz_session_options_button",h),a(document).on("click","#mask_stop_quiz",Q),a(document).on("click",".quiz_stop_session_cancel",Q),a(document).on("click",".quiz_stop_session_save",q),a(document).on("click",".quiz_stop_session_dont_save",D),a(document).on("click",".quiz_full_screen",j),a(document).on("click",
".hide_qrcode",y),a(document).on("click",".show_qrcode",H));VISH.Quiz.Renderer.init();VISH.Quiz.API.init();a("a#addQuizSessionFancybox").fancybox({autoDimensions:!1,scrolling:"no",width:"90%",height:"90%",margin:"10%",padding:0,autoScale:!0,onStart:function(){VISH.Utils.loadTab("tab_quiz_session");b.Status.getDevice().features.fullscreen?a(".quiz_full_screen").show():a(".quiz_full_screen").hide()}})},prepareQuiz:function(){"answer"==c?(a(".quiz_session_start_button").hide(),a(".quiz_send_vote_button").show()):
"question"==c&&(VISH.User.isLogged()?a(".quiz_session_start_button").show():a(".quiz_session_start_button").hide())},getQuizMode:function(){return c},startMcQuizButtonClicked:n,drawPieChart:function(b){var c=new google.visualization.DataTable;c.addColumn("string","Question");c.addColumn("number","Slices");for(option in b)option in f&&c.addRow([option,b[option]]);a(VISH.Slides.getCurrentSlide()).find(".value_multiplechoice_question_in_zone").text();(new google.visualization.PieChart(document.getElementById("quiz_chart_container_id"))).draw(c,
{title:"",width:400,height:300})},getIsQuizSessionStarted:function(){return d},onStopMcQuizButtonClicked:t,activatePolling:function(c){if(!g&&c)g=c,b.Debugging.log("_updateBarsStats with no data params"),a("#quiz_stats_bars_content_id").find(".mc_meter").css("display","block"),a("#quiz_stats_bars_content_id").find(".mcoption_label").css("display","block"),a("#quiz_stats_bars_content_id").find(".mcoption_label").text("0%"),a("#quiz_stats_bars_content_id").find(".mc_meter > span").css("width","0%"),
o(),e=setInterval(o,3E3);else if(!g||!c)g=c,clearInterval(e)},qrToggleFullScreen:j}}(VISH,jQuery);VISH.Editor.Tools=function(b,a,c){var d=!1,f=function(){a(".menuselect_hide").hide();a(".delete_content").hide();o()},e=function(){a("#toolbar_presentation").find("img").hide();o()},g=function(){a("#toolbar_wrapper").hide()},l=function(){switch(VISH.Editor.getPresentationType()){case "presentation":a("#hidden_button_to_launch_theme_fancybox").fancybox({autoDimensions:!1,width:600,scrolling:"no",height:400,padding:0});a("#toolbar_presentation").find("img.toolbar_presentation").show();break;case "flashcard":a("#hidden_button_to_launch_picture_fancybox_for_flashcard").fancybox({autoDimensions:!1,
width:800,scrolling:"no",height:600,padding:0,onStart:function(){b.Editor.Image.setAddContentMode(VISH.Constant.FLASHCARD);b.Utils.loadTab("tab_pic_from_url")},onClosed:function(){b.Editor.Image.setAddContentMode(VISH.Constant.NONE)}});a("#toolbar_presentation").find("img.toolbar_flashcard").show();break;case "game":a("#toolbar_presentation").find("img.toolbar_game").show();break;case "quiz_simple":g();a("#menubarCarrousel").hide();break;default:g()}},h=function(b){o();"text"==b||"quiz"==b?(a("#toolbar_element").find("img").hide(),
a("#toolbar_text").show(),a(".nicEdit-panel").show()):(b="toolbar_"+b,a("#toolbar_element").find("img").hide(),a("#toolbar_element").find("img."+b).show())},n=function(a){a=VISH.Object.getObjectInfo(a);switch(a.type){case "web":h(a.type);break;default:h("object")}},o=function(){a(".nicEdit-panel").hide();a("#toolbar_text").hide();a("#toolbar_element").find("img").hide()},m=function(c){var d;d=VISH.Editor.getCurrentArea();var e=a(d).attr("type"),c="+"==c?1.2:1/1.2;switch(e){case "snapshot":d=d.children(":first");
var e=a(d).height()/a(d).width(),f=a(d).width();d.width(f*c);d.height(f*c*e);break;case "object":var g=d.children(":first");d=g.children(":first");VISH.Object.getObjectInfo(d);var e=g.width()/g.height(),h=d.height();d.width();var n=g.height(),h=g.width();a(g).width(h*c);a(g).height(n*c);g=b.Utils.getZoomFromStyle(a(d).attr("style"));1!=g?(f/=g,e=Math.round(f/e),f=Math.round(f)):(e=n*c,f=h*c);a(d).width(f);a(d).height(e);break;case "image":d=a(d).find("img");h=d.height();f=d.width();d.width(f*c);d.height(h*
c);break;case "video":d=a(d).find("video"),h=d.height(),f=d.width(),d.width(f*c),d.height(h*c)}},p=function(b){var c,d;d=VISH.Editor.getCurrentArea();switch(a(d).attr("type")){case "object":c=d.children(":first").children(":first"),c=VISH.Object.getObjectInfo(c),"web"===c.type&&(c=a(d).find("iframe"),d=VISH.Utils.getZoomFromStyle(a(c).attr("style")),d="+"==b?d+0.1:d-0.1,a(c).attr("style",VISH.Editor.Utils.addZoomToStyle(a(c).attr("style"),d)),VISH.Editor.Object.autofixWrapperedObjectAfterZoom(c,d))}},
t=function(a){switch(a.keyCode){case 13:q()}},q=function(){var b;a(".tools_input_addUrl").each(function(c,d){"tools_addUrl"!==a(a(d).parent().parent()).attr("id")&&(b=a(d).val())});if(b){b=VISH.Utils.autocompleteUrls(b);var c=VISH.Editor.getCurrentArea();switch(a(c).attr("type")){case "image":a(c).attr("hyperlink",b)}}a.fancybox.close()};return{init:function(){f();e();d||(a.each(a("img.toolbar_icon"),function(b,c){a(c).on("click",function(){if("function"==typeof VISH.Editor.Tools[a(c).attr("action")])VISH.Editor.Tools[a(c).attr("action")](this)})}),
a(document).on("keydown",".tools_input_addUrl",t),d=!0);l();VISH.Editor.Tools.Menu.init()},loadPresentationToolbar:l,loadToolsForZone:function(b){f();var d=a(b).clone().attr("type");switch(d){case "text":h(d);break;case "image":h(d);break;case "video":h(d);break;case "object":d=a(b).find(".object_wrapper").children()[0];n(d);break;case "snapshot":h("snapshot");break;case "quiz":h("quiz");break;case c:a(b).find(".menuselect_hide").show();return}a(b).find(".delete_content").show()},loadToolbarForObject:n,
loadToolbarForElement:h,cleanZoneTools:f,cleanToolbar:e,enableToolbar:function(){a("#toolbar_wrapper").show()},disableToolbar:g,selectTheme:function(){a("#hidden_button_to_launch_theme_fancybox").trigger("click")},changeFlashcardBackground:function(){a("#hidden_button_to_launch_picture_fancybox_for_flashcard").trigger("click")},addLink:function(){a.fancybox(a("#tools_addUrl").html(),{autoDimensions:!1,scrolling:"no",width:800,height:215,showCloseButton:!0,padding:0,onStart:function(){},onComplete:function(){var b=
VISH.Editor.getCurrentArea();(b=a(b).attr("hyperlink"))?(a(".tools_input_addUrl").val(b),a(".removeUrlButton").show()):a(".removeUrlButton").hide()},onClosed:function(){a(".removeUrlButton").hide()}})},addUrl:q,removeUrl:function(){var b=VISH.Editor.getCurrentArea();a(b).removeAttr("hyperlink");a.fancybox.close()},resizeMore:function(){m("+")},resizeLess:function(){m("-")},zoomMore:function(){p("+")},zoomLess:function(){p("-")}}}(VISH,jQuery);VISH.Addons=function(){return{init:function(b){if("object"===typeof b)for(var a=0;a<b.length;a++)(VISH.Editing&&b[a].target===VISH.Constant.Edit||!VISH.Editing&&b[a].target===VISH.Constant.Viewer||b[a].target===VISH.Constant.AnyMode)&&"undefined"!==typeof VISH.Addons[b[a].id]&&"function"===typeof VISH.Addons[b[a].id].init&&VISH.Addons[b[a].id].init(b[a].config)}}}(VISH,jQuery);VISH.VideoPlayer=function(){var b=function(b){return a(document.getElementById(b))},a=function(a){if(a){if("VIDEO"===a.tagName)return VISH.Constant.Video.HTML5;if("OBJECT"===a.tagName||"IFRAME"===a.tagName)return VISH.Constant.Video.Youtube}return VISH.Constant.UNKNOWN};return{init:function(){VISH.VideoPlayer.CustomPlayer.init();VISH.VideoPlayer.HTML5.init();VISH.VideoPlayer.Youtube.init()},getTypeVideoWithId:b,getTypeVideo:a,playVideo:function(a,d,f){switch(b(a)){case VISH.Constant.Video.HTML5:VISH.VideoPlayer.HTML5.playVideo(a,
d,f);break;case VISH.Constant.Video.Youtube:VISH.VideoPlayer.Youtube.playVideo(a,d,f)}},pauseVideo:function(a,d,f){switch(b(a)){case VISH.Constant.Video.HTML5:VISH.VideoPlayer.HTML5.pauseVideo(a,d,f);break;case VISH.Constant.Video.Youtube:VISH.VideoPlayer.Youtube.pauseVideo(a,d,f)}},seekVideo:function(a,d,f){switch(b(a)){case VISH.Constant.Video.HTML5:VISH.VideoPlayer.HTML5.seekVideo(a,d,f);break;case VISH.Constant.Video.Youtube:VISH.VideoPlayer.Youtube.seekVideo(a,d,f)}},getDuration:function(b){switch(a(b)){case VISH.Constant.Video.HTML5:return b.getDuration();
case VISH.Constant.Video.Youtube:return youtubePlayers[b.id].getDuration()}},getCurrentTime:function(b){switch(a(b)){case VISH.Constant.Video.HTML5:return b.getCurrentTime();case VISH.Constant.Video.Youtube:return youtubePlayers[b.id].getCurrentTime()}}}}(VISH,jQuery);VISH.Messenger=function(){var b=function(a,b){if(!1!==b.triggeredByUser){var d=VISH.Messenger.Helper.createMessage(a,b);VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onMessage,d,!0)}};return{init:function(){VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onGoToSlide,function(a){b(VISH.Constant.Event.onGoToSlide,a)});VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onPlayVideo,function(a){b(VISH.Constant.Event.onPlayVideo,a)});VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onPauseVideo,
function(a){b(VISH.Constant.Event.onPauseVideo,a)});VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onSeekVideo,function(a){b(VISH.Constant.Event.onSeekVideo,a)});VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onFlashcardPointClicked,function(a){b(VISH.Constant.Event.onFlashcardPointClicked,a)});VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onFlashcardSlideClosed,function(a){b(VISH.Constant.Event.onFlashcardSlideClosed,a)})},notifyEventByMessage:b}}(VISH);VISH.Editor.Quiz=function(b,a,c){var d="a) b) c) d) e) f)".split(" "),f=function(c){switch(c.target.classList[0]){case "multipleChoiceQuizContainer":b.Editor.setCurrentArea(a("#"+c.target.parentElement.id));break;case "add_quiz_option_button":b.Editor.setCurrentArea(a("#"+c.target.parentElement.parentElement.parentElement.parentElement.id));e("multiplechoice",b.Editor.getCurrentArea());break;case "multiplechoice_option_in_zone":b.Editor.setCurrentArea(a("#"+c.target.parentElement.parentElement.parentElement.parentElement.id));
break;case "li_mch_options_in_zone":b.Editor.setCurrentArea(a("#"+c.target.parentElement.parentElement.parentElement.id))}},e=function(c,e){var f;"string"==typeof c?f=c:"object"==typeof c?f=a(e).attr("quiztype"):b.Debugging("another type ");switch(f){case "multiplechoice":f=VISH.Editor.Quiz.Dummies.getQuizOptionDummy(f);var l=a(e).find(".li_mch_options_in_zone").size();a(e).find(".ul_mch_options_in_zone").append(f);g(e,a(e).find(".multiplechoice_option_in_zone:last"));a(e).find(".quiz_option_index:last").text(d[l]);
a(e).find(".delete_quiz_option_button:last").attr("id",e.attr("id")+"_delete_option_button_"+l+"_id");a(e).find(".add_quiz_option_button:last").attr("id",e.attr("id")+"_add_option_button_"+l+"_id");h(e,"multiplechoice",l);0<l&&(a(a(e).find(".add_quiz_option_button")[parseInt(l)-1]).hide(),a(a(e).find(".delete_quiz_option_button")[parseInt(l)-1]).show(),a("#wysiwyg_"+e.attr("id")+"_"+l).focus(),a(e).find(".initTextDiv :last").trigger("click"));6===l+1&&(a(a(e).find(".add_quiz_option_button")[parseInt(l)]).hide(),
a(a(e).find(".delete_quiz_option_button")[parseInt(l)]).show())}},g=function(b,c){a(c).keydown(function(d){13==d.keyCode&&(d.preventDefault(),d.stopPropagation(),a(c).attr("id")===a(b).find(".multiplechoice_option_in_zone:last").attr("id")&&6>a(b).find(".li_mch_options_in_zone").size()&&e("multiplechoice",b))})},l=function(c){if("delete_quiz_option_button"===c.target.attributes["class"].value){b.Editor.setCurrentArea(a("#"+c.target.parentElement.parentElement.parentElement.parentElement.id));var e=
b.Editor.getCurrentArea(),f=c.target.id.substring(27,28);a(e).find("#"+c.target.attributes.id.value).parent().remove();a(e).find(".li_mch_options_in_zone").each(function(b,c){a(c).find(".quiz_option_index").text(d[b]);a(c).find(".delete_quiz_option_button").attr("id",e.attr("id")+"_delete_option_button_"+b+"_id");a(c).find(".add_quiz_option_button").attr("id",e.attr("id")+"_add_option_button_"+b+"_id");a(c).find(".multiplechoice_option_in_zone").attr("id","wysiwyg_"+e.attr("id")+"_"+b);b>=f&&h(e,
"multiplechoice",f)});5===a(e).find(".li_mch_options_in_zone").size()&&(g(e,a(e).find(".multiplechoice_option_in_zone:last")),a(a(e).find(".delete_quiz_option_button")[4]).hide(),a(a(e).find(".add_quiz_option_button")[4]).show())}else b.Debugging.log("other event  handler")},h=function(d,e,f){if(f!=c){var g="wysiwyg_"+d.attr("id")+"_"+f;a(a(d).find("."+e+"_option_in_zone")[f]).attr("id",g);a(a(d).find(".li_mch_options_in_zone")[f]).find(".wysiwygInstance").val()===c&&(a("#"+g).addClass("wysiwygInstance"),
b.Editor.Text.getNicEditor().addInstance(g))}else e=a(d).find(".value_"+e+"_question_in_zone"),d="wysiwyg_"+d.attr("id"),e.attr("id",d),a("#"+d).addClass("wysiwygInstance"),VISH.Editor.Text.getNicEditor().addInstance(d);a(".initTextDiv").click(function(b){if("FONT"==b.target.tagName)var c=a(b.target),d=a(b.target).parent();else"DIV"==b.target.tagName?(d=a(b.target),c=a(b.target).find("font")):"SPAN"==b.target.tagName&&(d=a(b.target).parent(),c=a(b.target));"Write options here"===a(c).text()?(a(c).text(""),
a(d).removeClass("initTextDiv"),a(".multiplechoice_option_in_zone :last").trigger("click")):"Write question here"===a(c).text()&&(a(c).text(""),a(d).removeClass("initTextDiv"),a(d).parent().trigger("click"))})};return{init:function(){a(document).on("click",".multipleChoiceQuizContainer",f);a(document).on("click",".delete_quiz_option_button",l)},onLoadTab:function(){},drawQuiz:function(c,d,e,f,g){d=d?d:b.Editor.getCurrentArea();switch(c){case "multiplechoice":e&&(a(d).find(".value_multiplechoice_question_in_zone").children().remove(),
a(d).find(".value_multiplechoice_question_in_zone").append(e));if(f){c=a(d).find(".multiplechoice_option_in_zone");for(e=0;e<=f.length-1;e++)a(c[e]).children().remove(),a(c[e]).append(f[e].container)}g&&a(d).find('input[name="quiz_id"]').val(g);a(d).find(".multiplechoice_option_in_zone").attr("rows","1")}},addQuiz:function(c,d,f){d=d?d:VISH.Editor.getCurrentArea();f=f?f:0;switch(c){case "multiplechoice":c=VISH.Editor.Quiz.Dummies.getQuizDummy("multiplechoice",b.Slides.getSlides().length);d.find(".menuselect_hide").remove();
d.attr("type","quiz");d.attr("quiztype","multiplechoice");d.append(c);h(d,"multiplechoice");b.Editor.addDeleteButton(d);for(c=c=0;c<=f;c++)e("multiplechoice",d);VISH.Utils.loadTab("tab_quizes")}a.fancybox.close()},addOptionInQuiz:e}}(VISH,jQuery);VISH.Addons.IframeMessenger=function(){var b=!1,a=function(a){window.parent.postMessage(a,"*")},c=function(c){if(c){var c=c.data,f=VISH.Status.isPreventDefaultMode();VISH.Messenger.Helper.validateVEMessage(c,{allowSelfMessages:f})&&(JSON.parse(c).VEevent===VISH.Constant.Event.onIframeMessengerHello?b||(VISH.EventsNotifier.registerCallback(VISH.Constant.Event.onMessage,a),b=!0,VISH.Status.getIsInIframe()&&(c=JSON.parse(c),c.origin=VISH.Status.getIframe().id,c=JSON.stringify(c)),window.parent.postMessage(c,
"*")):VISH.Messenger.Helper.processVEMessage(c))}};return{init:function(a){a&&a.enable&&(window.addEventListener?window.addEventListener("message",c,!1):el.attachEvent&&window.attachEvent("message",c),VISH.Constant.Event.onIframeMessengerHello="onIframeMessengerHello")}}}(VISH,jQuery);VISH.AppletPlayer=function(){return{loadApplet:function(b){$.each(b.children(".appletelement"),function(a,b){var d="<applet code='"+$(b).attr("code")+"' width='"+$(b).attr("width")+"' height='"+$(b).attr("height")+"' archive='"+$(b).attr("archive")+"'>"+$(b).attr("params")+"</applet>";$(b).html(d)})},unloadApplet:function(){$(".appletelement applet").remove()}}}(VISH,jQuery);VISH.Configuration=function(b,a){var c;return{init:function(a){c=a;VISH.ImagesPath=c.ImagesPath;VISH.StylesheetsPath=c.StylesheetsPath;VISH.UploadImagePath=c.uploadImagePath;VISH.UploadObjectPath=c.uploadObjectPath;VISH.UploadPresentationPath=c.uploadPresentationPath},applyConfiguration:function(){c.presentationSettings&&(c.presentationTags||(a(".tagBoxUpload").css("display","none"),a(".tagBoxIntro").css("display","none")),c.presentationThumbnails||a("#thumbnails_in_excursion_details").css("display",
"none"));c.VishLives||a(".addLive").css("display","none");c.VishRepo||(a("#tab_pic_repo").css("display","none"),a("#tab_object_repo").css("display","none"),a("#tab_video_repo").css("display","none"));c.Upload||(a("#tab_pic_upload").css("display","none"),a("#tab_object_upload").css("display","none"));c.Youtube||a("#tab_video_youtube").css("display","none");c.Vimeo||a("#tab_video_vimeo").css("display","none");c.Flickr||a("#tab_pic_flikr").css("display","none")},getConfiguration:function(){return c}}}(VISH,
jQuery);VISH.Debugging=function(b,a){var c=!1,d,f,e=function(a){window.console&&window.console.log&&c&&console.log(a)};return{init:function(a){if(a)if("boolean"==typeof a.developping){if(c=a.developping)f=a,a.developmentSettings&&(d=a.developmentSettings)}else c=!1,d=null;else c=!1,d=null},log:e,shuffleJson:function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},enableDevelopingMode:function(){c=!0},disableDevelopingMode:function(){c=!1},isDevelopping:function(){return c},
getActionSave:function(){return d?d.actionSave:"view"},getActionInit:function(){return d?d.actionInit:"nothing"},getPresentationSamples:function(){if(d&&d.samples)return d.samples;e("VISH.Debugging Error: Please specify development settings");return null},initVishViewer:function(){var b=null;VISH.Editing?f?(b=VISH.Editor.getSavedPresentation(),null===b&&(b=VISH.Editor.savePresentation()),a("article").remove(),a("#menubar").hide(),a("#menubar_helpsection").hide(),a("#menubar_helpsection2").hide(),
a("#joyride_help_button").hide(),a("#preview_circle").hide(),VISH.Editor.Tools.cleanZoneTools(),VISH.Editor.Tools.disableToolbar(),a("#menubar-viewer").show(),VISH.SlideManager.init(f,b)):e("VISH.Debugging Error: Specify presentationOptions"):e("You are already in Vish Viewer")},initVishEditor:function(){var b=null;VISH.Editing?e("You are already in Vish Editor"):f?(b=VISH.Editor.getSavedPresentation(),a("article").remove(),a("#menubar").show(),a("#menubar_helpsection").show(),a("#menubar_helpsection2").show(),
a("#joyride_help_button").show(),a("#preview_circle").show(),VISH.Editor.Tools.enableToolbar(),a("#menubar-viewer").hide(),VISH.Editor.init(f,b)):e("VISH.Debugging Error: Specify presentationOptions")}}}(VISH,jQuery);VISH.Editor.API=function(b,a){var c=function(b,c,d,l){"live"==b||"object"==b?a.ajax({type:"GET",url:"/resources/search.json?"+b+"=1&q="+c,dataType:"html",success:function(a){"function"==typeof d&&(a=JSON.parse(a),d(a))},error:function(){"function"==typeof l&&l()}}):a.ajax({type:"GET",url:"/search.json?type="+b+"&q="+c,dataType:"html",success:function(a){"function"==typeof d&&(a=JSON.parse(a),d(a))},error:function(){"function"==typeof l&&l()}})},d;return{init:function(){},requestFlashcards:function(a,
b,d){VISH.Debugging.isDevelopping()?"function"==typeof b&&b(VISH.Samples.API.flashcardList):c("flashcard",a,b,d)},requestRecomendedFlashcards:function(a,b){VISH.Debugging.isDevelopping()?"function"==typeof a&&a(VISH.Samples.API.flashcardList):c("flashcard","",a,b)},requestVideos:function(a,b,d){if(VISH.Debugging.isDevelopping()){if("function"==typeof b){d=jQuery.extend({},VISH.Samples.API.videoList);switch(a){case "dummy":d.videos=VISH.Samples.API.videoListDummy.videos;break;case "little":d.videos=
VISH.Debugging.shuffleJson(VISH.Samples.API.videoListLittle.videos);break;default:d.videos=VISH.Debugging.shuffleJson(VISH.Samples.API.videoList.videos)}b(d)}}else c("video",a,b,d)},requestRecomendedVideos:function(a,b){if(VISH.Debugging.isDevelopping()){if("function"==typeof a){var d=VISH.Samples.API.videoList;d.videos=VISH.Debugging.shuffleJson(VISH.Samples.API.videoList.videos);a(d)}}else c("video","",a,b)},requestImages:function(a,b,d){if(VISH.Debugging.isDevelopping()){if("function"==typeof b){d=
jQuery.extend({},VISH.Samples.API.imageList);switch(a){case "dummy":d.pictures=VISH.Samples.API.imageListDummy.pictures;break;case "little":d.pictures=VISH.Debugging.shuffleJson(VISH.Samples.API.imageListLittle.pictures);break;default:d.pictures=VISH.Debugging.shuffleJson(VISH.Samples.API.imageList.pictures)}b(d)}}else c("picture",a,b,d)},requestRecomendedImages:function(a,b){if(VISH.Debugging.isDevelopping()){if("function"==typeof a){var d=VISH.Samples.API.imageList;d.pictures=VISH.Debugging.shuffleJson(VISH.Samples.API.imageList.pictures);
a(d)}}else c("picture","",a,b)},requestFlashes:function(a,b,d){if(VISH.Debugging.isDevelopping()){if("function"==typeof b){d=jQuery.extend({},VISH.Samples.API.flashList);switch(a){case "dummy":d.flashes=VISH.Samples.API.flashListDummy.flashes;break;case "little":d.flashes=VISH.Debugging.shuffleJson(VISH.Samples.API.flashListLittle.flashes);break;default:d.flashes=VISH.Debugging.shuffleJson(VISH.Samples.API.flashList.flashes)}b(d)}}else c("swfs",a,b,d)},requestRecomendedFlashes:function(a,b){if(VISH.Debugging.isDevelopping()){if("function"==
typeof a){var d=VISH.Samples.API.flashList;d.flashes=VISH.Debugging.shuffleJson(VISH.Samples.API.flashList.flashes);a(d)}}else c("swfs","",a,b)},requestObjects:function(a,b,d){if(VISH.Debugging.isDevelopping()){if("function"==typeof b){d=jQuery.extend({},VISH.Samples.API.objectList);switch(a){case "dummy":d=VISH.Samples.API.objectListDummy;break;case "little":d=VISH.Debugging.shuffleJson(VISH.Samples.API.objectListLittle);break;default:d=VISH.Debugging.shuffleJson(VISH.Samples.API.objectList)}b(d)}}else c("object",
a,b,d)},requestRecomendedObjects:function(a,b){if(VISH.Debugging.isDevelopping()){if("function"==typeof a){var d=VISH.Debugging.shuffleJson(VISH.Samples.API.objectList);a(d)}}else c("object","",a,b)},requestLives:function(a,b,d){if(VISH.Debugging.isDevelopping()){if("function"==typeof b){d=jQuery.extend({},VISH.Samples.API.liveList);switch(a){case "dummy":d=VISH.Samples.API.liveListDummy;break;case "little":d=VISH.Debugging.shuffleJson(VISH.Samples.API.liveListLittle);break;default:d=VISH.Debugging.shuffleJson(VISH.Samples.API.liveList)}b(d)}}else c("live",
a,b,d)},requestRecomendedLives:function(a,b){if(VISH.Debugging.isDevelopping()){if("function"==typeof a){var d=VISH.Debugging.shuffleJson(VISH.Samples.API.liveList);a(d)}}else c("live","",a,b)},requestTags:function(b,c){d&&"function"==typeof b?b(d):VISH.Debugging.isDevelopping()?"function"==typeof b&&(d=VISH.Samples.API.tagsList.tags,b(VISH.Samples.API.tagsList.tags)):a.ajax({type:"GET",url:"/tags.json?mode=popular&limit=100",dataType:"html",success:function(c){"function"==typeof b&&(c=JSON.parse(c),
d=[],0<c.length&&a.each(c,function(a,b){d.push(b.value)}),b(d))},error:function(){"function"==typeof c&&c()}})},requestThumbnails:function(b,c){VISH.Debugging.isDevelopping()?"function"==typeof b&&b(VISH.Samples.API.thumbnailsList):a.ajax({async:!1,type:"GET",url:"/excursion_thumbnails.json",dataType:"json",success:function(a){"function"==typeof b&&b(a)},error:function(a,b,d){"function"==typeof c&&c(a,b,d)}})}}}(VISH,jQuery);VISH.Editor.AvatarPicker=function(b,a){var c=null,d,f=function(b){b=a("<div class='carrousel_element_single_row_thumbnails'><img class='carrousel_element_single_row_thumbnails carrousel_last_added_element' src='"+b+"'/></div>")[0];VISH.Editor.Carrousel.insertElement("avatars_carrousel",b,1);b=a(".carrousel_last_added_element");a(b).click(function(a){e(a)});VISH.Editor.Carrousel.goToElement("avatars_carrousel",a(b)[0]);a(b).trigger("click");a(b).removeClass("carrousel_last_added_element")},e=function(b){if("IMG"===
a(b.target)[0].tagName){var c=a(b.target);a(c).hasClass("uploadThumbnail")?a("#hidden_button_to_uploadThumbnail").trigger("click"):(a(".carrousel_element_single_row_thumbnails").removeClass("selectedThumbnail"),a(c).addClass("selectedThumbnail"),a("#presentation_avatar").val(a(b.target).attr("src")))}},g=function(b){c=b;VISH.Editor.Carrousel.cleanCarrousel("avatars_carrousel");var d=[];d.push(a("<img class='uploadThumbnail' src='"+VISH.ImagesPath+"addThumbnail.png'/>")[0]);a.each(c.pictures,function(b,
c){var e=a("<img src="+c.src+" />");d.push(a(e)[0])});VISH.Utils.loader.loadImagesOnCarrouselOrder(d,h,"avatars_carrousel")},l=function(a,b,c){VISH.Debugging.log("_onThumbnailsError");VISH.Debugging.log("status returned by server:"+a.status);VISH.Debugging.log("Error in client: "+c);VISH.Debugging.log("ERROR!"+c)},h=function(){a("#thumbnails_in_presentation_details").show();var b=[];b.rows=1;b.callback=e;b.rowItems=5;b.styleClass="thumbnails";VISH.Editor.Carrousel.createCarrousel("avatars_carrousel",
b);a(".buttonintro").addClass("buttonintro_extramargin");a(".buttonpedagogical").addClass("buttonpedagogical_extramargin");if(d)if(n(d)){if(d){var c=d.split("/").pop(),b=a("#avatars_carrousel").find("img.carrousel_element_single_row_thumbnails");a.each(b,function(b,d){a(d).attr("src").split("/").pop()===c&&(a(d).addClass("selectedThumbnail"),VISH.Editor.Carrousel.goToElement("avatars_carrousel",a(d)))})}}else f(d);else b=Math.ceil(4*Math.random())+1,a("#avatars_carrousel .carrousel_element_single_row_thumbnails:nth-child("+
b+") img").addClass("selectedThumbnail"),a("#presentation_avatar").val(a("#avatars_carrousel .carrousel_element_single_row_thumbnails:nth-child("+b+") img").attr("src"))},n=function(a){return!a||null===a.split("/").pop().match("(^excursion-)")?!1:null!==a.match("(^"+VISH.ImagesPath+")")};return{init:function(){a("#hidden_button_to_uploadThumbnail").fancybox({autoDimensions:!1,width:800,scrolling:"no",height:600,padding:0,onStart:function(){b.Editor.Image.setAddContentMode(VISH.Constant.THUMBNAIL);
b.Utils.loadTab("tab_pic_from_url")},onClosed:function(){b.Editor.Image.setAddContentMode(VISH.Constant.NONE)}})},onLoadPresentationDetails:function(b){b&&(d=b);if(null===c)a("#thumbnails_in_presentation_details").hide(),VISH.Editor.API.requestThumbnails(g,l);else{var e=d;e&&(b=a("#avatars_carrousel").find("img.carrousel_element_single_row_thumbnails"),a.each(b,function(b,c){a(c).attr("src")===e&&(a(c).addClass("selectedThumbnail"),VISH.Editor.Carrousel.goToElement("avatars_carrousel",a(c)))}))}},
onCustomThumbnailSelected:function(a){VISH.Editor.Tools.Menu.displaySettings();f(a)},_isDefaultAvatar:n}}(VISH,jQuery);VISH.Editor.Carrousel=function(b,a){var c=function(b,c,d,l,h,n,o,m,p){m||(m=0);a("#"+b).carouFredSel({circular:!1,infinite:!1,auto:!1,width:o,scroll:{items:n,duration:1E3,pauseDuration:2E3},items:{visible:{min:h,max:h},start:m},prev:{button:"#carrousel_prev"+c,key:"left"},next:{button:"#carrousel_next"+c,key:"right"},pagination:"#carrousel_pag"+c,onCreate:p});l&&a(l).each(function(c,d){a("#"+b).trigger("configuration",["synchronise","#"+d])});a("#"+b).attr("rows",d)},d=function(b){var c=a("#"+b).parent().parent();
a(c).hasClass("image_carousel")&&(a(c).removeClass(),a(c).html(""),a(c).attr("id",b))};return{createCarrousel:function(b,d){if(b){var g=1,l=5,h=null,n="",o=null,m=750,p=!1,t=!0,q=!1,r=null;d&&(d.rows&&(g=d.rows),d.rowItems&&(l=d.rowItems),d.scrollItems&&(h=d.scrollItems),d.styleClass&&(n=d.styleClass),d.callback&&(o=d.callback),d.width&&(m=d.width),d.startAtLastElement&&(p=d.startAtLastElement),"boolean"==typeof d.pagination&&(t=d.pagination),"boolean"==typeof d.sortable&&(q=d.sortable),d.afterCreateCarruselFunction&&
(r=d.afterCreateCarruselFunction));var w=1<g,D="";n&&(D="_"+n);h||(h=l);var x=w?"multiple_row"+D:"single_row"+D,n=a("#"+b);n.attr("class","image_carousel image_carousel_"+x);n.removeAttr("id");var C=document.createElement("div");a(C).html(a(n).html());a(n).html("");C.setAttribute("id",b);D=document.createElement("div");D.setAttribute("class","clearfix");var F=document.createElement("a"),B=document.createElement("a");F.setAttribute("class","prev");B.setAttribute("class","next");a(F).addClass("prev_"+
x);a(B).addClass("next_"+x);F.setAttribute("href","#");B.setAttribute("href","#");F.setAttribute("id","carrousel_prev"+b);B.setAttribute("id","carrousel_next"+b);a(F).html("<span>prev</span>");a(B).html("<span>next</span>");a(n).append(D);a(n).append(F);a(n).append(B);t&&(D=document.createElement("div"),D.setAttribute("class","pagination pagination_"+x),D.setAttribute("id","carrousel_pag"+b),a(n).append(D));a(C).children().addClass("carrousel_element_"+x);a(C).children().each(function(b,c){a(c).children().addClass("carrousel_element_"+
x)});o&&"function"==typeof o&&a(C).children().click(function(a){o(a)});if(w){for(var G=g,g=l,l=[],r=0;r<G;r++)window[C.id+"_row"+r]=document.createElement("div"),window[C.id+"_row"+r].setAttribute("id",C.id+"_row"+r),window[C.id+"_row"+r].setAttribute("class","carrousel_wrapper_"+x),0!=r&&l.push(C.id+"_row"+r);a(C).children().each(function(b,c){a(window[C.id+"_row"+b%G]).append(c)});for(r=G-1;0<=r;r--)a(n).prepend(window[C.id+"_row"+r]),0==r?c(C.id+"_row"+r,b,G,l,g,h,m):(p=g,w=h,D=m,a("#"+(C.id+"_row"+
r)).carouFredSel({auto:!1,circular:!1,infinite:!1,width:D,scroll:{items:w,fx:"scroll",duration:1E3,pauseDuration:2E3},items:{visible:{min:p,max:p}}}));a(".caroufredsel_wrapper").css("margin-bottom","30px")}else a(n).prepend(C),n=p?a(C).children().length-l+1:0,c(b,b,g,[],l,h,m,n,r);t&&(t=a("#"+b).parent().parent(),a(t).hasClass("image_carousel")&&a(t).find(".pagination").attr("style",""));q&&a("#"+b).sortable();return"Done"}},cleanCarrousel:function(b){a("#"+b).html("");var c=b+"_row0";if(a("#"+c).attr("rows")){var g=
a("#"+c).attr("rows"),l;for(l=0;l<g;l++)d(b+"_row"+l);a("#"+c).attr("id",b)}else d(b)},goToElement:function(b,c){a(c).is("IMG")&&(c=a(c).parent());a("#"+b).trigger("slideTo",c)},advanceCarrousel:function(b,c){a("#"+b).trigger("next",c)},backCarrousel:function(b,c){a("#"+b).trigger("prev",c)},insertElement:function(b,c,d){a("#"+b).trigger("insertItem",[c,d])},mustMoveCarrousel:function(a){if(!VISH.Slides.isSlideFocused())return!1;var b=VISH.Editor.Thumbnails.getVisibleThumbnails();switch(a){case "next":b=
b[1];a=VISH.Slides.getCurrentSlideNumber()+1;if(a>b)return!0;break;case "prev":b=b[0];a=VISH.Slides.getCurrentSlideNumber()-1;if(a<b)return!0;break;default:return!1}}}}(VISH,jQuery);VISH.Editor.Clipboard=function(b,a){var c;return{init:function(){c=[null,null]},copy:function(b,f){b&&(c[0]=a(b).clone(),c[1]=f)},paste:function(){if(c[0])switch(c[1]){case VISH.Constant.Clipboard.Slide:var b=a(c[0]).clone(),f=/unicID_[0-9]+/g;a(b).attr("id",VISH.Utils.getId());a(b).find("[id]").each(function(b,c){var d=a(c).attr("id"),d=f.exec(d);null!=d&&(d=a(c).attr("id").replace(d,VISH.Utils.getId()),a(c).attr("id",d))});VISH.Slides.copySlide(b)}}}}(VISH,jQuery);VISH.Editor.Dummies=function(b){var a=[],c=function(b,c,g,l){b=a[parseInt(b,10)-1];return d(b,c,g,l).replace(/editable /g,"")},d=function(a,c,d,l){var h=0;d||(d=b.Utils.getId("article"));for(-1!=a.indexOf("article_id_to_change")&&(a=a.replace("article_id_to_change",d));-1!=a.indexOf("slidenumber_to_change");)a=a.replace("slidenumber_to_change",c);for(;-1!=a.indexOf("div_id_to_change");)l?(c=l[h],h++):c=b.Utils.getId(d+"_zone"),a=a.replace("div_id_to_change",c);return a};return{init:function(){a=["<article id='article_id_to_change' type='standard' template='t1' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+
b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='left' \t size='large' class='t1_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='header' size='small' class='t1_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='subheader' size='extra-small' class='t1_subheader editable grey_background selectable'></div></article>","<article id='article_id_to_change' type='standard' template='t2' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+
b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='left' \t size='large' class='t2_left editable grey_background selectable'></div></article>","<article id='article_id_to_change' type='standard' template='t3' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t3_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='large'  class='t3_left editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t4' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t4_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='large'  class='t4_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='right'  size='small'  class='t4_right editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t5' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t5_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='medium' class='t5_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='right'  size='medium' class='t5_right editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t6' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t6_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='medium' class='t6_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='center' size='medium' class='t6_center editable grey_background selectable'></div><div id='div_id_to_change' areaid='right' size='medium'    class='t6_right editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t7' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t7_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='medium' class='t7_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='center' size='large'  class='t7_center editable grey_background selectable'></div><div id='div_id_to_change' areaid='subheader' size='small' class='t7_subheader editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t8' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t8_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='small'  class='t8_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='center' size='large'  class='t8_center editable grey_background selectable'></div><div id='div_id_to_change' areaid='right' size='small'     class='t8_right editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t9' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t9_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='medium' class='t9_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='center' size='medium' class='t9_center editable grey_background selectable'></div><div id='div_id_to_change' areaid='right' size='medium'    class='t9_right editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t10' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='center'  size='large' class='t10_center editable grey_background selectable'></div></article>","<article id='article_id_to_change' type='standard' template='t11' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+
b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='center1' size='medium' class='t11_center1 editable grey_background selectable'></div><div id='div_id_to_change' areaid='center2' size='medium'  class='t11_center2 editable grey_background selectable'></div><div id='div_id_to_change' areaid='center3'  size='medium'  class='t11_center3 editable grey_background selectable'></div></article>","<article id='article_id_to_change' type='standard' template='t12' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+
b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='left1'   size='medium' class='t12_left1 editable grey_background selectable'></div><div id='div_id_to_change' areaid='right1' size='medium' class='t12_right1 editable grey_background selectable'></div><div id='div_id_to_change' areaid='left2' size='medium' class='t12_left2 editable grey_background selectable'></div><div id='div_id_to_change' areaid='right2' size='medium'  class='t12_right2 editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t13' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='header'  size='small' class='t13_header editable grey_background selectable'></div><div id='div_id_to_change' areaid='circle' size='medium' class='t13_circle editable grey_background selectable'></div><div id='div_id_to_change' areaid='left' size='medium' class='t13_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='right' size='medium'  class='t13_right editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t14' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='circle1' size='small' class='t14_circle1 editable grey_background selectable'></div><div id='div_id_to_change' areaid='right1' size='medium' class='t14_right1 editable grey_background selectable'></div><div id='div_id_to_change' areaid='circle2' size='small' class='t14_circle2 editable grey_background selectable'></div><div id='div_id_to_change' areaid='right2' size='medium' class='t14_right2 editable grey_background selectable'></div><div id='div_id_to_change' areaid='circle3' size='small' class='t14_circle3 editable grey_background selectable'></div><div id='div_id_to_change' areaid='right3' size='medium' class='t14_right3 editable grey_background selectable'></div></article>",
"<article id='article_id_to_change' type='standard' template='t15' slidenumber='slidenumber_to_change'><div class='delete_slide'></div><img class='help_in_template' id='help_template_image' src='"+b.ImagesPath+"helptutorial_circle_blank.png'/><div id='div_id_to_change' \tareaid='left' \t size='medium' class='t15_left editable grey_background selectable'></div><div id='div_id_to_change' areaid='center' size='medium' class='t15_center editable grey_background selectable'></div><div id='div_id_to_change' areaid='right' size='medium' class='t15_right editable grey_background selectable'></div><div id='div_id_to_change' areaid='center2' size='large' class='t15_center2 editable grey_background selectable'></div></article>"];
b.Editor.Quiz.Dummies.init()},getDummy:function(b,c){var g=a[parseInt(b,10)-1];return d(g,c)},getScaffold:c,getScaffoldForSlide:function(a,b,d){var l=[];for(el in d.elements)l.push(d.elements[el].id);return c(a,b,d.id,l)}}}(VISH);VISH.Editor.Events=function(b,a){var c=!1,d=!1,f=function(a){switch(a.keyCode){case 39:b.Slides.isSlideFocused()&&(b.Slides.forwardOneSlide(),a.preventDefault());break;case 37:b.Slides.isSlideFocused()&&(b.Slides.backwardOneSlide(),a.preventDefault());break;case 17:d=!0;break;case 67:b.Slides.isSlideFocused()&&d&&VISH.Slides.getCurrentSlideNumber()&&VISH.Editor.Clipboard.copy(VISH.Slides.getCurrentSlide(),VISH.Constant.Clipboard.Slide);break;case 86:b.Slides.isSlideFocused()&&d&&VISH.Editor.Clipboard.paste();
break;case 46:b.Slides.isSlideFocused()&&VISH.Slides.removeSlide(VISH.Slides.getCurrentSlideNumber())}},e=function(a){switch(a.keyCode){case 17:d=!1}},g=function(a){b.Slides.showFlashcardSlide(a.data.slide_id,!0)},l=function(a){a=a.target.id.substring(5);b.Slides.closeFlashcardSlide(a,!0)},h=function(){if(!c){var d=b.Editor.getPresentation();a(document).bind("keydown",f);a(document).bind("keyup",e);a(document).on("click",".close_subslide",l);if(VISH.Editing&&d)for(index in d.slides){var g=d.slides[index];
switch(g.type){case VISH.Constant.FLASHCARD:n(g)}}}c=!0},n=function(b){for(ind in b.pois){var c=b.pois[ind];a(document).on("click","#"+c.id,{slide_id:c.slide_id},g)}};return{init:function(){b.Editing&&h()},bindEditorEventListeners:h,bindEventsForFlashcard:n,unbindEditorEventListeners:function(){if(c){var d=b.Editor.getPresentation();"presentation"===d.type&&(a(document).unbind("keydown",f),a(document).unbind("keyup",e));for(index in d.slides)if("flashcard"===d.slides[index].type){for(ind in d.slides[index].pois){var h=
d.slides[index].pois[ind];a(document).off("click","#"+h.id,{slide_id:h.slide_id},g)}a(document).off("click",".close_subslide",l)}c=!1}}}}(VISH,jQuery);VISH.Editor.Filter=function(b,a){return{init:function(){switch(VISH.Status.getDevice().browser.name){case VISH.Constant.IE:a("#tab_object_snapshot").hide();break;case VISH.Constant.UNKNOWN:a("#tab_object_snapshot").hide()}}}}(VISH,jQuery);VISH.Editor.I18n=function(b,a,c){var d,f,e,g=function(a){return"undefined"!==typeof d&&d[a]?d[a]:"undefined"!==typeof f&&f[a]?f[a]:null!=/^i\./g.exec(a)?null:a};return{getTrans:g,init:function(b){switch(VISH.Configuration.getConfiguration().mode){case VISH.Constant.NOSERVER:"undefined"!==typeof i18n.vish["default"]&&(f=i18n.vish["default"]);break;case VISH.Constant.VISH:"undefined"!==typeof i18n.vish["default"]&&(f=i18n.vish["default"]);break;case VISH.Constant.STANDALONE:"undefined"!==typeof i18n.standalone["default"]&&
(f=i18n.standalone["default"])}if("undefined"!==typeof b){e=b;switch(VISH.Configuration.getConfiguration().mode){case VISH.Constant.NOSERVER:"undefined"!==typeof i18n.vish[e]&&(d=i18n.vish[e]);break;case VISH.Constant.VISH:"undefined"!==typeof i18n.vish[e]&&(d=i18n.vish[e],f=i18n.vish["default"]);break;case VISH.Constant.STANDALONE:"undefined"!==typeof i18n.standalone[e]&&(d=i18n.standalone[e],f=i18n.standalone["default"])}"undefined"!==typeof d&&(a("[i18n-key]").each(function(b,d){var e=g(a(d).attr("i18n-key"));
if(null!=e)switch(d.tagName){case "INPUT":""!==a(d).val()&&a(d).val(e);a(d).attr("placeholder")&&a(d).attr("placeholder",e);break;case "TEXTAREA":a(d).attr("placeholder",e);break;case "DIV":a(d).attr("title")!=c&&a(d).attr("title",e);a(d).attr("data-text")!=c&&a(d).attr("data-text",e);break;case "LI":a(d).attr("data-text")!=c?a(d).attr("data-text",e):a(d).text(e);break;default:a(d).text(e)}}),"undefined"!=typeof d&&"undefined"!==typeof e&&(a("#start_tutorial").css("background-position","0px -360px"),
a("#start_tutorial").hover(function(){a("#start_tutorial").css("background-position","0px -480px")},function(){a("#start_tutorial").css("background-position","0px -360px")}),a("#contentusetut").attr("src",VISH.ImagesPath+"contentuse_"+e+".png")))}}}}(VISH,jQuery);VISH.Editor.Image.Flikr=function(b,a){var c=function(){a("#tab_flikr_content_carrousel").show();var b=[];b.rows=2;b.callback=VISH.Editor.Image.Flikr.addImage;b.rowItems=4;b.scrollItems=4;VISH.Editor.Carrousel.createCarrousel("tab_flikr_content_carrousel",b)};return{init:function(){var b=a("#tab_pic_flikr_content").find("input[type='search']");a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(c){13==c.keyCode&&(VISH.Editor.Image.Flikr.listImages(a(b).val()),a(b).blur())})},
onLoadTab:function(){VISH.Editor.Carrousel.cleanCarrousel("tab_flikr_content_carrousel");a("#tab_flikr_content_carrousel").hide();a("#tab_pic_flikr_content").find("input[type='search']").attr("value","")},listImages:function(b){VISH.Editor.Carrousel.cleanCarrousel("tab_flikr_content_carrousel");a("#tab_flikr_content_carrousel").hide();var f=[];a.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?tags="+b+"&tagmode=any&format=json&jsoncallback=?",function(b){0<!b.items.length?(a("#tab_flikr_content_carrousel").show(),
a("#tab_flikr_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>")):(a.each(b.items,function(b,c){var d=a("<img id=img_flkr"+b+" src="+c.media.m.replace(/_m/i,"")+" imageFlikrId="+b+"/>");f.push(d)}),VISH.Utils.loader.loadImagesOnCarrousel(f,c,"tab_flikr_content_carrousel"))})},addImage:function(c){c=a(c.target).attr("src");b.Editor.Image.addContent(c)}}}(VISH,jQuery);VISH.Editor.Image.Repository=function(b,a){var c=function(b){VISH.Editor.Carrousel.cleanCarrousel("tab_pic_repo_content_carrousel");a("#tab_pic_repo_content_carrousel").hide();var c=[];!b.pictures||0==b.pictures.length?(a("#tab_pic_repo_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>"),a("#tab_pic_repo_content_carrousel").show()):(a.each(b.pictures,function(b,d){var e=a("<img src="+d.src+" >");c.push(e)}),VISH.Utils.loader.loadImagesOnCarrousel(c,d,"tab_pic_repo_content_carrousel"))},
d=function(){a("#tab_pic_repo_content_carrousel").show();var b=[];b.rows=2;b.callback=e;b.rowItems=4;b.scrollItems=4;VISH.Editor.Carrousel.createCarrousel("tab_pic_repo_content_carrousel",b)},f=function(){VISH.Debugging.log("API error")},e=function(c){c=a(c.target).attr("src");b.Editor.Image.addContent(c)};return{init:function(){var b=a("#tab_pic_repo_content").find("input[type='search']");a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(d){13==d.keyCode&&(d=a(b).val(),
VISH.Editor.API.requestImages(d,c,f),a(b).blur())})},onLoadTab:function(){""==a("#tab_pic_repo_content").find("input[type='search']").val()&&VISH.Editor.API.requestRecomendedImages(c,f)}}}(VISH,jQuery);VISH.Editor.MenuTablet=function(b,a){return{init:function(){a(".menu_option_main").click(function(){"none"==a("ul.menu_option_main").css("display")?a("ul.menu_option_main").show():a("ul.menu_option_main").hide()});a("a.menu_option").click(function(b){if(!a(this).hasClass("menu_action")&&"LI"===a(this).parent()[0].tagName&&1==a(this).parent().find("ul").length){var d=a(this).parent().find("ul")[0];b.preventDefault();b.stopPropagation();a(d).show()}})}}}(VISH,jQuery);VISH.Editor.Object.Flash=function(b,a){return{drawFlashObjectWithSource:function(b){var d=VISH.Editor.getCurrentArea(),f=VISH.Editor.getTemplate(),e=VISH.Utils.getId(),g="draggable"+e,e="resizable"+e;d.attr("type","object");var l=document.createElement("div");l.setAttribute("id",g);a(l).addClass("object_wrapper");a(l).addClass(f+"_object");var h=document.createElement("embed");h.setAttribute("id",e);h.setAttribute("class",f+"_object");h.setAttribute("src",b);h.setAttribute("wmode","opaque");a(l).append(h);
a(d).html("");a(d).append(l);VISH.Editor.addDeleteButton(a(d));a("#"+g).draggable({cursor:"move"})}}}(VISH,jQuery);VISH.Editor.Object.Live=function(b,a){var c=[],d=null,f=function(b){VISH.Editor.Carrousel.cleanCarrousel("tab_live_webcam_content_carrousel");a("#tab_live_webcam_content_carrousel").hide();h();c=[];var d=[],f=[];!b||0==b.length?(a("#tab_live_webcam_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>"),a("#tab_live_webcam_content_carrousel").show()):(a.each(b,function(b,e){var g=VISH.Object.getObjectInfo(e.fulltext),h=null;switch(g.type){case "swf":h=VISH.ImagesPath+"carrousel/swf.png";
break;case "youtube":h=VISH.ImagesPath+"carrousel/youtube.png";break;case "web":h="IFRAME"==g.wrapper?VISH.ImagesPath+"carrousel/iframe.png":VISH.ImagesPath+"carrousel/object.png";break;default:h=VISH.ImagesPath+"carrousel/object.png"}g=a("<img src='"+h+"' objectId='"+e.id+"'>");d.push(g);f.push(e.title);c[e.id]=e}),VISH.Utils.loader.loadImagesOnCarrousel(d,e,"tab_live_webcam_content_carrousel",f))},e=function(){a("#tab_live_webcam_content_carrousel").show();var b=[];b.rows=1;b.callback=l;b.rowItems=
5;b.styleClass="title";VISH.Editor.Carrousel.createCarrousel("tab_live_webcam_content_carrousel",b)},g=function(){VISH.Debugging.log("Error")},l=function(b){b=a(b.target).attr("objectid");if("undefined"!=typeof b){var e=VISH.Editor.Object.renderObjectPreview(c[b].fulltext),f=c[b],g=a("#tab_live_webcam_content_preview").find("#tab_live_webcam_content_preview_live"),h=a("#tab_live_webcam_content_preview").find("#tab_live_webcam_content_preview_metadata");a(g).html("");a(h).html("");e&&f&&(a(g).append(e),
e=VISH.Utils.generateTable(f.author,f.title,f.description),a(h).html(e),a("#tab_live_webcam_content_preview_foot").find(".okButton").show());d=c[b]}},h=function(){var b=a("#tab_live_webcam_content_preview").find("#tab_live_webcam_content_preview_live"),c=a("#tab_live_webcam_content_preview").find("#tab_live_webcam_content_preview_metadata");a(b).html("");a(c).html("");a("#tab_live_webcam_content_preview_foot").find(".okButton").hide()};return{init:function(){var b=a("#tab_live_webcam_content").find("input[type='search']");
a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(c){13==c.keyCode&&(c=a(b).val(),VISH.Editor.API.requestLives(c,f,g),a(b).blur())})},onLoadTab:function(b){"webcam"==b&&(""==a("#tab_live_webcam_content").find("input[type='search']").val()&&(h(),VISH.Editor.API.requestRecomendedLives(f,g)),a("#tab_live_webcam_content_preview_foot").find(".okButton").hide())},addSelectedObject:function(){null!=d&&(VISH.Editor.Object.drawObject(d.fulltext),a.fancybox.close())}}}(VISH,
jQuery);VISH.Editor.Object.PDF=function(){return{init:function(){},generatePreviewWrapperForPdf:function(b){return"<iframe class='objectPreview' src='http://docs.google.com/viewer?url="+b+"&embedded=true'></iframe>"},generateWrapperForPdf:function(b){return"<iframe src='http://docs.google.com/viewer?url="+b+"&embedded=true'></iframe>"}}}(VISH,jQuery);VISH.Editor.Object.Repository=function(b,a){var c=[],d=null,f=function(b){VISH.Editor.Carrousel.cleanCarrousel("tab_object_repo_content_carrousel");a("#tab_object_repo_content_carrousel").hide();h();c=[];var d=[],f=[];!b||0==b.length?(a("#tab_object_repo_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>"),a("#tab_object_repo_content_carrousel").show()):(a.each(b,function(b,e){var g=VISH.Object.getObjectInfo(e.object),h=null;switch(g.type){case "swf":h=VISH.ImagesPath+
"carrousel/swf.png";break;case "youtube":h=VISH.ImagesPath+"carrousel/youtube.png";break;case "web":h="IFRAME"==g.wrapper?VISH.ImagesPath+"carrousel/iframe.png":VISH.ImagesPath+"carrousel/object.png";break;default:h=VISH.ImagesPath+"carrousel/object.png"}g=a("<img src='"+h+"' objectId='"+e.id+"'>");d.push(g);f.push(e.title);c[e.id]=e}),VISH.Utils.loader.loadImagesOnCarrousel(d,e,"tab_object_repo_content_carrousel",f))},e=function(){a("#tab_object_repo_content_carrousel").show();var b=[];b.rows=1;
b.callback=l;b.rowItems=5;b.styleClass="title";VISH.Editor.Carrousel.createCarrousel("tab_object_repo_content_carrousel",b)},g=function(){VISH.Debugging.log("Error")},l=function(b){b=a(b.target).attr("objectid");if("undefined"!=typeof b){var e=VISH.Editor.Object.renderObjectPreview(c[b].object),f=c[b],g=a("#tab_object_repo_content_preview").find("#tab_object_repo_content_preview_object"),h=a("#tab_object_repo_content_preview").find("#tab_object_repo_content_preview_metadata");a(g).html("");a(h).html("");
e&&f&&(a(g).append(e),e=VISH.Utils.generateTable(f.author,f.title,f.description),a(h).html(e),a("#tab_object_repo_content_preview_foot").find(".okButton").show());d=c[b]}},h=function(){var b=a("#tab_object_repo_content_preview").find("#tab_object_repo_content_preview_object"),c=a("#tab_object_repo_content_preview").find("#tab_object_repo_content_preview_metadata");a(b).html("");a(c).html("");a("#tab_object_repo_content_preview_foot").find(".okButton").hide()};return{init:function(){var b=a("#tab_object_repo_content").find("input[type='search']");
a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(c){13==c.keyCode&&(c=a(b).val(),VISH.Editor.API.requestObjects(c,f,g),a(b).blur())})},onLoadTab:function(){""==a("#tab_object_repo_content").find("input[type='search']").val()&&(h(),VISH.Editor.API.requestRecomendedObjects(f,g));a("#tab_object_repo_content_preview_foot").find(".okButton").hide()},addSelectedObject:function(){null!=d&&(VISH.Editor.Object.drawObject(d.object),a.fancybox.close())}}}(VISH,jQuery);VISH.Editor.Object.Snapshot=function(b,a){var c=null,d=function(a){return null!=a.match(/(http(s)?:\/\/)([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g)?!0:!1},f=function(c,d,f,h,n){d=d?d:VISH.Editor.getCurrentArea();b.Editor.getTemplate(d);var o=b.Utils.getId(),m="draggable"+o,o="resizable"+o;d.attr("type","snapshot");var p=document.createElement("div");p.setAttribute("id",m);f&&p.setAttribute("style",f);a(p).addClass("snapshot_wrapper");c=a(c);a(c).attr("id",o);a(c).attr("class","snapshot_content");
a(c).attr("scrolling","no");a(c).attr("wmode","opaque");a(c).css("pointer-events","none");a(d).html("");a(d).append(p);VISH.Editor.addDeleteButton(a(d));a(p).append(c);h&&a("#"+m).scrollTop(h);n&&a("#"+m).scrollLeft(n);a("#"+m).bind("mousedown",function(a){a.preventDefault()});a("#"+m).draggable({cursor:"move",disabled:!1,start:function(b){var c=a("#"+m).width(),d=a("#"+m).height(),e=a("#"+m).offset();if(!(6>b.pageX-e.left||6>b.pageY-e.top||-10>e.left+c-b.pageX||-10>e.top+d-b.pageY))return!1}});VISH.Editor.Tools.loadToolsForZone(d)};
return{init:function(){var b=a("tab_object_snapshot_content").find("input");a(b).watermark("Paste website URL");a("#tab_object_snapshot_content .previewButton").click(function(){VISH.Police.validateObject(a("#object_snapshot_code").val())[0]&&(c=VISH.Utils.autocompleteUrls(a("#object_snapshot_code").val()),VISH.Editor.Object.drawPreview("tab_object_snapshot_content",c))})},onLoadTab:function(){c=null;VISH.Editor.Object.resetPreview("tab_object_snapshot_content");a("#object_snapshot_code").val("")},
drawPreviewElement:function(){var b;a:{b=c;var g=VISH.Object.getObjectInfo(b);switch(g.wrapper){case null:b=d(b);break a;case "IFRAME":b=d(g.source);break a;default:b=!1}}b&&(b=c,b=null===VISH.Object.getObjectInfo(b).wrapper?"<iframe src='"+b+"'></iframe>":b,f(b),a.fancybox.close())},drawSnapShot:f}}(VISH,jQuery);VISH.Editor.Object.Web=function(b,a){var c=null;return{init:function(){var b=a("tab_object_from_web_content").find("input");a(b).watermark("Paste website URL");a("#tab_object_from_web_content .previewButton").click(function(){VISH.Police.validateObject(a("#object_embedWeb_code").val())[0]&&(c=VISH.Utils.autocompleteUrls(a("#object_embedWeb_code").val()),VISH.Editor.Object.drawPreview("tab_object_from_web_content",c))})},onLoadTab:function(){c=null;VISH.Editor.Object.resetPreview("tab_object_from_web_content");
a("#object_embedWeb_code").val("")},drawPreviewElement:function(){VISH.Editor.Object.drawPreviewObject(c)},generatePreviewWrapperForWeb:function(a){return"<iframe class='objectPreview' src='"+a+"'></iframe>"},generateWrapperForWeb:function(a){return"<iframe src='"+a+"?wmode=transparent'></iframe>"}}}(VISH,jQuery);VISH.Editor.Preview=function(b,a){var c,d=!1;return{prepare:function(f){f||(f=b.Slides.getCurrentSlideNumber());"vish"==VISH.Configuration.getConfiguration().mode?a("#preview_circle").attr("href","/excursions/preview#"+f):"noserver"==VISH.Configuration.getConfiguration().mode?a("#preview_circle").attr("href","/vishEditor/viewer.html#"+f):VISH.Configuration.getConfiguration();c=b.Editor.savePresentation(d)},getPreview:function(){return c},setForcePresentation:function(a){d=a}}}(VISH,jQuery);VISH.Editor.Quiz.Dummies=function(b){var a=[],c={open:0,multiplechoice:1,truefalse:2};return{init:function(){a=["<div class='openQuizContainer'><textarea class='value_open_question_in_zone'><div><font size=4>Write question here</font></div></textarea></div>","<div class='multipleChoiceQuizContainer'><div class='value_multiplechoice_question_in_zone'><div class='initTextDiv'><font size='4'>Write question here</font></div></div><ul class='ul_mch_options_in_zone'></ul><input type='hidden' name='quiz_id'/></div></div>",
"<div class='trueFalseQuizContainer'><p> quiz dummy truefalse</p></div>"];quizOptionDummies=["","<li class='li_mch_options_in_zone'><span class='quiz_option_index'></span><div class='multiplechoice_option_in_zone'><div class='initTextDiv'><font size='4'>Write options here</font></div></div><img src='"+b.ImagesPath+"add.png' class='add_quiz_option_button'/><img src='"+b.ImagesPath+"delete.png' class='delete_quiz_option_button'/></li>",""]},getQuizDummy:function(b){return a[c[b]]},getQuizOptionDummy:function(a){return quizOptionDummies[c[a]]}}}(VISH);VISH.Editor.Renderer=function(b,a){var c=null,d=function(c,d){var g=c.template.substring(1),g=b.Editor.Dummies.getScaffoldForSlide(g,d,c);b.Slides.addSlide(g);b.Editor.Utils.redrawSlides();b.Slides.lastSlide();for(el in c.elements)if(g=a("div#"+c.elements[el].id+"[areaid='"+c.elements[el].areaid+"']"),0!==g.length)if("text"===c.elements[el].type)b.Editor.Text.launchTextEditor({},g,c.elements[el].body);else if("image"===c.elements[el].type)b.Editor.Image.drawImage(c.elements[el].body,g,c.elements[el].style,
c.elements[el].hyperlink);else if("video"===c.elements[el].type){var l=[];l.poster=c.elements[el].poster;l.autoplay=c.elements[el].autoplay;var h=[];a.each(JSON.parse(c.elements[el].sources),function(a,b){h.push([b.src,b.type])});b.Editor.Video.HTML5.drawVideo(h,l,g)}else"object"===c.elements[el].type?b.Editor.Object.drawObject(c.elements[el].body,g,c.elements[el].style,c.elements[el].zoomInStyle):"snapshot"===c.elements[el].type?b.Editor.Object.Snapshot.drawSnapShot(c.elements[el].body,g,c.elements[el].style,
c.elements[el].scrollTop,c.elements[el].scrollLeft):"quiz"===c.elements[el].type&&(JSON.stringify(c.elements[el]),b.Editor.Quiz.addQuiz(c.elements[el].quiztype,a("#"+c.elements[el].id),c.elements[el].options.choices.length),b.Editor.Quiz.drawQuiz(c.elements[el].quiztype,a("#"+c.elements[el].id),c.elements[el].question,c.elements[el].options.choices,c.elements[el].quiz_id));a("div.selectable:empty").addClass("editable")};return{init:function(f){a("#presentation_title").val(f.title);a("#presentation_description").val(f.description);
a("#presentation_avatar").val(f.avatar);if(f.age_range){var e=f.age_range.substring(0,f.age_range.indexOf("-")-1),g=f.age_range.substring(f.age_range.indexOf("-")+2);a("#slider-range").slider("values",[e,g]);a("#age_range").val(e+" - "+g);a("#age_range").val(f.age_range)}else a("#age_range").val(VISH.Constant.AGE_RANGE);a("#subject_tag").val(f.subject);a("#language_tag").val(f.language);a("#educational_objectives_tag").val(f.educational_objectives);a("#acquired_competencies_tag").val(f.adquired_competencies);
VISH.Themes.selectTheme(f.theme);switch(f.type){case b.Constant.FLASHCARD:c=f.slides[0].slides;for(e=0;e<c.length;e++)d(c[e],e+1);VISH.Editor.Flashcard.loadFlashcard(f);break;case b.Constant.VTOUR:break;default:c=f.slides;for(e=0;e<c.length;e++)c[e].type===b.Constant.FLASHCARD?(f=c[e],VISH.Editor.Flashcard.addFlashcard(f),b.Renderer.renderSlide(f,"","<div class='delete_slide'></div>")):d(c[e],e+1)}}}}(VISH,jQuery);VISH.Editor.Text=function(b,a,c){var d,f=!1,e=function(){f||(a(document).on("click",".textthumb",l),nicEditorInit(),f=!0)},g=function(){d||(d=new nicEditor,d.setPanel("slides_panel"));return d},l=function(c,f,h){e();if(f)c=f;else{var c=a(this).parents(".selectable"),l;switch(a(c).attr("size")){case VISH.Constant.SMALL:l=4;break;case VISH.Constant.MEDIUM:l=5;break;case VISH.Constant.LARGE:l=7}h="<div class='initTextDiv'><font size='"+l+"''>"+VISH.Editor.I18n.getTrans("i.WysiwygInit")+"</font></div>"}g();
c.attr("type","text");var t="wysiwyg_"+c.attr("id");l=c.width()-10;f=c.height()-10;c.html("<div class='wysiwygInstance' id="+t+" style='width:"+l+"px; height:"+f+"px;'>"+h+"</div>");d.addInstance(t);b.Editor.addDeleteButton(c);a(".initTextDiv").click(function(b){if("FONT"==b.target.tagName)var c=a(b.target),d=a(b.target).parent();else"DIV"==b.target.tagName&&(d=a(b.target),c=a(b.target).find("font"));a(c).text()===VISH.Editor.I18n.getTrans("i.WysiwygInit")&&(a(c).text(""),a(d).removeClass("initTextDiv"),
a("#"+t).trigger("click"))})},h=function(b){a(b).contents().each(function(c,d){0<a(d).find("font").length?h(d):a(d).is("font")||a(d).wrap("<font size='"+a(b).attr("size")+"' style='"+a(b).attr("style")+"' color='"+a(b).attr("color")+"' face='"+a(b).attr("face")+"'>")});a(b).children().unwrap()};return{init:e,launchTextEditor:l,changeFontPropertiesToSpan:function(b){a(b).find("font").each(function(b,c){0<=a(c).find("font").length&&h(c)});a(b).find("font").each(function(b,d){var e=a(d).attr("size"),
f={arial:"arial","comic sans ms":"comic","courier new":"courier",georgia:"georgia",helvetica:"helvetica",impact:"impact","times new roman":"times","trebuchet ms":"trebuchet",verdana:"verdana"},f=f[a(d).attr("face")]?f[a(d).attr("face")]:"Helvetica",g="";a(d).attr("color")!==c&&(g+="color:"+a(d).attr("color")+";");if(a(d).attr("style")!==c){var h="",n=a(d).attr("style"),l=n.indexOf("font-size");if(-1!==l){var x=n.indexOf(";",l),h=n.substring(0,l)+n.substring(x+1);switch(n.substring(l+10,x).trim()){case "xxx-large":e=
7;break;case "xx-large":e=6;break;case "x-large":e=5;break;case "large":e=4;break;case "medium":e=3;break;case "small":e=2;break;case "x-small":e=1}}else h=n;g+=h+";"}a(d).closest("div").addClass("vish-parent-font"+e);a(d).replaceWith("<span class='vish-font"+e+" vish-font"+f+"' style='"+g+"'>"+a(d).html()+"</span>")});a(b).find("span[style*='font-size']").each(function(b,c){var d=a(c).attr("style");a(c).attr("style",d+";line-height: 110%;")});"normal"!==a(b).css("font-style")&&a(b).children(":first-child").css("font-style",
a(b).css("font-style"));400!==a(b).css("font-weight")&&a(b).children(":first-child").css("font-weight",a(b).css("font-weight"));"none"!==a(b).css("text-decoration")&&a(b).children(":first-child").css("text-decoration",a(b).css("text-decoration"));return a(b).html()},getNicEditor:g}}(VISH,jQuery);VISH.Editor.Thumbnails=function(b,a,c){var d=function(){a(".add_slide_button").hover(function(){a(this).attr("src",VISH.ImagesPath+"hover/add_slide.png")},function(){a(this).attr("src",VISH.ImagesPath+"templatesthumbs/add_slide.png")});a(".barbutton").css("background-color","transparent");var c=[];c.rows=1;b.Editor.getPresentationType()===VISH.Constant.FLASHCARD?(c.callback=e,c.afterCreateCarruselFunction=VISH.Editor.Flashcard.redrawPois):c.callback=f;c.rowItems=8;c.scrollItems=1;c.styleClass="slides";
c.width=900;c.startAtLastElement=!0;c.pagination=!1;a("#slides_carrousel").show();VISH.Editor.Carrousel.createCarrousel("slides_carrousel",c);0<VISH.Slides.getCurrentSlideNumber()&&g(VISH.Slides.getCurrentSlideNumber());if(b.Editor.getPresentationType()===VISH.Constant.PRESENTATION){var d;a("#slides_carrousel").sortable({items:'div.carrousel_element_single_row_slides:has(img[action="goToSlide"])',change:function(){},start:function(){d=parseInt(a(a("div.carrousel_element_single_row_slides")[0]).find("img.carrousel_element_single_row_slides[slidenumber]").attr("slidenumber"))},
stop:function(b,c){var e=a(c.item).find("img.carrousel_element_single_row_slides[slidenumber]");if(!isNaN(a(e).attr("slidenumber"))){var f=parseInt(a(e).attr("slidenumber")),g=[];a.each(a("div.carrousel_element_single_row_slides:has(img[slidenumber])"),function(a,b){g.push(b)});var h=d+a(g).index(a("div.carrousel_element_single_row_slides:has(img[slidenumber='"+f+"'])")),e=null;if(h>f)e="after";else if(h<f)e="before";else return;f=VISH.Slides.getSlideWithNumber(f);h=VISH.Slides.getSlideWithNumber(h);
if(f!=null&&h!=null&&e!=null){VISH.Slides.moveSlideTo(f,h,e);a.each(a("div.carrousel_element_single_row_slides:has(img[slidenumber])"),function(b,c){var e=a(c).find("img.carrousel_element_single_row_slides").attr("slidenumber");if(!(e<d||e>d+8-1)){var e=d+b,f=a(c).find("p.carrousel_element_single_row_slides");a(f).html(e);f=a(c).find("img.carrousel_element_single_row_slides");a(f).attr("slidenumber",e)}})}}}})}},f=function(b){switch(a(b.target).attr("action")){case "plus":a("#addSlideFancybox").trigger("click");
break;case "goToSlide":VISH.Slides.goToSlide(a(b.target).attr("slideNumber"))}},e=function(c){switch(a(c.target).attr("action")){case "plus":b.Debugging.log("Show message warning that we are changing to presentation and change");a.fancybox(a("#message2_form").html(),{autoDimensions:!1,scrolling:"no",width:550,height:200,showCloseButton:!1,padding:5});break;case "goToSlide":b.Slides.setCurrentSlideNumber(a(c.target).attr("slideNumber")),b.Editor.Preview.setForcePresentation(!0),a("img#preview_circle").trigger("click")}},
g=function(b){a(".image_barbutton").removeClass("selectedSlideThumbnail");a(".image_barbutton[slideNumber="+b+"]").addClass("selectedSlideThumbnail")},l=function(b){return parseInt(a(b).find("img.carrousel_element_single_row_slides[slidenumber]").attr("slidenumber"))};return{init:function(){},redrawThumbnails:function(){VISH.Editor.Carrousel.cleanCarrousel("slides_carrousel");a("#slides_carrousel").hide();var e=[],f=[],g=0;a(".slides > article").each(function(d,m){switch(a(m).attr("type")){case c:case VISH.Constant.STANDARD:var l=
a(m).attr("template");g+=1;e.push(a("<img class='image_barbutton fill_slide_button' slideNumber='"+g+"' action='goToSlide' src='"+VISH.ImagesPath+"templatesthumbs/"+l+".png' />"));f.push(g);break;case VISH.Constant.FLASHCARD:g+=1,e.push(a("<img class='image_barbutton fill_slide_button' slideNumber='"+g+"' action='goToSlide' src='"+b.Utils.getSrcFromCSS(a(m).attr("avatar"))+"' />")),f.push(g)}});e.push(a("<img class='image_barbutton add_slide_button' action='plus' id='addslidebutton' src='"+VISH.ImagesPath+
"templatesthumbs/add_slide.png' />"));g+=1;if(8>g){var m;for(m=0+g;8>m;m++)e.push(a("<img class='image_barbutton empty_slide_button' action='default' src='"+VISH.ImagesPath+"templatesthumbs/default.png' />")),g+=1}VISH.Utils.loader.loadImagesOnCarrouselOrder(e,d,"slides_carrousel",f)},selectThumbnail:g,getVisibleThumbnails:function(){var b=a("div.carrousel_element_single_row_slides").not(".draggable_arrow_div"),c=l(a(b[0])),d=c;a(b).each(function(a,b){var c=l(b);if(isNaN(c))return!1;d=c});d=Math.min(d,
c+7);return[c,d]}}}(VISH,jQuery);VISH.Editor.Tools.Menu=function(b,a){var c=!1,d=function(){a("#menu").hide();if(!VISH.Status.getDevice().desktop)if(VISH.Status.getDevice().tablet)VISH.Editor.MenuTablet.init();else{e();return}var d=VISH.Editor.getPresentationType(),h=a("ul.menu_option_main").find("li");a(h).removeClass("menu_item_enabled").addClass("menu_item_disabled");f(a("ul.menu_option_main").find("a.menu_all").parent());switch(d){case VISH.Constant.PRESENTATION:f(a("ul.menu_option_main").find("a.menu_presentation").parent());
VISH.Editor.isPresentationStandard()&&f(a("ul.menu_option_main").find("a.menu_standard_presentation").parent());break;case VISH.Constant.FLASHCARD:f(a("ul.menu_option_main").find("a.menu_flashcard").parent());break;case VISH.Constant.GAME:f(a("ul.menu_option_main").find("a.menu_game").parent())}c||(a.each(a("#menu a.menu_action"),function(b,c){a(c).on("click",function(b){b.preventDefault();if(!a(c).parent().hasClass("menu_item_disabled")&&"function"==typeof VISH.Editor.Tools.Menu[a(c).attr("action")])VISH.Editor.Tools.Menu[a(c).attr("action")](this)})}),
c=!0,VISH.Configuration.getConfiguration().presentationSettings&&!VISH.Editor.hasInitialPresentation()&&!g?(a("a#edit_presentation_details").fancybox({autoDimensions:!1,scrolling:"no",width:800,height:660,padding:0,hideOnOverlayClick:!1,hideOnContentClick:!1,showCloseButton:!1}),l(),g=!0):a("a#edit_presentation_details").fancybox({autoDimensions:!1,scrolling:"no",width:800,height:660,padding:0,hideOnOverlayClick:!1,hideOnContentClick:!1,showCloseButton:!0}),a("img#preview_circle").fancybox({width:"8",
height:"6",autoScale:!1,transitionIn:"none",transitionOut:"none",type:"iframe",onStart:function(){b.Quiz.Renderer.setIsQuizInPreview(true);VISH.Editor.Preview.prepare(b.Slides.getCurrentSlideNumber())},onClosed:function(){b.Quiz.Renderer.setIsQuizInPreview(false);b.Editor.Preview.setForcePresentation(false)}}));a("#menu").show()},f=function(b){a(b).removeClass("menu_item_disabled").addClass("menu_item_enabled")},e=function(){a("#menu").hide();a("#menu").attr("id","menuDisabled")},g=!1,l=function(){a("a#edit_presentation_details").trigger("click")},
h=function(b){var c=a(".tagBoxIntro .tagList"),d=VISH.Editor.getPresentation();0==a(c).children().length&&(d&&d.tags&&a.each(d.tags,function(b,d){a(c).append("<li>"+d+"</li>")}),a(c).tagit({tagSource:b,sortable:!0,maxLength:15,maxTags:6,watermarkAllowMessage:VISH.Editor.I18n.getTrans("i.AddTags"),watermarkDenyMessage:VISH.Editor.I18n.getTrans("i.limitReached")}))};return{init:d,updateMenuAfterAddSlide:function(a){switch(a){case VISH.Constant.FLASHCARD:case VISH.Constant.VTOUR:return d()}},disableMenu:e,
enableMenu:function(){a("#menuDisabled").show();a("#menuDisabled").attr("id","menu")},displaySettings:l,insertFlashcard:function(){a("#addSlideFancybox").trigger("click");VISH.Utils.loadTab("tab_flashcards")},insertSlide:function(){a("#addSlideFancybox").trigger("click");VISH.Utils.loadTab("tab_templates")},onSettings:function(){a("a#edit_presentation_details").fancybox({autoDimensions:!1,scrolling:"no",width:800,height:660,padding:0,hideOnOverlayClick:!1,hideOnContentClick:!1,showCloseButton:!0});
if(VISH.Configuration.getConfiguration().presentationTags){VISH.Editor.API.requestTags(h);var b=VISH.Editor.getPresentation();if(b&&b.avatar)VISH.Editor.AvatarPicker.onLoadPresentationDetails(b.avatar);else VISH.Editor.AvatarPicker.onLoadPresentationDetails(null)}},onSavePresentationDetailsButtonClicked:function(b){b.preventDefault();if(1>a("#presentation_title").val().length)return a("#presentation_details_error").slideDown("slow"),a("#presentation_details_error").show(),!1;(b=VISH.Editor.getPresentation())||
(b={});b.title=a("#presentation_title").val();b.description=a("#presentation_description").val();b.avatar=a("#presentation_avatar").val();b.tags=VISH.Utils.convertToTagsArray(a("#tagindex").tagit("tags"));b.age_range=a("#age_range").val();b.subject=a("#subject_tag").val();b.language=a("#language_tag").val();b.educational_objectives=a("#educational_objectives_tag").val();b.adquired_competencies=a("#acquired_competencies_tag").val();VISH.Editor.setPresentation(b);a("#presentation_details_error").hide();
a.fancybox.close()},onPedagogicalButtonClicked:function(b){b.preventDefault();a("#presentation_details_fields").slideUp();a("#pedagogical_options_fields").slideDown()},onDonePedagogicalButtonClicked:function(b){b.preventDefault();a("#pedagogical_options_fields").slideUp();a("#presentation_details_fields").slideDown()},onSaveButtonClicked:function(){b.Debugging.log("presentation type: "+VISH.Editor.getPresentationType());if(0===VISH.Slides.getSlides().length)a.fancybox(a("#message1_form").html(),{autoDimensions:!1,
scrolling:"no",width:350,height:200,showCloseButton:!1,padding:5});else if("flashcard"===VISH.Editor.getPresentationType()&&!VISH.Editor.Flashcard.hasPoiInBackground())a.fancybox(a("#message3_form").html(),{autoDimensions:!1,scrolling:"no",width:350,height:250,showCloseButton:!1,padding:5});else if("flashcard"===VISH.Editor.getPresentationType()&&!VISH.Editor.Flashcard.hasChangedBackground())a.fancybox(a("#message4_form").html(),{autoDimensions:!1,scrolling:"no",width:350,height:250,showCloseButton:!1,
padding:5});else{switch(VISH.Configuration.getConfiguration().mode){case VISH.Constant.NOSERVER:a("a[save-option-id='save']").hide();break;case VISH.Constant.VISH:VISH.Editor.isPresentationDraft()?a("a[save-option-id='save']").hide():(a("a[save-option-id='draft']").hide(),a("a[save-option-id='publish']").hide());break;case VISH.Constant.STANDALONE:a("a[save-option-id='publish']").hide(),a("a[save-option-id='draft']").hide()}a.fancybox(a("#save_form").html(),{autoDimensions:!1,width:350,scrolling:"no",
height:150,showCloseButton:!1,padding:0,onClosed:function(){var b=a("#save_answer").val();if("cancel"!==b){a("#save_answer").val("cancel");var c=VISH.Editor.savePresentation();VISH.Editor.afterSavePresentation(c,b)}else return!1}})}},preview:function(){a("img#preview_circle").trigger("click")},help:function(){a("#help_right").trigger("click")},switchToFlashcard:function(){0===b.Slides.getSlides().length?a.fancybox(a("#message5_form").html(),{autoDimensions:!1,scrolling:"no",width:450,height:220,showCloseButton:!1,
padding:5}):b.Editor.Flashcard.switchToFlashcard()},switchToPresentation:function(){var c=b.Editor.savePresentation();b.Editor.setPresentation(c);b.Editor.setPresentationType("presentation");b.Editor.Utils.showSlides();a("#flashcard-background").hide();b.Editor.Thumbnails.redrawThumbnails();VISH.Editor.Tools.init()}}}(VISH,jQuery);VISH.Editor.Tour=function(b,a,c){var d=function(){a(".joyride-tip-guide").each(function(){a(this).remove()})};return{clear:d,startTourWithId:function(b,e){d();var g;g=e===c?"top":e;a(window).joyride({tipLocation:g,tipContent:"#"+b,postRideCallback:VISH.Editor.Tour.clear})}}}(VISH,jQuery);VISH.Editor.Utils=function(b,a){var c=function(b,c){var e=[],g=null,l=null,h=/width:\s?([0-9]+(\.[0-9]+)?)%/g,n=/width:\s?([0-9]+(\.?[0-9]+)?)px/g,o=/height:\s?([0-9]+(\.[0-9]+)?)%/g,m=/height:\s?([0-9]+(\.?[0-9]+)?)px/g;a.each(b.split(";"),function(b,d){if(-1!==d.indexOf("width"))if(d.match(n)){var e=n.exec(d);e[1]&&(g=e[1])}else d.match(h)&&(e=h.exec(d),e[1]&&(e=e[1],c&&(g=a(c).width()*e/100)));else-1!==d.indexOf("height")&&(d.match(m)?(e=m.exec(d),e[1]&&(l=e[1])):d.match(o)&&(e=o.exec(d),e[1]&&
(e=e[1],c&&(l=a(c).height()*e/100))))});e.push(g);e.push(l);return e};return{getWidthFromStyle:function(a,b){return c(a,b)[0]},getHeightFromStyle:function(a,b){return c(a,b)[1]},getPixelDimensionsFromStyle:c,hideSlides:function(){a(".slides > article").addClass("temp_hidden")},setStyleInPixels:function(b,f){var e="";a.each(b.split(";"),function(a,b){-1===b.indexOf("width")&&-1===b.indexOf("height")&&(e=e+b+"; ")});var g=c(b,f);g&&g[0]&&(e=e+"width: "+g[0]+"px; ",g[1]&&(e=e+"height: "+g[1]+"px; "));
return e},addZoomToStyle:function(b,c){if(!b)return null;var e="";a.each(b.split(";"),function(a,b){-1===b.indexOf("-ms-transform")&&(-1===b.indexOf("-moz-transform")&&-1===b.indexOf("-o-transform")&&-1===b.indexOf("-webkit-transform")&&-1===b.indexOf("-moz-transform-origin")&&-1===b.indexOf("-webkit-transform-origin")&&-1===b.indexOf("-o-transform-origin")&&-1===b.indexOf("-ms-transform-origin"))&&(e=e+b+"; ")});c&&(e=e+"-ms-transform: scale("+c+"); ",e+="-ms-transform-origin: 0 0; ",e=e+"-moz-transform: scale("+
c+"); ",e+="-moz-transform-origin: 0 0; ",e=e+"-o-transform: scale("+c+"); ",e+="-o-transform-origin: 0 0; ",e=e+"-webkit-transform: scale("+c+"); ",e+="-webkit-transform-origin: 0 0; ");return e},getStylesInPercentages:function(a,b){var c=100*b.width()/a.width(),g=100*b.height()/a.height(),l=100*b.position().top/a.height(),h=100*b.position().left/a.width();return"position: relative; width:"+c+"%; height:"+g+"%; top:"+l+"%; left:"+h+"%;"},redrawSlides:function(){a(document).trigger("OURDOMContentLoaded")},
dimentionToDraw:function(a,b,c,g){var l={width:350,height:195},c=c/g;a/b>c?(l.width=c*b,l.height=b):(l.width=a,l.height=a/c);return l},showSlides:function(){a(".slides > article").removeClass("temp_hidden")},refreshDraggables:function(b){a(b).find("[draggable='true']").draggable({cursor:"move",stop:function(){a(this).parent().click()}})},prepareSlideToNest:function(b,c){if("string"!==typeof b)return c;if(!(c.type===VISH.Constant.FLASHCARD||c.type===VISH.Constant.VTOUR))return c.id=VISH.Utils.getId(b+
"_"+c.id,!0),c.elements&&a.each(c.elements,function(a){c.elements[a].id=VISH.Utils.getId(b+"_"+c.elements[a].id,!0)}),c}}}(VISH,jQuery);VISH.Editor.Video.HTML5=function(b,a){var c=function(b,c,e,g){var l;l=e?e:VISH.Editor.getCurrentArea();var h=VISH.ImagesPath+"example_poster_image.jpg",n=!1;c&&(c.poster&&(h=c.poster),c.autoplay&&(n=c.autoplay));e=VISH.Editor.getTemplate(e);c="draggable"+VISH.Utils.getId();l.attr("type","video");var o=document.createElement("video");o.setAttribute("id",c);o.setAttribute("draggable",!0);o.setAttribute("class",e+"_video");o.setAttribute("title","Click to drag");o.setAttribute("controls","controls");
o.setAttribute("preload","metadata");o.setAttribute("poster",h);o.setAttribute("autoplayonslideenter",n);g&&o.setAttribute("style",g);a(b).each(function(b,c){var d=document.createElement("source");d.setAttribute("src",c[0]);c[1]&&d.setAttribute("type",c[1]);a(o).append(d)});b=document.createElement("p");a(b).html("Your browser does not support HTML5 video.");a(o).append(b);a(l).html("");a(l).append(o);VISH.Editor.addDeleteButton(a(l));a("#"+c).draggable({cursor:"move"});VISH.Editor.Tools.loadToolsForZone(l)};
return{init:function(){},drawVideoWithUrl:function(a){c([[a,"video/"+VISH.Object.getObjectInfo(a).source.split(".").pop()]])},drawVideo:c,renderVideoFromSources:function(b){var c="<video class='objectPreview' preload='metadata' controls='controls' poster='"+(VISH.ImagesPath+"example_poster_image.jpg")+"' >";a.each(b,function(a,b){c=c+"<source src='"+b+"' "+("video/"+VISH.Object.getObjectInfo(b).source.split(".").pop())+">"});return c+="</video>"}}}(VISH,jQuery);VISH.Editor.Video.Repository=function(b,a){var c=[],d=null,f=function(b){VISH.Editor.Carrousel.cleanCarrousel("tab_video_repo_content_carrousel");a("#tab_video_repo_content_carrousel").hide();h();c=[];var d=[];!b.videos||0==b.videos.length?(a("#tab_video_repo_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>"),a("#tab_video_repo_content_carrousel").show()):(a.each(b.videos,function(b,e){if(e){var f=a("<img src='"+e.poster+"' videoId='"+e.id+"'/>");d.push(f);c[e.id]=e}}),
VISH.Utils.loader.loadImagesOnCarrousel(d,e,"tab_video_repo_content_carrousel"))},e=function(){a("#tab_video_repo_content_carrousel").show();var b=[];b.rows=1;b.callback=l;b.rowItems=5;VISH.Editor.Carrousel.createCarrousel("tab_video_repo_content_carrousel",b)},g=function(){},l=function(b){var b=a(b.target).attr("videoid"),e=VISH.Renderer.renderVideo(c[b],"preview"),f=c[b],g=a("#tab_video_repo_content_preview").find("#tab_video_repo_content_preview_video"),h=a("#tab_video_repo_content_preview").find("#tab_video_repo_content_preview_metadata"),
l=a("#tab_video_repo_content_preview").find(".okButton");a(g).html("");a(h).html("");e&&f&&(a(g).append(e),e=VISH.Utils.generateTable(f.author,f.title,f.description),a(h).html(e),a(l).show());d=c[b]},h=function(){var b=a("#tab_video_repo_content_preview").find("#tab_video_repo_content_preview_video"),c=a("#tab_video_repo_content_preview").find("#tab_video_repo_content_preview_metadata"),d=a("#tab_video_repo_content_preview").find(".okButton");a(b).html("");a(c).html("");a(d).hide()};return{init:function(){var b=
a("#tab_video_repo_content").find("input[type='search']");a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(c){13==c.keyCode&&(c=a(b).val(),VISH.Editor.API.requestVideos(c,f,g),a(b).blur())})},onLoadTab:function(){""==a("#tab_video_repo_content").find("input[type='search']").val()&&(h(),VISH.Editor.API.requestRecomendedVideos(f,g))},addSelectedVideo:function(){if(null!=d){var b=[],c=[];c.poster=d.poster;var e=d.sources;"string"==typeof e&&(e=JSON.parse(e));a.each(e,
function(a,c){b.push([c.src,c.type])});VISH.Editor.Video.HTML5.drawVideo(b,c);a.fancybox.close()}}}}(VISH,jQuery);VISH.Editor.Video.Vimeo=function(b,a){return{init:function(){var b=a("#tab_video_vimeo_content").find("input[type='search']");a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(d){13==d.keyCode&&(VISH.Editor.Video.Vimeo.requestVimeoData(a(b).val()),a(b).blur())})},onLoadTab:function(){a("#tab_video_vimeo_content").find("input[type='search']").val("");VISH.Editor.Carrousel.cleanCarrousel("tab_video_vimeo_content_carrousel");a("#tab_video_vimeo_content_carrousel").hide()},
requestVimeoData:function(a){VISH.Debugging.log("enter in requestVimeoData and text's value is:"+a);VISH.Debugging.log("url_vimeo is :"+url_vimeo);jQuery.getJSON(url_vimeo,function(a){VISH.Debugging.log("enter in _onDataReceived and data value is: "+a)})}}}(VISH,jQuery);VISH.Editor.Video.Youtube=function(b,a){var c=[],d=null,f=function(){a("#tab_video_youtube_content_carrousel").show();var b=[];b.rows=1;b.callback=VISH.Editor.Video.Youtube.onClickCarrouselElement;b.rowItems=5;VISH.Editor.Carrousel.createCarrousel("tab_video_youtube_content_carrousel",b)},e=function(){var b=a("#tab_video_youtube_content_preview").find("#tab_video_youtube_content_preview_video"),c=a("#tab_video_youtube_content_preview").find("#tab_video_youtube_content_preview_metadata"),d=a("#tab_video_youtube_content_preview").find(".okButton");
a(b).html("");a(c).html("");a(d).hide()},g=function(a){a="http://www.youtube.com/embed/"+a;current_area=VISH.Editor.getCurrentArea();var b=VISH.Editor.Utils.dimentionToDraw(current_area.width(),current_area.height(),325,243);return"<iframe src='"+a+"?wmode=opaque' frameborder='0' style='width:"+b.width+"px; height:"+b.height+"px;'></iframe>"},l=function(a){return'<iframe class="objectPreview" type="text/html" src="http://www.youtube.com/embed/'+a+'?wmode=opaque" frameborder="0"></iframe>'};return{init:function(){var b=
a("#tab_video_youtube_content").find("input[type='search']");a(b).watermark(VISH.Editor.I18n.getTrans("i.SearchContent"));a(b).keydown(function(c){13==c.keyCode&&(VISH.Editor.Video.Youtube.requestYoutubeData(a(b).val()),a(b).blur())})},onLoadTab:function(){a("#tab_video_youtube_content").find("input[type='search']").val("");VISH.Editor.Carrousel.cleanCarrousel("tab_video_youtube_content_carrousel");a("#tab_video_youtube_content_carrousel").hide();e()},onClickCarrouselElement:function(b){var b=a(b.target).attr("videoID"),
e=l(b),f=c[b],g=a("#tab_video_youtube_content_preview").find("#tab_video_youtube_content_preview_video"),p=a("#tab_video_youtube_content_preview").find("#tab_video_youtube_content_preview_metadata"),t=a("#tab_video_youtube_content_preview").find(".okButton");a(g).html("");a(p).html("");e&&f&&(a(g).append(e),e=VISH.Utils.generateTable(f.author,f.title,f.description),a(p).html(e),a(t).show());d=c[b]},requestYoutubeData:function(b){jQuery.getJSON("http://gdata.youtube.com/feeds/api/videos?q="+b+"&alt=json-in-script&callback=?&max-results=20&start-index=1",
function(b){VISH.Editor.Carrousel.cleanCarrousel("tab_video_youtube_content_carrousel");a("#tab_video_youtube_content_carrousel").hide();e();c=[];var d=[];!b.feed||0==b.feed.length||!b.feed.entry?(a("#tab_video_youtube_content_carrousel").html("<p class='carrouselNoResults'> No results found </p>"),a("#tab_video_youtube_content_carrousel").show()):(a.each(b.feed.entry,function(b,e){var f=e.id.$t,g=e.title.$t,h=e.author[0].name.$t,l=e.media$group.media$description.$t,f=f.replace("http://gdata.youtube.com/feeds/api/videos/",
"http://www.youtube.com/watch?v="),f=f.replace("http://www.youtube.com/watch?v=","");c[f]={};c[f].id=f;c[f].title=g;c[f].author=h;c[f].subtitle=l;g=a("<img videoID="+f+" src="+("http://img.youtube.com/vi/"+f+"/0.jpg")+" />");d.push(g)}),VISH.Utils.loader.loadImagesOnCarrousel(d,f,"tab_video_youtube_content_carrousel"))})},addSelectedVideo:function(){null!=d&&(VISH.Editor.Object.drawObject(g(d.id)),a.fancybox.close())},generateWrapperForYoutubeVideoUrl:function(a){a=VISH.VideoPlayer.Youtube.getYoutubeIdFromURL(a);
return null!=a?g(a):"Youtube Video ID can't be founded."},generatePreviewWrapperForYoutubeVideoUrl:function(a){a=VISH.VideoPlayer.Youtube.getYoutubeIdFromURL(a);return null!=a?l(a):"<p class='objectPreview'>Youtube Video ID can't be founded.</p>"}}}(VISH,jQuery);VISH.EventsNotifier=function(){var b;return{init:function(){b=[]},notifyEvent:function(a,c,d){if(b&&(c=c||{},c.triggeredByUser=!1!==d,a=b[a]))for(d=0;d<a.length;d++)a[d](c)},registerCallback:function(a,c){a in b?b[a].push(c):(b[a]=[],b[a].push(c),a==VISH.Constant.Event.onMessage&&VISH.Messenger.init())},unRegisterCallback:function(a,c){a in b&&-1!==b[a].indexOf(c)&&b[a].splice(b[a].indexOf(c),1)}}}(VISH,jQuery);VISH.Game=function(b){var a={};return{raiseAction:function(c){a[c]&&b.Debugging.log("show slide "+a[c].slide_id)},registerActions:function(b){a=b.game.actions}}}(VISH,jQuery);VISH=VISH||{};VISH.Constant=VISH.Constant||{};VISH.Constant.Event={};VISH.Constant.Event.onMessage="onMessage";VISH.Constant.Event.onGoToSlide="onGoToSlide";VISH.Constant.Event.onPlayVideo="onPlayVideo";VISH.Constant.Event.onPauseVideo="onPauseVideo";VISH.Constant.Event.onSeekVideo="onSeekVideo";VISH.Constant.Event.onFlashcardPointClicked="onFlashcardPointClicked";VISH.Constant.Event.onFlashcardSlideClosed="onFlashcardSlideClosed";VISH.Constant.Event.onSetSlave="onSetSlave";
VISH.Constant.Event.onPreventDefault="onPreventDefault";VISH.Constant.Event.allowExitWithoutConfirmation="allowExitWithoutConfirmation";VISH.Constant.Event.onIframeMessengerHello="onIframeMessengerHello";
VISH.IframeAPI=function(){function b(a,b,c,d){this.vishEditor=!0;this.VEevent=a;b&&(this.params=b);this.origin=c?c:"?";this.destination=d?d:"*"}var a,c,d,f,e=function(){var b=l(VISH.Constant.Event.onIframeMessengerHello);n(b,"*");a++;15<=a&&c&&clearTimeout(c)},g=function(a,b){b&&(f[a]=b)},l=function(a,c,d,e){a=new b(a,c,d,e);return JSON.stringify(a)},h=function(a){if("string"!==typeof a)return!1;try{var b=JSON.parse(a);if("object"!==typeof b||!0!==b.vishEditor||!b.VEevent)return!1}catch(c){return!1}return!0},
n=function(a,b){if("string"===typeof b)if("*"===b)o(a);else{var c=document.getElementById(b);c&&c.contentWindow&&c.contentWindow.postMessage(a,"*")}else if(c="undefined"!==typeof b?b.constructor===Array:!1,c&&"string"==typeof b[0])for(var d=0;d<b.length;d++)(c=document.getElementById(b[d]))&&c.contentWindow&&c.contentWindow.postMessage(a,"*");else o(a)},o=function(a){for(var b=document.querySelectorAll(".vishEditorIframe"),c=0;c<b.length;c++)b[c].contentWindow.postMessage(a,"*")},m=function(a){if(a&&
h(a.data)){var b=a.data,a=JSON.parse(b);if(f[VISH.Constant.Event.onMessage])f[VISH.Constant.Event.onMessage](b,a.origin);if(b=f[a.VEevent])switch(a.VEevent){case VISH.Constant.Event.onGoToSlide:a.params&&b(a.params.slideNumber,a.origin);break;case VISH.Constant.Event.onPlayVideo:a.params&&b(a.params.videoId,a.params.currentTime,a.params.slideNumber,a.origin);break;case VISH.Constant.Event.onPauseVideo:a.params&&b(a.params.videoId,a.params.currentTime,a.params.slideNumber,a.origin);break;case VISH.Constant.Event.onSeekVideo:a.params&&
b(a.params.videoId,a.params.currentTime,a.params.slideNumber,a.origin);break;case VISH.Constant.Event.onFlashcardPointClicked:a.params&&b(a.params.slideNumber,a.origin);break;case VISH.Constant.Event.onFlashcardSlideClosed:a.params&&b(a.params.slideNumber,a.origin);break;case VISH.Constant.Event.onIframeMessengerHello:b(a.origin);break;default:console&&console.log&&console.log("VISH.Messenger.Proceesor Error: Unrecognized event: "+a.VEevent)}}};return{init:function(b){d=b;window.addEventListener?
window.addEventListener("message",m,!1):el.attachEvent&&window.attachEvent("message",m);f=[];g(VISH.Constant.Event.onIframeMessengerHello,function(a){c&&clearTimeout(c);if(d&&!0===d.preventDefault){var b=l(VISH.Constant.Event.onPreventDefault,{preventDefaults:!0},null,a);n(b,a)}d&&"function"===typeof d.callback&&d.callback(a)});a=0;c=setInterval(function(){e()},1E3);e()},registerCallback:g,unRegisterCallback:function(a){a in f&&(f[a]=null)},sendMessage:n,setSlave:function(a,b){var c={};c.slave=a;
c=l(VISH.Constant.Event.onSetSlave,c,null,b);n(c,b)},setMaster:function(a){for(var b={},c=document.querySelectorAll(".vishEditorIframe"),d=0;d<c.length;d++){b.slave=c[d].id!==a?!0:!1;var e=c[d].id,f=l(VISH.Constant.Event.onSetSlave,b,null,e);n(f,e)}},allowExitWithoutConfirmation:function(a){var b=l(VISH.Constant.Event.allowExitWithoutConfirmation,{},null,a);n(b,a)},goToSlide:function(a,b){var c={};c.slideNumber=a;c=l(VISH.Constant.Event.onGoToSlide,c,null,b);n(c,b)},playVideo:function(a,b,c,d){var e=
{};e.videoId=a;e.currentTime=b;e.slideNumber=c;a=l(VISH.Constant.Event.onPlayVideo,e,null,d);n(a,d)},pauseVideo:function(a,b,c,d){var e={};e.videoId=a;e.currentTime=b;e.slideNumber=c;a=l(VISH.Constant.Event.onPauseVideo,e,null,d);n(a,d)},seekVideo:function(a,b,c,d){var e={};e.videoId=a;e.currentTime=b;e.slideNumber=c;a=l(VISH.Constant.Event.onSeekVideo,e,null,d);n(a,d)},openSlideInFlashcard:function(a,b,c){var d={};d.flashcardSlideNumber=a;d.slideNumber=b;a=l(VISH.Constant.Event.onFlashcardPointClicked,
d,null,c);n(a,c)},closeSlideInFlashcard:function(a,b,c){var d={};d.flashcardSlideNumber=a;d.slideNumber=b;a=l(VISH.Constant.Event.onFlashcardSlideClosed,d,null,c);n(a,c)}}}(VISH);VISH.LocalStorage=function(b,a,c){return{addPresentation:function(d){if("undefined"!==typeof Storage){var f=localStorage.getItem("presentation_list")?JSON.parse(localStorage.getItem("presentation_list")):[];-1===a.inArray(d.id,f)&&(f.push(d.id),localStorage.setItem("presentation_list",JSON.stringify(f)));localStorage.setItem("presentation_"+d.id,JSON.stringify(d));localStorage.setItem("presentation_"+d.id+"_url",window.location.href);if(d.avatar!==c&&(d=d.avatar,null===localStorage.getItem(d)&&!d.match(/^http/))){var e=
document.createElement("canvas"),g=e.getContext("2d"),l=new Image;l.src=d;l.onload=function(){e.width=this.width;e.height=this.height;g.drawImage(this,0,0,e.width,e.height);var a=l.src.replace(/http:\/\/[^\/]+/i,"");localStorage.setItem(a,e.toDataURL())}}}else b.Debugging.log("Sorry! No web storage support.")}}}(VISH,jQuery);VISH.Messenger.Helper=function(){function b(a,b,d,f){this.vishEditor=!0;this.VEevent=a;b&&(this.params=b);this.origin=d?d:"?";this.destination=f?f:"*"}return{createMessage:function(a,c,d,f){!d&&VISH.Status.getIsInIframe()&&(d=VISH.Status.getIframe().id);a=new b(a,c,d,f);return JSON.stringify(a)},processVEMessage:function(a){a=JSON.parse(a);switch(a.VEevent){case VISH.Constant.Event.onGoToSlide:a.params&&a.params.slideNumber&&VISH.Slides.goToSlide(a.params.slideNumber,!1);break;case VISH.Constant.Event.onPlayVideo:a.params&&
a.params.videoId&&(a.params.slideNumber&&VISH.Slides.getCurrentSlideNumber()!=a.params.slideNumber&&VISH.Slides.goToSlide(a.params.slideNumber,!1),VISH.VideoPlayer.playVideo(a.params.videoId,a.params.currentTime,!1));break;case VISH.Constant.Event.onPauseVideo:a.params&&a.params.videoId&&(a.params.slideNumber&&VISH.Slides.getCurrentSlideNumber()!=a.params.slideNumber&&VISH.Slides.goToSlide(a.params.slideNumber,!1),VISH.VideoPlayer.pauseVideo(a.params.videoId,a.params.currentTime,!1));break;case VISH.Constant.Event.onSeekVideo:a.params&&
a.params.videoId&&(a.params.slideNumber&&VISH.Slides.getCurrentSlideNumber()!=a.params.slideNumber&&VISH.Slides.goToSlide(a.params.slideNumber,!1),VISH.VideoPlayer.seekVideo(a.params.videoId,a.params.currentTime,!1));break;case VISH.Constant.Event.onFlashcardPointClicked:a.params&&a.params.slideNumber&&VISH.Slides.showFlashcardSlide(a.params.slideNumber,!1);break;case VISH.Constant.Event.onFlashcardSlideClosed:a.params&&a.params.slideNumber&&VISH.Slides.closeFlashcardSlide(a.params.slideNumber,!1);
break;case VISH.Constant.Event.onSetSlave:a.params&&"undefined"!=typeof a.params.slave&&VISH.Status.setSlaveMode(a.params.slave);break;case VISH.Constant.Event.onPreventDefault:a.params&&"undefined"!=typeof a.params.preventDefaults&&VISH.Status.setPreventDefaultMode(a.params.preventDefaults);break;case VISH.Constant.Event.allowExitWithoutConfirmation:VISH.Editor.allowExitWithoutConfirmation();break;default:VISH.Debugging.log("VISH.Messenger.Proceesor Error: Unrecognized event: "+a.VEevent)}},validateVEMessage:function(a,
b){if("string"!==typeof a)return!1;try{var d=JSON.parse(a);if("object"!==typeof d||!0!==d.vishEditor||!d.VEevent||VISH.Status.getIsInIframe()&&(b&&!1===b.allowSelfMessages)&&d.origin===VISH.Status.getIframe().id)return!1}catch(f){return!1}return!0}}}(VISH,jQuery);VISH.Object=function(b,a){function c(a,b,c){this.wrapper=a;this.source=b;this.type=c}var d=function(b,c){switch(c){case null:return b;case "EMBED":return a(b).attr("src");case "OBJECT":return"undefined"!=typeof a(b).attr("src")?a(b).attr("src"):"undefined"!=typeof a(b).attr("data")?a(b).attr("data"):"source not founded";case "IFRAME":return a(b).attr("src");default:return VISH.Debugging.log("Unrecognized object wrapper: "+c),null}},f=function(a){var b=/(www[.])([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g;
if("string"!=typeof a)return null;if(null!=a.match(/(http(s)?:\/\/)?(((youtu.be\/)([aA-zZ0-9-]+))|((www.youtube.com\/((watch\?v=)|(embed\/)|(v\/)))([aA-z0-9-Z&=.])+))/g))return"youtube";var a=a.split("?")[0],c=a.split(".").pop().toLowerCase();return"-1"!=["jpg","jpeg","png","gif","bmp"].indexOf(c)?"image":"swf"==c?"swf":"pdf"==c?"pdf":"-1"!=["mp4","webm","ogg"].indexOf(c)?"HTML5":null!=a.match(/(http(s)?:\/\/)([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g)||null!=a.match(b)?"web":c};return{init:function(){},
getObjectInfo:function(b){var g=null,l=a(b)[0];"undefined"!=typeof l&&(g=l.tagName);b=d(b,g);l=f(b);return new c(g,b,l)}}}(VISH,jQuery);VISH.ObjectPlayer=function(){var b=function(b){$.each(b.children(".objectelement"),function(d,f){if($(f).hasClass("youtubeelement"))VISH.VideoPlayer.Youtube.loadYoutubeObject(b,f);else if(null!==$(f).attr("objectWrapper").match("^<iframe")&&!1===VISH.Status.getOnline())$(f).html("<img src='"+VISH.ImagesPath+"/advert_new_grey_iframe.png'/>");else{var e=$($(f).attr("objectWrapper"));$(e).attr("style",$(f).attr("zoomInStyle"));$(f).html("<div style='"+$(f).attr("objectStyle")+"'>"+VISH.Utils.getOuterHTML(e)+
"</div>");a($($(f).children()[0]).children()[0])}})},a=function(a){var b=$(a).parent(),f=VISH.Utils.getZoomFromStyle($(a).attr("style"));$(a).height($(b).height()/f);$(a).width($(b).width()/f)};return{loadObject:b,unloadObject:function(a){$.each($(a).children(".objectelement"),function(a,b){$(b).html("")})},aftersetupSize:function(){$(".current").hasClass("object")&&b($(".current"))},adjustDimensionsAfterZoom:a}}(VISH,jQuery);VISH.Police=function(){return{init:function(){},validateObject:function(b,a){if(!b)return[!1,"Object is null or undefined"];if("string"==typeof b&&""==b.trim())return[!1,"Object is an empty string"];var c=VISH.Object.getObjectInfo(b);if(!c)return[!1,"Can't get Object info"];if(!c.source||!c.type)return[!1,"Can't recognize object source"];if(""==c.source.trim())return[!1,"Object source is an empty string"];if("function"==typeof a){var d=function(b){404===b?a([!1,"HTTP 404: Not found"]):a([!0,"Validation Ok"])};
jQuery.ajax({url:c.source,dataType:"text",type:"GET",complete:function(a){"function"===typeof d&&d.apply(this,[a.status])}})}return[!0,"Validation Ok"]},validateFileUpload:function(b){return!b?[!1,"Name is null or undefined"]:""==b.trim()?[!1,"Name is an empty string"]:[!0,"Validation Ok"]}}}(VISH,jQuery);VISH.Presentation=function(b){return{init:function(a){b.Renderer.init();for(var c=0;c<a.length;c++)b.Renderer.renderSlide(a[c]);b.VideoPlayer.HTML5.setVideoEvents();b.SlideManager.addEnterLeaveEvents();a=document.createEvent("Event");a.initEvent("OURDOMContentLoaded",!1,!0);document.dispatchEvent(a)}}}(VISH);VISH.Quiz.API=function(b,a){return{init:function(){},postStartQuizSession:function(c,d,f){if("vish"==VISH.Configuration.getConfiguration().mode)return c={quiz_id:c,authenticity_token:b.User.getToken()},a.ajax({type:"POST",url:"http://"+window.location.host+"/quiz_sessions",data:c,success:function(a){"function"==typeof d&&d(a)},error:function(a){f(a)}}),null;if("noserver"==VISH.Configuration.getConfiguration().mode){b.Debugging.log("No server case");if(12==c)var e="98988";else 13==c&&(e="98955");"function"==
typeof d&&d(e)}},deleteQuizSession:function(c,d,f,e){if("vish"==VISH.Configuration.getConfiguration().mode)return e=e?e:"",e={id:c,authenticity_token:b.User.getToken(),name:e},a.ajax({type:"DELETE",url:"http://"+window.location.host+"/quiz_sessions/"+c,data:e,success:function(a){"function"==typeof d&&d(a)},error:function(a){f(a)}}),null;"noserver"==VISH.Configuration.getConfiguration().mode&&(b.Debugging.log("No server case"),c={quiz_session_id:19,quiz_id:3,results:{b:4,a:2,c:1,d:1}},"function"==
typeof d&&d(c))},putQuizSession:function(c,d,f,e){if("vish"==VISH.Configuration.getConfiguration().mode)return b.Debugging.log("token is: "+b.User.getToken()),c={id:d,option:c,authenticity_token:b.User.getToken()},a.ajax({type:"PUT",url:"http://"+window.location.host+"/quiz_sessions/"+d,data:c,success:function(a){"function"==typeof f&&f(a)},error:function(a){e(a)}}),null;"noserver"==VISH.Configuration.getConfiguration().mode&&(b.Debugging.log("No server case"),"function"==typeof f&&f("123"))},getQuizSessionResults:function(c,
d,f){if("vish"==VISH.Configuration.getConfiguration().mode){var e={id:c,authenticity_token:b.User.getToken()};a.ajax({type:"GET",url:"http://"+window.location.host+"/quiz_sessions/"+c+"/results.json",data:e,success:function(a){"function"==typeof d&&d(a)},error:function(a){f(a)}});return null}"noserver"==VISH.Configuration.getConfiguration().mode&&(b.Debugging.log("No server case: and quiz session get results: "+c),98988==c?e={quiz_session_id:98988,quiz_id:12,results:{b:4,a:2,c:1,d:1}}:98955==c&&(e=
{quiz_session_id:98955,quiz_id:13,results:{b:8,a:4,c:4}}),"function"==typeof d&&d(e))}}}(VISH,jQuery);VISH.Quiz.Renderer=function(b,a){var c=!1;return{init:function(){},renderQuiz:function(d,f,e,g,l){c&&a(".quiz_session_start_button").unbind("click");switch(d){case "multiplechoice":b.Debugging.log("_renderMcQuestion, and quiz choices received is:  "+JSON.stringify(f.options.choices));d="<div id='"+f.id+"' class='"+e+" quiz'>";d=d+"<div class='mcquestion_container'><div class='mcquestion_body'>"+("<div class='value_multiplechoice_question_in_zone question_in_viewer'>"+f.question+"</div>");d+="<form class='mcquestion_form' action='"+
f.posturl+"' method='post'>";d+="<ul class='ul_mch_options_in_zone'>";for(e=0;e<f.options.choices.length;e++)g=String.fromCharCode(97+e),"answer"==VISH.Quiz.getQuizMode()?(d+="<li class='li_mch_options_in_zone'>",d+="<input class='mc_radio' type='radio' name='mc_radio' value='"+g+"'/><span class='quiz_option_index'>"+g+")</span><div class='multiplechoice_option_in_zone multiplechoice_option_in_viewer'>"+f.options.choices[e].container+"</div>"):(d+="<li class='li_mch_options_in_zone'>",d+="<span class='quiz_option_index'>"+
g+")</span><div class='multiplechoice_option_in_zone multiplechoice_option_in_viewer'>"+f.options.choices[e].container+"</div>"),d+="</li>",d+="<div class='mc_meter'><span style='width:0%' >&nbsp;</span></div>",d+="<label class='mcoption_label'></label>";d=d+"</ul>"+("<input type='hidden' value='"+l+"' name='zone' />")+("<input type='hidden' value='"+f.quiz_id+"' name='quiz_id' class='quizId' />");return d+"<div class='mch_inputs_wrapper'><a href='#start_quiz_fancybox' class='quiz_session_start_link' id='launchQuizFancybox'><input type='button' class='quiz_session_start_button' value='Start Quiz'/></a><input type='button' class='quiz_send_vote_button' value='Send'/><input type='button' class='quiz_session_options_button' value='Options'/></div></form></div></div></div>";
case "openQuestion":return f="<form action='"+element.posturl+"' method='post' style='text-align:center;'>",f=f+"<label class='question_name'>Name:  </label><textarea id='pupil_name' rows='1' cols='50' class='question_name_input' placeholder='Write your name here'></textarea>"+("<h2 class='question'> Question: "+element.question+"? </h2>"),f+"<label class='label_question'>Answer: </label><textarea id='question_answer' rows='5' cols='50' class='question_answer' placeholder='Write your answer here'></textarea><button type='button' class='question_button'>Send</button>";
case "truefalsequestion":f=element;l=[];d="<div id='"+f.id+"' class='truefalse_question'>";d=d+"<div class='truefalse_question_container'>"+("<form class='truefalse_question_form' action='"+f.posturl+"' method='post'>");d+="<table id='truefalse_quiz_table_1' class='truefalse_quiz_table'><tr><th>True</th><th>False</th><th> Question </th></tr>";for(e=0;e<f.questions.length;e++)l[e]=f.questions[e].answer,d+="<tr id='tr_question_"+(e+1)+"'>",d+="<td id='td_true_"+(e+1)+"' class='td_true'>",d+="<input type='radio' name='tf_radio_"+
(e+1)+"' value='true' /></td>",d+="<td id='td_false_"+(e+1)+"' class='td_false' >",d+="<input type='radio' name='tf_radio_"+(e+1)+"' value='false'/></td>",d+="<td id='td_question_"+(e+1)+"' class='true_false_question_txt'><label>"+f.questions[e].text_question+"?</label></td>",d+="</tr>";d+="</table><input type='button' class='tfquestion_button' value='Send'/></form></div>";trueFalseAnswers=l;asnswers=[];VISH.Debugging.log("JSON object answer is: "+trueFalseAnswers);return d}},setIsQuizInPreview:function(a){c=
a}}}(VISH,jQuery);VISH.Renderer.Filter=function(){return{init:function(){},allowElement:function(b){var a=VISH.Status.getDevice();if(a.desktop)switch(b.type){case "applet":return!1}else if(a.mobile||a.tablet)switch(b.type){case "object":b=VISH.Object.getObjectInfo(b.body);if("swf"==b.type)return!1;if("youtube"==b.type)break;break;case "applet":return!1}return!0},renderContentFiltered:function(b,a){return"<div id='"+b.id+"' class='contentfiltered "+a+"_"+b.areaid+"'><img class='"+a+"_image' src='"+VISH.ImagesPath+"advert_new_grey.png'/></div>"}}}(VISH,
jQuery);VISH.SlideManager=function(b,a){var c,d=null,f={},e,g="presentation",l=function(){if(!VISH.Status.isSlaveMode()){var a=b.Status.getIsInIframe()?parent.document:document,c=VISH.Status.getIsInIframe()?VISH.Status.getIframe():a.getElementById("presentation_iframe");a.fullScreenElement&&null!==a.fullScreenElement||!a.mozFullScreen&&!a.webkitIsFullScreen?a.documentElement.requestFullScreen?c.requestFullScreen():a.documentElement.mozRequestFullScreen?c.mozRequestFullScreen():a.documentElement.webkitRequestFullScreen&&
c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.cancelFullScreen?a.cancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()}},h=function(c){b.ViewerAdapter.decideIfPageSwitcher();setTimeout(function(){a(c.target).hasClass("object")?b.ObjectPlayer.loadObject(a(c.target)):a(c.target).hasClass("applet")?b.AppletPlayer.loadApplet(a(c.target)):a(c.target).hasClass("snapshot")&&b.SnapshotPlayer.loadSnapshot(a(c.target))},500);b.VideoPlayer.HTML5.playVideos(c.target);
(a(c.target).hasClass("flashcard_slide")||a(c.target).hasClass("virtualTour_slide"))&&a("#forward_arrow").css("top","15%");a(c.target).hasClass("flashcard_slide")&&b.Flashcard.startAnimation(c.target.id)},n=function(c){b.VideoPlayer.HTML5.stopVideos(c.target);b.ObjectPlayer.unloadObject(c.target);b.AppletPlayer.unloadApplet();(a(c.target).hasClass("flashcard_slide")||a(c.target).hasClass("virtualTour_slide"))&&a("#forward_arrow").css("top","0%");a(c.target).hasClass("flashcard_slide")&&b.Flashcard.stopAnimation(c.target.id)},
o=function(a){a||(a=VISH.Constant.STANDARD);g=a};return{init:function(f,g){VISH.Debugging.init(f);VISH.Editing=!1;c=f?f:{};f&&(f.configuration&&VISH.Configuration)&&VISH.Configuration.init(f.configuration);VISH.Debugging.isDevelopping()&&"noserver"==f.configuration.mode&&(!g&&null!=VISH.Debugging.getPresentationSamples())&&(g=VISH.Debugging.getPresentationSamples());VISH.Debugging.log("\n\nSlideManager.init with presentation:\n");VISH.Debugging.log(JSON.stringify(g));e=g;o(g.type);b.Quiz.init(g);
b.Flashcard.init();b.Renderer.init();b.Slides.init();b.Status.init();b.Utils.loadDeviceCSS();b.User.init(f);b.Utils.init();switch(g.type){case VISH.Constant.GAME:VISH.ViewerAdapter.setupGame(g);VISH.Game.registerActions(g);break;case VISH.Constant.VTOUR:VISH.VirtualTour.init()}b.Events.init();b.EventsNotifier.init();b.VideoPlayer.init();b.Themes.selectTheme(g.theme);d=g.slides;b.Presentation.init(d);b.ViewerAdapter.init();b.Quiz.prepareQuiz(g);f.addons&&VISH.Addons.init(f.addons);f&&f.preview&&a("div#viewerpreview").show();
!b.Status.getDevice().desktop&&(!VISH.Status.getIsInIframe()&&f&&f.comeBackUrl)&&a("button#closeButton").show();if(!0===f.full&&!b.Status.getIsInIframe()||!0===f.forcefull)a("#page-fullscreen").hide(),b.ViewerAdapter.setupElements(),b.ViewerAdapter.setupSize(!0),b.ViewerAdapter.decideIfPageSwitcher();else if(b.Status.getDevice().desktop&&f&&!f.preview){var h=b.Status.getDevice().features.fullscreen&&b.Status.getIsInIframe()?parent.document:document;a(document).on("click","#page-fullscreen",l);a(h).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",
function(){b.ViewerAdapter.setupElements();setTimeout(function(){b.ViewerAdapter.setupSize(!0);b.ViewerAdapter.decideIfPageSwitcher()},400)})}else a("#page-fullscreen").hide()},getStatus:function(a){f[a]||(f[a]={id:a,poiFrameNumber:0,drawingPoi:0});return f[a]},updateStatus:function(a,b){f[a]=b},addEnterLeaveEvents:function(){a("article").live("slideenter",h);a("article").live("slideleave",n)},toggleFullScreen:l,getOptions:function(){return c},updateSlideCounter:function(){var c=b.Slides.getSlides().length,
d=VISH.Slides.getCurrentSlideNumber();0===c&&(d=0);a("#slide-counter").html(d+"/"+c)},getCurrentPresentation:function(){return e},getPresentationType:function(){return g},setPresentationType:o}}(VISH,jQuery);VISH.SnapshotPlayer=function(){return{loadSnapshot:function(b){$.each(b.children(".snapshotelement"),function(a,b){var d=$(b).attr("objectWrapper");if(!1===VISH.Status.getOnline())$(b).html("<img src='"+VISH.ImagesPath+"advert_new_grey_iframe.png'/>");else{d=$(VISH.Utils.getOuterHTML($(d)));$(d).removeClass();$(d).addClass("snapshot_content_viewer");var f=$(b).attr("scrollTop"),e=$(b).attr("scrollLeft");$(b).html("<div class='snapshot_wrapper_viewer' style='"+$(b).attr("objectStyle")+"'>"+VISH.Utils.getOuterHTML(d)+
"</div>");$(b).attr("zoom")&&$(b).find(".snapshot_content_viewer").attr("style",VISH.Utils.getZoomInStyle($(b).attr("zoom")));$(b).find(".snapshot_wrapper_viewer").scrollTop(f);$(b).find(".snapshot_wrapper_viewer").scrollLeft(e)}})},unloadSnapshot:function(){var b=$(".past, .next");$.each(b.children(".snapshotelement"),function(a,b){$(b).html("")})},aftersetupSize:function(b){$.each($(".snapshot_content_viewer"),function(a,c){var d=$(c).parent().parent(),f=$(c).parent();$(d).attr("zoom",b);$(c).attr("style",
VISH.Utils.getZoomInStyle(b));var e=$(d).attr("scrollLeftOrigin")*b,g=$(d).attr("scrollTopOrigin")*b;$(d).attr("scrollLeft",e);$(d).attr("scrollTop",g);$(f).scrollLeft(e);$(f).scrollTop(g)})}}}(VISH,jQuery);VISH.Themes=function(b,a){return{selectTheme:function(c){var d=c;d||(d="theme1");var f="(^"+VISH.StylesheetsPath+"themes/)";a("head").find("link[type='text/css']").each(function(b,c){var d=a(c).attr("href");d&&null!==d.match(f)&&a(c).remove()});b.Utils.loadCSS("themes/"+d+".css");b.Editing&&((d=VISH.Editor.getPresentation())||(d={}),d.theme=c,VISH.Editor.setPresentation(d),a.fancybox.close())}}}(VISH,jQuery);VISH.User=function(){var b;return{init:function(a){b={};a.username&&(b.username=a.username);a.userId&&(b.id=a.userId);a.token&&(b.token=a.token)},isLogged:function(){return b&&b.token?"string"==typeof b.token:!1},getUser:function(){return b?b:null},getName:function(){return b&&b.username?b.username:null},getId:function(){return b&&b.id?b.id:null},getToken:function(){return b&&b.token?b.token:null}}}(VISH,jQuery);VISH.Utils.canvas=function(b){var a=function(a,d,f,e,g,l){d-=1;f-=1;e+=2;g+=2;l="text"===l?b.Utils.loader.getImage(VISH.ImagesPath+"corner_small_text.png"):300<e&&300<g?b.Utils.loader.getImage(VISH.ImagesPath+"corner.png"):b.Utils.loader.getImage(VISH.ImagesPath+"corner_small.png");a.save();a.drawImage(l,d,f);a.translate(d+e,f);a.rotate(Math.PI/2);a.drawImage(l,0,0);a.restore();a.save();a.translate(d+e,f+g);a.rotate(Math.PI);a.drawImage(l,0,0);a.restore();a.save();a.translate(d,f+g);a.rotate(3*Math.PI/
2);a.drawImage(l,0,0);a.restore()};return{drawImageWithAspectRatioAndRoundedCorners:function(b,d,f,e,g,l){var h,n,o;d.constructor===Image||d.constructor==HTMLImageElement?(h=d.width/d.height,n=g*d.height/d.width,o=l*d.width/d.height):(h=d.videoWidth/d.videoHeight,n=g*d.videoHeight/d.videoWidth,o=l*d.videoWidth/d.videoHeight);h>g/l?(e=e+l/2-n/2,l=n):(f=f+g/2-o/2,g=o);b.drawImage(d,f,e,g,l);a(b,f,e,g,l)},drawImageWithAspectRatio:function(a,b,f,e,g,l){var h,n,o;b.constructor===Image||b.constructor==
HTMLImageElement?(h=b.width/b.height,n=g*b.height/b.width,o=l*b.width/b.height):(h=b.videoWidth/b.videoHeight,n=g*b.videoHeight/b.videoWidth,o=l*b.videoWidth/b.videoHeight);h>g/l?(e=e+l/2-n/2,l=n):(f=f+g/2-o/2,g=o);a.drawImage(b,f,e,g,l)},drawRoundedCorners:a}}(VISH);VISH.Utils.loader=function(){var b={},a={},c=function(a,b,c){$.each(a,function(g,l){if(c&&c[a.indexOf(l)]){var h=c[a.indexOf(l)],n=VISH.Slides.getSlideWithNumber(h).id,o="poi"+h;$("#"+b).append("<div><div class='draggable_arrow_div' slide_id='"+n+"' id='"+o+"'><img src='"+VISH.ImagesPath+"flashcard_button.png'  class='fc_draggable_arrow'/><p class='draggable_number'>"+h+"</p></div><p slidenumber='"+h+"' action='goToSlide'>"+h+"</p>"+VISH.Utils.getOuterHTML(l)+"</div>")}else $("#"+b).append("<div>"+
VISH.Utils.getOuterHTML(l)+"</div>")})};return{getImage:function(b){if(a[b])return a[b];VISH.Debugging.log("Error, Image with path "+b+" was not preloaded");return null},getVideo:function(a){if(b[a])return b[a];VISH.Debugging.log("Error, Video with path "+a+" was not preloaded");return null},loadImage:function(b){var c,e;c=$.Deferred();e=new Image;e.onload=function(){c.resolve()};e.src=b;a[b]=e;return c.promise()},loadVideo:function(a,c){var e,g;e=$.Deferred();g=document.createElement("video");g.setAttribute("id",
"video"+c);g.setAttribute("style","display:none");g.setAttribute("preload","auto");g.setAttribute("src",a);document.body.appendChild(g);g.addEventListener("loadedmetadata",function(){e.resolve()},!1);b[a]=g;return e.promise()},loadImagesOnCarrousel:function(a,b,c,g){var l=a.length,h=0;$.each(a,function(n,o){$(o).load(function(){g&&g[a.indexOf(o)]?$("#"+c).append("<div><p>"+g[a.indexOf(o)]+"</p>"+VISH.Utils.getOuterHTML(o)+"</div>"):$("#"+c).append("<div>"+VISH.Utils.getOuterHTML(o)+"</div>");h+=1;
h==l&&b()});$(o).error(function(){h+=1;h==l&&b()})})},loadImagesOnCarrouselOrder:function(a,b,e,g){var l=a.length,h=0;$.each(a,function(n,o){$(o).load(function(){h+=1;h==l&&(c(a,e,g),b())});$(o).error(function(){h+=1;a.splice(a.indexOf(o),1);h==l&&(c(a,e,g),b())})})}}}(VISH);VISH.Utils.text=function(){return{getLines:function(b,a,c,d){var a=a.split(" "),f=[],e="",g=0,l=0,h=0;b.font=d;for(l=0;l<a.length;l++)if(h=a[l],g=b.measureText(e+h).width,g<c?e+=" "+h:(f.push(e),e=h),l===a.length-1){f.push(e);break}return f}}}(VISH);VISH.VideoPlayer.CustomPlayer=function(){var b=function(a,b){$(a).find("div.customPlayerButton").css("background-size",100*b+"%")},a=function(a){var a=$(a).parent(),b=$(a).find("div.customPlayerControls"),g=$(a).parent().find("div.customPlayerProgressBar");$(b).bind("click",c);$(a).bind("mouseenter",d);$(a).bind("mouseleave",f);$(g).bind("click",e)},c=function(a){a.preventDefault();a=$(this).parent().children()[0];if(!VISH.Status.isSlaveMode())switch($(a).attr("customPlayerStatus")){case "ready":case "pause":VISH.Status.isPreventDefaultMode()||
g(a);VISH.VideoPlayer.playVideo(a.id,null,!0);break;case "playing":VISH.Status.isPreventDefaultMode()||l(a),VISH.VideoPlayer.pauseVideo(a.id,null,!0)}},d=function(a){a=$(a.target).parent().children()[0];"ready"!==$(a).attr("customPlayerStatus")&&(a=$(a).parent().find("div.customPlayerProgressBar"),$(a).show())},f=function(a){a=$(a.target).parent().find("div.customPlayerProgressBar");$(a).hide()},e=function(a){if(!VISH.Status.isSlaveMode()){if($(a.target).hasClass("customPlayerProgressBar"))var b=
a.target,c=$(b).find("div.progressBarElapsed")[0];else if($(a.target).hasClass("progressBarElapsed"))c=a.target,b=$(c).parent();else return;a.preventDefault();a.stopPropagation();c=$(b).parent().children()[0];a=(a.pageX-$(b).offset().left)/$(b).outerWidth();a=Math.round(VISH.VideoPlayer.getDuration(c)*a);VISH.VideoPlayer.seekVideo(c.id,a,!0)}},g=function(a){var b=$(a).parent().find("div.progressBarElapsed"),c=setInterval(function(){try{var d=100*(VISH.VideoPlayer.getCurrentTime(a)/VISH.VideoPlayer.getDuration(a));
$(b).width(d+"%");100===d&&clearTimeout(c)}catch(e){clearTimeout(c)}},400),d=$(a).parent().find("div.customPlayerControls").find("div"),e=$(a).parent().find("div.customPlayerProgressBar");$(d).removeClass().addClass("customPlayerButton customPlayerPause");$(d).hide();$(a).attr("customPlayerStatus","playing");$(e).show()},l=function(a){var b=$(a).parent().find("div.customPlayerControls").find("div");$(b).removeClass().addClass("customPlayerButton customPlayerPlay");$(b).show();$(a).attr("customPlayerStatus",
"pause")};return{init:function(){},addCustomPlayerControls:function(c,d){var e=document.getElementById(c),f=$("<div class='customPlayerContainer'>");$(e).parent().append(f);$(e).remove();$(f).append(e);$(f).append($("<div class='customPlayerControls'><div class='customPlayerButton customPlayerPlay'></div></div>"));$(f).append($("<div class='customPlayerProgressBar'><div class='progressBarElapsed'></div></div>"));var g=$(f).find("div.customPlayerControls");$(f).attr("style",$(e).attr("style"));$(e).attr("style",
"width:100%; height:100%;");$(g).attr("style","width: 100%; height:100%;");var f=$(g).width(),l=$(g).height(),q=0.5*f;q>l?b(g,l/f):70>q?b(g,Math.min(1,70/f)):b(g,0.5);$(e).attr("customPlayerStatus","ready");d&&a(e)},loadCustomPlayerControlEvents:a,onPlayVideo:g,onPauseVideo:l,onEndVideo:function(a){$(a).attr("customPlayerStatus","pause");a=$(a).parent().find("div.customPlayerControls").find("div");$(a).removeClass().addClass("customPlayerButton customPlayerReplay");$(a).show()}}}(VISH,jQuery);VISH.VideoPlayer.HTML5=function(){var b=!0,a=!0,c=!0;return{init:function(){},setVideoEvents:function(){var d=$("video");$.each(d,function(d,e){e.addEventListener("play",function(){var a={type:"HTML5"};a.videoId=e.id;a.currentTime=e.currentTime;a.slideNumber=VISH.Slides.getCurrentSlideNumber();VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onPlayVideo,a,b);b=!0},!1);e.addEventListener("pause",function(){var b={type:"HTML5"};b.videoId=e.id;b.currentTime=e.currentTime;b.slideNumber=VISH.Slides.getCurrentSlideNumber();
VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onPauseVideo,b,a);a=!0},!1);e.addEventListener("ended",function(){},!1);e.addEventListener("error",function(){},!1);e.addEventListener("seeked",function(){var a={type:"HTML5"};a.videoId=e.id;a.currentTime=e.currentTime;a.slideNumber=VISH.Slides.getCurrentSlideNumber();VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onSeekVideo,a,c);c=!0},!1);$(e).focus(function(){this.blur()})})},playVideos:function(a){a=$(a).find("video");$.each(a,function(a,
b){"true"==$(b).attr("wasplayingonslideleave")?b.play():"false"!=$(b).attr("wasplayingonslideleave")&&"undefined"==typeof $(b).attr("wasplayingonslideleave")&&"true"==$(b).attr("autoplayonslideenter")&&b.play()})},stopVideos:function(a){a=$(a).find("video");$.each(a,function(a,b){var c=!b.paused;$(b).attr("wasplayingonslideleave",c);c&&b.pause()})},playVideo:function(a,f){var e=$("#"+a)[0];"number"===typeof f&&e.currentTime!==f&&(c=!1,e.currentTime=f);e.paused&&(b=!1,e.play())},pauseVideo:function(b,
f){var e=$("#"+b)[0];"number"===typeof f&&e.currentTime!==f&&(c=!1,e.currentTime=f);e.paused||(a=!1,e.pause())},seekVideo:function(a,b){var e=$("#"+a)[0];"number"===typeof b&&e.currentTime!==b&&(c=!1,e.currentTime=b)},showControls:function(a){var b=$("video");$.each(b,function(b,c){a?$(c).attr("controls",!0):$(c).removeAttr("controls")})}}}(VISH,jQuery);var youtubePlayers={},YT=YT||{};YT.PlayerState=YT.PlayerState||{};YT.PlayerState.UNSTARTED=-1;YT.PlayerState.ENDED=0;YT.PlayerState.PLAYING=1;YT.PlayerState.PAUSED=2;YT.PlayerState.BUFFERING=3;YT.PlayerState.CUED=5;function onYouTubeIframeAPIReady(){}
VISH.VideoPlayer.Youtube=function(){var b=function(){},a=function(a){var b=a.data,a=a.target.getIframe();switch(b){case -1:VISH.VideoPlayer.CustomPlayer.loadCustomPlayerControlEvents(a);break;case 0:VISH.VideoPlayer.CustomPlayer.onEndVideo(a);break;case 1:VISH.VideoPlayer.CustomPlayer.onPlayVideo(a);break;case 2:VISH.VideoPlayer.CustomPlayer.onPauseVideo(a)}},c=function(a){VISH.Debugging.log("onPlayerError with error type "+a.data)},d=function(a,b,c,d){if("number"===typeof c&&a.getCurrentTime()!==
c){var f={};f.videoId=b;f.currentTime=c;f.slideNumber=VISH.Slides.getCurrentSlideNumber();d&&VISH.Status.isPreventDefaultMode()?VISH.Messenger.notifyEventByMessage(VISH.Constant.Event.onSeekVideo,f):(VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onSeekVideo,f,d),a.seekTo(c))}},f=function(a){var b=null;if(!a)return b;var c=/https?:\/\/?youtu.be\/([aA-zZ0-9-]+)/g,d=/(https?:\/\/)?(www.youtube.com\/watch\?v=|embed\/)([aA-zZ0-9-]+)[&=.]*/g,f=/(https?:\/\/)?(www.youtube.com\/v\/)([aA-zZ0-9-]+)/g,
o=/(https?:\/\/)?(www.youtube.com\/embed\/)([aA-zZ0-9-]+)/g;if(null!=a.match(c))return(a=c.exec(a))&&a[1]&&(b=a[1]),b;if(null!=a.match(d))return a.split("&"),(a=d.exec(a))&&a[3]&&(b=a[3]),b;if(null!=a.match(f))return a.split("&"),(a=f.exec(a))&&a[3]&&(b=a[3]),b;null!=a.match(o)&&(a.split("&"),(a=o.exec(a))&&a[3]&&(b=a[3]));return b};return{init:function(){},loadYoutubeObject:function(d,g){if(!1===VISH.Status.getOnline())$(g).html("<img src='"+VISH.ImagesPath+"advert_new_grey_video2.png'/>");else{var l;
l=window.YT?!0:!1;if(l&&(l=f($(g).attr("source")),null!==l)){var h=$(g).attr("ytContainerId");$(g).html("<div id='"+h+"' style='"+$(g).attr("objectStyle")+"'></div>");youtubePlayers[h]=new YT.Player(h,{height:"100%",width:"100%",videoId:l,playerVars:{autoplay:0,controls:0,enablejsapi:1,showinfo:0,wmode:"opaque",rel:0},events:{onReady:b,onStateChange:a,onError:c}});VISH.VideoPlayer.CustomPlayer.addCustomPlayerControls(h,!1)}}},onPlayerReady:b,onPlayerStateChange:a,playVideo:function(a,b,c){var f=youtubePlayers[a];
if(f&&f.getPlayerState){var n={};n.videoId=a;n.currentTime=f.getCurrentTime();n.slideNumber=VISH.Slides.getCurrentSlideNumber();c&&VISH.Status.isPreventDefaultMode()?VISH.Messenger.notifyEventByMessage(VISH.Constant.Event.onPlayVideo,n):(VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onPlayVideo,n,c),d(f,a,b,!1),f.getPlayerState()!==YT.PlayerState.PLAYING&&f.playVideo())}},pauseVideo:function(a,b,c){var f=youtubePlayers[a];if(f&&f.getPlayerState){var n={};n.videoId=a;n.currentTime=f.getCurrentTime();
n.slideNumber=VISH.Slides.getCurrentSlideNumber();c&&VISH.Status.isPreventDefaultMode()?VISH.Messenger.notifyEventByMessage(VISH.Constant.Event.onPauseVideo,n):(VISH.EventsNotifier.notifyEvent(VISH.Constant.Event.onPauseVideo,n,c),f.getPlayerState()===YT.PlayerState.PLAYING&&f.pauseVideo(),d(f,a,b,!1))}},seekVideo:function(a,b,c){var f=youtubePlayers[a];f&&f.getPlayerState&&d(f,a,b,c)},getYoutubeIdFromURL:f}}(VISH,jQuery);VISH.ViewerAdapter=function(b,a){var c=!1,d=function(d){var f,l,h;b.Status.getDevice().mobile?h=l=f=0:d&&!c?(c=!0,h=l=f=0):(c=!1,f=1<VISH.Slides.getSlidesQuantity()?40:0,l=40,h=30);var n=a(window).height()-f,o=a(window).width(),m=800,d=600,p=4/3;o/n>p?(d=n-l,m=d*p):(m=o-h,d=m/p);a(".slides > article").css("height",d);a(".slides > article").css("width",m);a(".subslide").css("height",d);a(".subslide").css("width",m);f=d/2+f/2;m/=2;a(".slides > article").css("margin-top","-"+f+"px");a(".slides > article").css("margin-left",
"-"+m+"px");a(".subslide").css("margin-top","-"+d/2+"px");a(".subslide").css("margin-left","-"+m+"px");d/=600;m=b.Status.getDevice().mobile?15:16;a(".slides > article").css("font-size",m*d+"px");a(".slides > article").css("line-height",m*d+"px");a(".subslide").css("font-size",m*d+"px");a(".subslide").css("line-height",m*d+"px");a(".fc_poi img").css("width",50*d+"px");a(".fc_poi img").css("height",50*d+"px");0===a("#fancy_content:empty").length&&(a("#fancybox-inner").width("80%"),a("#fancybox-wrap").width("80%"),
a("#fancybox-inner").height("80%"),a("#fancybox-wrap").height("80%"),a("#fancybox-wrap").css("top","10%"),a("#fancybox-wrap").css("left","10%"));VISH.SnapshotPlayer.aftersetupSize(d);VISH.ObjectPlayer.aftersetupSize(d)},f=function(b){b?a("#viewbar").hide():1<VISH.Slides.getSlidesQuantity()?a("#viewbar").show():a("#viewbar").hide()};return{init:function(){b.Status.getDevice().desktop?(a("#back_arrow").html(""),a("#forward_arrow").html(""),1<VISH.Slides.getSlidesQuantity()?(a("#viewbar").show(),VISH.SlideManager.updateSlideCounter()):
a("#viewbar").hide()):a("#viewbar").hide();d(!1)},decideIfPageSwitcher:function(){VISH.Slides.isCurrentFirstSlide()?a("#back_arrow").hide():a("#back_arrow").show();VISH.Slides.isCurrentLastSlide()?a("#forward_arrow").hide():a("#forward_arrow").show();!c&&!b.Status.getDevice().mobile&&(VISH.Slides.isCurrentFirstSlide()?a("#page-switcher-start").hide():a("#page-switcher-start").show(),VISH.Slides.isCurrentLastSlide()?a("#page-switcher-end").hide():a("#page-switcher-end").show())},setupElements:function(){c?
(a("#page-fullscreen").css("background-position","0px 0px"),a("#page-fullscreen").hover(function(){a("#page-fullscreen").css("background-position","0px -40px")},function(){a("#page-fullscreen").css("background-position","0px 0px")}),f(!1)):(a("#page-fullscreen").css("background-position","-45px 0px"),a("#page-fullscreen").hover(function(){a("#page-fullscreen").css("background-position","-45px -40px")},function(){a("#page-fullscreen").css("background-position","-45px 0px")}),f(!0))},setupGame:function(b){a("#my_game_iframe").attr("src",
b.game.src);b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href","stylesheets/game/game.css");document.getElementsByTagName("body")[0].appendChild(b)},setupSize:d}}(VISH,jQuery);VISH.VirtualTour=function(b,a){var c;return{init:function(){c=[]},drawMap:function(d){if(!d.type!==VISH.Constant.VTOUR){b.Debugging.log("drawMap : "+JSON.stringify(d));var f="canvas_"+d.id,e=a("<div id='"+f+"' class='map_canvas' style='height:100%; width:100%'></div>");a("#"+d.id).append(e);e=new google.maps.LatLng(d.center.lat,d.center.lng);e={zoom:d.zoom,center:e,mapTypeId:d.mapType};"undefined"===typeof c[d.id]&&(c[d.id]={},c[d.id].pois=[],c[d.id].paths=[]);c[d.id].map=new google.maps.Map(document.getElementById(f),
e);a(d.pois).each(function(a,e){c[d.id].pois[e.id]=e;var f=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.Marker({position:f,map:c[d.id].map,draggable:false,poi_id:e.id,title:"("+f.lat()+","+f.lng()+")"});google.maps.event.addListener(n,"click",function(){var a;a=n.poi_id;a=typeof c[d.id]!=="undefined"&&typeof c[d.id].pois[a]!=="undefined"?c[d.id].pois[a]:void 0;b.Slides.showFlashcardSlide(a.slide_id,true)})})}}}}(VISH,jQuery);
