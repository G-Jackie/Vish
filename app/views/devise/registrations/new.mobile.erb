<div class="container-logs">
  <section id="">
    <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>

      <article class="row-fluid">
        <div class="span12 box_basic">

          <div class="span12 border_bottom ">
              <label class="span3 text_imput_center" for="name"><%= f.label :name %></label>
              <%= f.text_field :name, :class => "span9 input_nude", :id => "name", :placeholder => "Insert Name" %>
          </div>


          <div class="span12 border_bottom ">
            <label class="span3 text_imput_center" for="email"><%= f.label :email %></label>
            <%= f.text_field :email, :class => "span8 input_nude", :id => "email", :placeholder => "email@example.com"  %>
          </div>


          <div class="span12 border_bottom ">
            <label class="span3 text_imput_center" for="password"><%= f.label :password %></label>
            <%= f.password_field :password, :class => "span8 input_nude text_imput_center", :id => "password", :placeholder => "********" %>
          </div>

          <div class="span12 border_bottom ">
            <label class="span3 text_imput_center" for="password"><%= f.label :password_confirmation %></label>
            <%= f.password_field :password, :class => "span8 input_nude text_imput_center", :id => "password_confirmation", :placeholder => "********" %>
          </div>




          <!-- Tags -->
          <!-- Preload tags -->
          <%@tags = ActivityObject.tag_counts(:limit => 100, :order => "count desc")%>
          <ul id="preloadTagList" style="display:none">
            <%@tags.each do |tag| %>
              <li><%=tag.name%></li>
            <%end%>
          </ul>


            <label class="span3 text_imput_center" for="tags"><%= t('activerecord.attributes.user.tag') %></label>
            <div class="controls">

              <div class="tagBoxNew span8 ">
                <%= f.hidden_field :tag_list, :class => "form_tag span8", :id => "input_tag_list "%>


                <div class="tagList span8 margin-top10 "></div>
              </div>


            </div>














          </div>
          <div class="span11">
            <ul class="span7 pull-left">
              <li>language</li>
              <li class="blue-cake"><%= link_to t('conditions.check_message_1'), '/legal_notice', :target => '_blank' %></li>
              <li>virtual science hub 2012</li>
            </ul>
          </div>
          <div class="space">
          </div>
        </div>
        <div class="span11 follow-button size20"><%= f.submit t('action.accept').capitalize %>
        </div>

      </article>
    <% end %>
  </section>
</div>

<%= content_for :javascript do %>
  $(document).ready(function() {
  var tagList = $(".tagList ");
  var tags = [];

  //Load tags
  $.each($("#preloadTagList li"), function(index, element) {
  tags.push($(element).html());
  });

  $(tagList).tagit({tagSource:tags, sortable:true, maxLength:15, maxTags:8 ,
  watermarkAllowMessage: '<%= t('document.info.tags.addMessage').downcase %>', watermarkDenyMessage: '<%= t('document.info.tags.limitMessage') %>' ,
  tagsChanged:function (tag, action) {
  //Check if the element popped is a suggestion
  if(action=="popped"){
  $.each($(".tagit-suggestions li"), function(index, element) {
  if($(element).html()==tag){
  $(element).show();
  }
  });
  }
  }
  });

  //Allow suggestions
  $(".tagit-suggestions li").on("click", function(){
  var result = $(".tagit").tagit('add', $(this).html() );
  if(result==true){
  $(this).hide();
  }
  });

  //Fill tag_list hidden input before send
  var button = $("#submit_new_user_button");
  $(button).click(function(event) {
  var tagList = $(".tagList");
  $("#input_tag_list").val(Vish.Utils.convertToTagsArray($(tagList).tagit("tags")));
  return true;
  });

  });
<% end %>

