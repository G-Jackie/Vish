<div id="categories_tab_ready" class="categories cat_container_generic">
	<% if profile_subject_is_current? %>
	<div class="toolbar_nav-tab">
 		<button type="button" class="btn btn-primary btn-for-categorize" data-toggle="button"><i class="icon-move"></i>Place your categories</button>
 	</div>
  <%= render partial: 'categories/edit_categories', :locals => { :scope => scope} %>
	<% end	%>
  <ul class="categories"> 	
    <% if profile_subject_is_current? %>
      <%= render partial: 'categories/category-add' %>
      <%= render partial: 'categories/category_fav' %>
    <% end %>
    
    <%= render partial: 'categories/categories', :locals => { :scope => scope, :limit => limit, :page => page, :sort_by=> params[:sort_by]||"updated_at"} %>
    
  </ul>
  
</div>

<script>

Array.prototype.equals = function (array) {
    // if the other array is a falsy value, return
    if (!array)
        return false;

    // compare lengths - can save a lot of time 
    if (this.length != array.length)
        return false;

    for (var i = 0, l=this.length; i < l; i++) {
        // Check if we have nested arrays
        if (this[i] instanceof Array && array[i] instanceof Array) {
            // recurse into the nested arrays
            if (!this[i].equals(array[i]))
                return false;       
        }           
        else if (this[i] != array[i]) { 
            // Warning - two different object instances will never be equal: {x:20} != {x:20}
            return false;   
        }           
    }       
    return true;
}

var beginIndex;
//Let the overlay appear
$(document).ready(function(){
	$(".btn-for-categorize").click(function(){
		$("#categories_edition").fadeIn();
    beginIndex = getidArray();
  });
});


</script>
