<%= stylesheet_link_tag "vasearch" %>
<%= javascript_include_tag "vasearch" %>
<script type="text/javascript">
  $(document).ready(function(){
    VASearch.init();
  });
</script>

<div id="asearch_header">
  <div class="search">
    <input class="asearch_box search_input" type="text" placeholder="Search educational resources" autocomplete="off">
    <button class="toolbar_button search_button">
      <img class="search_button_img" src="/assets/asearch/search.png">
    </button>
    <button class="toolbar_button settings_button">
      <img class="settings_button_img" src="/assets/asearch/settings.png">
    </button>
  </div>
</div>

<div id="asearch_results">
</div>

<div id="asearch_settings">
  <div class="settingsColumn">
    <p class="settingsTitle">Select Entities to search</p>
    <select multiple class="entity_types">
      <option selected="selected" value="Resource">All Resources</option>
      <% VishConfig.getAllModelsIncludingFixedModels.sort.each do |model| %>
        <option value="<%=model%>"><%=t("asearch.models.#{model}")%></option>
      <% end %>
    </select>
  </div>

  <div class="settingsColumn">
    <p class="settingsTitle">Sorting</p>
    <select asparam="sort_by">
      <option selected="selected" value="Relevance">Relevance</option>
      <option value="ranking">Ranking</option>
      <option value="popularity">Popularity</option>
      <option value="modification">Modification</option>
      <option value="creation">Creation</option>
      <option value="visits">Visits</option>
      <option value="favorites">Favorites</option>
      <option value="quality">Quality</option>
    </select>
    <p class="settingsTitleSec">Filters</p>
    <p class="settingsField" style="margin-top: 9px !important;">Date</p>
    <div class="dateWrapper">
      <div>
        <p>Start Date</p>
        <input type="date" asparam="startDate" name="startDate">
      </div>
      <div>
        <p>End Date</p>
        <input type="date" asparam="endDate" name="endDate">
      </div>
    </div>
    <p class="settingsField">Language</p>
    <select asparam="language">
      <option selected="selected" value="">Any</option>
      <% resource_languages.each do |lang| %>
        <option value="<%=lang[1]%>"><%=lang[0]%></option>
      <% end %>
    </select>
    <p class="settingsField" style="margin-top: 23px !important;"><span>Quality Threshold (0-10): &nbsp;</span><span asparam="rangeValue">5.0</span></p>
    <input asparam="qualityThreshold" type="range" min="0" max="10" step="0.1" value="5"/>
  </div>

  <div class="settingsColumn">
    <p class="settingsTitle">ViSH Instances <span class="closeASearchSettings">close</span></p>

    <p class="settingsField">Results per instance</p>
    <select asparam="n">
      <option value="1">1</option>
      <option value="5">5</option>
      <option value="10">10</option>
      <option selected="selected" value="20">20</option>
      <option value="50">50</option>
      <option value="100">100</option>
    </select>

    <p class="settingsField">ViSH Instances</p>
    <div class="ViSHinstances">
      <div class="addInstanceInputWrapper">
        <input type="text" class="addInstanceInput" placeholder="Add Instance"><span class="addInstanceButton" title="add">[Add]</span>
      </div>
      <ul>
        <% VishConfig.getViSHInstances.each do |instance| %>
          <li>
            <input type="checkbox" checked="checked"></input>&nbsp;
              <span><%=instance%></span>
          </li>
        <% end %>
      </ul>
    </div>
  </div>

</div>