<% @search_result.each do |r| %>
  <% unless r.nil? %>
    <%= render partial: "#{ r.class.to_s.tableize }/search_result",
               locals:  { r.class.to_s.underscore.to_sym => r }  %>
  <%end%>
<% end %>


  <script>
    var elem = {};

    <% @search_result.each do |result| %>
      <% unless result.nil? %>
        <%if result.respond_to?(:type) && result.type =="Picture"%>
          elem = {};
          elem.id = "#document-<%=result.id%>";
          elem.value = "<%=result.file%>?style=500";
          array_of_id_and_image.push(elem);
        <%end%>
        <% if result.class == Excursion %>
          elem = {};
          elem.id = "#excursion-<%=result.id%>";
          elem.value = "<%=excursion_raw_thumbail(result)%>";
          array_of_id_and_image.push(elem); 
        <%end%>
        <% if result.class == Event %>
          elem = {};
          elem.id = "#event-<%=result.id%>";
          elem.value = "<%=event_raw_thumbail(result)%>";
          array_of_id_and_image.push(elem); 
        <%end%>
      <%end%>
    <% end %> 
    
  </script>